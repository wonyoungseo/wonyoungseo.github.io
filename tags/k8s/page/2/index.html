<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>k8s | Wonyoung's Tech Blog</title><meta name=keywords content><meta name=description content><meta name=author content="Wonyoung Seo"><link rel=canonical href=https://wonyoungseo.github.io/tags/k8s/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.d8cbf60331b9ced42909130bf88f8b97d2eb3de242444dcc9e2df410ceb098b9.css integrity="sha256-2Mv2AzG5ztQpCRML+I+Ll9LrPeJCRE3Mni30EM6wmLk=" rel="preload stylesheet" as=style><link rel=icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><link rel=alternate type=application/rss+xml href=https://wonyoungseo.github.io/tags/k8s/index.xml><meta property="og:title" content="k8s"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://wonyoungseo.github.io/tags/k8s/"><meta property="og:image" content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:updated_time" content="2024-03-20T16:33:33+09:00"><meta property="og:site_name" content="WY's Tech Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="k8s"><meta name=twitter:description content></head><body class=list id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://wonyoungseo.github.io/ accesskey=h title="Tech Blog (Alt + H)">Tech Blog</a>
<span class=logo-switches><a id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://wonyoungseo.github.io/archives/ title=posts><span>posts</span></a></li><li><a href=https://wonyoungseo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://wonyoungseo.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wonyoungseo.github.io/about/ title=about><span>about</span></a></li><li><a href=https://wonyoungseo.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>k8s</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>[KR] Kubernetes - Resource Requirements</h2></header><section class=entry-content><p>쿠버네티스 상에서의 자원 할당 쿠버네티스에서 Pod가 구동되기 위해서는 스케줄링 된 노드 내 가용할 수 있는 리소스를 사용한다.
kube-schduler 는 Pod가 필요로 하는 자원을 어느 노드에서 구동시킬 지 결정함. 만일 모든 노드에서 Pod를 구동시킬 수 있는 자원이 충분히 남아있지 않을 경우 스케줄러는 Pod를 할당하지 않고 스케줄링을 멈춤. Pod를 Pending State 이 됨. STATUS=pending 표기가 되며, Event 에도 Insufficient resource로 표기됨 Resource Requirements Resource Requirements 는 Pod를 구동시키기 위해 필요한 최소 자원을 명시하는 것....</p></section><footer class=entry-footer>March 16, 2024&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Wonyoung Seo</footer><a class=entry-link aria-label="post link to [KR] Kubernetes - Resource Requirements" href=https://wonyoungseo.github.io/posts/2024-03-16-k8s-resource-requirements/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>[KR] Kubernetes - SecurityContext</h2></header><section class=entry-content><p>K8s에서의 컨테이너 보안 기능 도커에서는 Namespace를 통해 user (User Namespace), file system (Mount Namespace) 등을 분리하고, Capabilities 에서 선택적인 권한을 부여하는 등 보안 기능이 있는데, 쿠버네티스에서도 Security Context를 통해 동일하게 적용이 가능하다.
쿠버네티스에서 컨테이너는 Pod로 캡슐화 되므로, 위의 보안 적용은 컨테이너 레벨 또는 Pod 레벨 모두 적용 가능함. Pod 레벨에서 적용할 경우, Pod 내 모든 컨테이너에 동일하게 적용됨. 만일 서로 다른 설정을 컨테이너와 Pod에 설정하면, 컨테이너 설정이 Pod를 오버라이드 함....</p></section><footer class=entry-footer>March 14, 2024&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Wonyoung Seo</footer><a class=entry-link aria-label="post link to [KR] Kubernetes - SecurityContext" href=https://wonyoungseo.github.io/posts/2024-03-14-securitycontext/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Kubernetes - Command / Args / Configmap / Secret</h2></header><section class=entry-content><p>Command & Arguments Docker Image를 기반으로 Pod 를 생성하면서 command 와 argument를 주입하려는 경우
예시 Docker Image
# 예시 DockerfileFROMubuntuENTRYPOINT ["sleep"]CMD ["5"] Pod definition 파일에서 CMD 오버라이드 하기
apiVersion: v1 kind: Pod metadata: name: ubuntu-sleep-pod spec: containers: - name: ubuntu-sleep-pod image: ubuntu-sleep-pod args: ["10"] ## &lt;--- CMD override Pod definition 파일에서 ENTRYPOINT 오버라이드 하기
apiVersion: v1 kind: Pod metadata: name: ubuntu-sleeper-pod spec: containers: - name: ubuntu-sleeper-pod image: ubuntu-sleeper-pod command: ["echo"] # &lt;--- ENTRYPOINT override args: ["10"] # &lt;--- CMD override Environment Variables 환경변수 K8s Pod을 생성하는 과정에서 환경 변수 타입은 크게 3가지가 있음...</p></section><footer class=entry-footer>March 12, 2024&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Wonyoung Seo</footer><a class=entry-link aria-label="post link to Kubernetes - Command / Args / Configmap / Secret" href=https://wonyoungseo.github.io/posts/2024-03-12-k8s-configmap-secret/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>[KR] Kubernetes - Multi-Container Pod</h2></header><section class=entry-content><p>Multi-Container Pod (처음 쿠버네티스와 Pod의 개념에 대해 설명할 때) 파드는 최소의 배포단위이기에 여러 개의 어플리케이션 컨테이너를 묶어 하나의 파드로 배포하는 것은 적절한 사용법이 아님. 그러나, 하나의 파드에 복수의 컨테이너를 함께 구성하여 배포하는 방식이 충분히 고려될 수 있음. 다른 컨테이너를 통해 실행되는 서비스가 메인 어플리케이션을 보조하는 경우 동일 스토리지 또는 네트워크의 공유하는 서비스가 필요한 경우 동일한 라이프사이클을 이루는 경우 생성, 배포, 삭제, 스케일 업다운이 동일하게 적용되어야 하는 경우. 예) 웹서버와 별도로 로깅 서비스가 함께 페어를 이룬 경우 따라서 굳이 별도의 파드에 분리할 필요가 없음....</p></section><footer class=entry-footer>March 8, 2024&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Wonyoung Seo</footer><a class=entry-link aria-label="post link to [KR] Kubernetes - Multi-Container Pod" href=https://wonyoungseo.github.io/posts/2024-03-08-k8s-multiple-container-pod/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wonyoungseo.github.io/tags/k8s/>« Prev Page</a>
<a class=next href=https://wonyoungseo.github.io/tags/k8s/page/3/>Next Page »</a></nav></footer></main><footer class=footer><span>© Wonyoung Seo 2023</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>