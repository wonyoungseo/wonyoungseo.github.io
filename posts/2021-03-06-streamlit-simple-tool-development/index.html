<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[KR] 파이썬 기반 데이터 QC 툴 개발기(근데 이제 또 Streamlit을 곁들인) | Wonyoung's Tech Blog</title><meta name=keywords content="python,streamlit,web application"><meta name=description content="이번 포스트에서는 현재 일하고 있는 Who&rsquo;s Good에서 웹어플리케이션 기반의 간단한 툴을 개발한 과정을 기술합니다. 자세한 사내 업무 내용은 생략하며, 유사한 상황 및 시나리오로 대체했음을 밝힙니다.
 &nbsp
1. Quality Check (QC) 현재 일하고 있는 Who&rsquo;s Good에서는 뉴스 기사를 기반으로 기업의 *ESG 리스크를 평가합니다. 모델을 통해 산출된 결과에 대해서는 꼭 검토 및 검증 프로세스를 거치는데요, 산출된 결과값이 정답인지 아닌지 여부를 확인하는 과정이고, Quality Check 또는 줄여서 QC라고 합니다. 주로 ESG 도메인의 전문가인 ESG 리서쳐 또는 QC 스태프가 이 과업을 수행합니다."><meta name=author content="Wonyoung Seo"><link rel=canonical href=https://wonyoungseo.github.io/posts/2021-03-06-streamlit-simple-tool-development/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.d8cbf60331b9ced42909130bf88f8b97d2eb3de242444dcc9e2df410ceb098b9.css integrity="sha256-2Mv2AzG5ztQpCRML+I+Ll9LrPeJCRE3Mni30EM6wmLk=" rel="preload stylesheet" as=style><link rel=icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><meta property="og:title" content="[KR] 파이썬 기반 데이터 QC 툴 개발기(근데 이제 또 Streamlit을 곁들인)"><meta property="og:description" content="이번 포스트에서는 현재 일하고 있는 Who&rsquo;s Good에서 웹어플리케이션 기반의 간단한 툴을 개발한 과정을 기술합니다. 자세한 사내 업무 내용은 생략하며, 유사한 상황 및 시나리오로 대체했음을 밝힙니다.
 &nbsp
1. Quality Check (QC) 현재 일하고 있는 Who&rsquo;s Good에서는 뉴스 기사를 기반으로 기업의 *ESG 리스크를 평가합니다. 모델을 통해 산출된 결과에 대해서는 꼭 검토 및 검증 프로세스를 거치는데요, 산출된 결과값이 정답인지 아닌지 여부를 확인하는 과정이고, Quality Check 또는 줄여서 QC라고 합니다. 주로 ESG 도메인의 전문가인 ESG 리서쳐 또는 QC 스태프가 이 과업을 수행합니다."><meta property="og:type" content="article"><meta property="og:url" content="https://wonyoungseo.github.io/posts/2021-03-06-streamlit-simple-tool-development/"><meta property="og:image" content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:published_time" content="2021-03-06T13:07:17+09:00"><meta property="article:modified_time" content="2021-03-06T13:07:17+09:00"><meta property="og:site_name" content="WY's Tech Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[KR] 파이썬 기반 데이터 QC 툴 개발기(근데 이제 또 Streamlit을 곁들인)"><meta name=twitter:description content="이번 포스트에서는 현재 일하고 있는 Who&rsquo;s Good에서 웹어플리케이션 기반의 간단한 툴을 개발한 과정을 기술합니다. 자세한 사내 업무 내용은 생략하며, 유사한 상황 및 시나리오로 대체했음을 밝힙니다.
 &nbsp
1. Quality Check (QC) 현재 일하고 있는 Who&rsquo;s Good에서는 뉴스 기사를 기반으로 기업의 *ESG 리스크를 평가합니다. 모델을 통해 산출된 결과에 대해서는 꼭 검토 및 검증 프로세스를 거치는데요, 산출된 결과값이 정답인지 아닌지 여부를 확인하는 과정이고, Quality Check 또는 줄여서 QC라고 합니다. 주로 ESG 도메인의 전문가인 ESG 리서쳐 또는 QC 스태프가 이 과업을 수행합니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[KR] 파이썬 기반 데이터 QC 툴 개발기(근데 이제 또 Streamlit을 곁들인)","name":"[KR] 파이썬 기반 데이터 QC 툴 개발기(근데 이제 또 Streamlit을 곁들인)","description":"이번 포스트에서는 현재 일하고 있는 Who\u0026amp;rsquo;s Good에서 웹어플리케이션 기반의 간단한 툴을 개발한 과정을 기술합니다. 자세한 사내 업무 내용은 생략하며, 유사한 상황 및 시나리오로 대체했음을 밝힙니다.\n \u0026amp;amp;nbsp\n1. Quality Check (QC) 현재 일하고 있는 Who\u0026amp;rsquo;s Good에 …","keywords":["python","streamlit","web application"],"articleBody":" 이번 포스트에서는 현재 일하고 있는 Who’s Good에서 웹어플리케이션 기반의 간단한 툴을 개발한 과정을 기술합니다. 자세한 사내 업무 내용은 생략하며, 유사한 상황 및 시나리오로 대체했음을 밝힙니다.\n \u0026nbsp\n1. Quality Check (QC) 현재 일하고 있는 Who’s Good에서는 뉴스 기사를 기반으로 기업의 *ESG 리스크를 평가합니다. 모델을 통해 산출된 결과에 대해서는 꼭 검토 및 검증 프로세스를 거치는데요, 산출된 결과값이 정답인지 아닌지 여부를 확인하는 과정이고, Quality Check 또는 줄여서 QC라고 합니다. 주로 ESG 도메인의 전문가인 ESG 리서쳐 또는 QC 스태프가 이 과업을 수행합니다.\n(*ESG : Environment, Social, Governance 기업의 환경, 사회, 지배구조)\n1.1. 기존의 QC과정 기존의 QC과정에서는 (1)FTP서버를 통해 모형의 결과를 다운 받아 (2)구글 스프레드시트에서 QC를 진행하고 (3)이를 개발자 또는 DB관리자에 전달하여 DB에 업로드 되게끔 하는 과정을 거쳤습니다. 이 과정을 간단히 아래의 이미지와 같이 간단히 도식화 해보았습니다.\n   1.2. QC과정의 불편한 부분 현재 QC 작업은 불가피하게도 ESG 도메인을 가진 전문가가 수행해야 하고, 데이터의 퀄리티를 유지하기 위해 절대 생략할 수 없는 과정입니다. 하지만 옆에서 제가 관찰한 바로는 기존의 QC 과정에서 몇 가지 불편한 점과 개선할 수 있는 부분들이 분명히 보였습니다.\n 파일질라(Filezilla) 같은 프로그램으로 FTP서버에 접속하여 QC 템플릿을 다운 받는 것이 불편함. 앞서 기술한 바와 같이 뉴스기사를 통해 기업을 분석하기 때문에 기업 관련 기사 발생량에 따라 QC 작업에 걸리는 시간이 매우 다를 수 있음. 따라서, 완료된 QC 결과를 전달하는 시간이 일정하지 못했고, 이에 개발자 또는 DB관리자가 불규칙하게 일일이 대응해야함. QC하는 과정에서 데이터를 수정하거나, 결과를 기입하는 과정에 실수가 발생할 수 있음. 따라서 DB입력 과정에서 에러가 발생하거나, 입력 후 추후 데이터 퀄리티 면에서 문제가 이어지는 등, 불확실한 상황이 이어짐.  물론 이러한 불편한 점들에 대한 피드백과, QC스태프들이 편리하게 사용할 수 있는 QC툴에 대한 니즈가 많았습니다. 하지만 프로젝트의 우선순위(항상 외부를 대응 하는 일들이 더 급하고 중요해서 내부가 밀려나가는 상황)와 개발팀의 일정이 있어, 이러한 부분의 개선이 빠른 시일 내에 이루어질 것 같아 보이진 않았죠 …\n\u0026nbsp\n2. 그래도 이 상태로 계속 갈 수는 없으니까 2.1. 최소한의 요구사항 그래도 제가 도울 수 있는 점이 있지 않을까 싶어, QC툴에 대해 팀원들로부터 의견을 취합해보았고, 수많은 희망사항들을 거르고 걸러서 아래와 같이 의견을 좁혀봤습니다.\n QC템플릿을 다운로드하는 과정이 더 간편했졌으면 좋겠다. QC는 아직 엑셀로 하는게 편하다. 엑셀을 이길 수 있는 걸 가져올 생각이 아니라면 쉽게 생각하지 않는게 좋을 거야 찡끗 QC 결과에 대한 검증이 자동으로 이루어졌으면 좋겠다. QC 결과에 오류가 있다면 업로드가 되지 말아야 한다. 직접 업로드하는 과정이 간편하면 좋다.  2.2. 그러면 Streamlit 을 써보자 저는 개발자는 아닙니다…만, 제가 애용하는 Streamlit을 활용하면 QC툴의 니즈를 어느 정도 충족할 수 있는 툴을 만들 수 있을 것 같았습니다.\n   \u0026nbsp\nStreamlit은 간단하게 ML/DL 어플리케이션을 구현하고 프로토타입을 만들 수 있는 파이썬 기반의 웹어플리케이션 프레임워크로, 2019년 하반기 등장 이후 아주 빠른 속도로 성장하고 있습니다.\nStreamlit은 아주 다양한 기능을 제공하고 있어, ML/DL 관련의 프로토타이핑이라는 기존의 목적 이외에도 더 다양한 용도로 활용 가능합니다. 저 같이 웹 개발에 대한 지식이 전무하고 없고 파이썬 하나만 알고 있더라도, (Django나 Flask를 알지 못 해도) 웹 어플리케이션을 만들 수 있습니다.\nStreamlit이 제공하는 다양한 기능은 Streamlit 소개 글 (클릭)를 참고해주세요.\n2.3. 이렇게 개선해볼 수 있지 않을까 Streamlit을 통해 (1) QC파일 다운로드 (2) QC 결과 검증 (3) QC 파일 업로드 기능을 가진 웹어플리케이션을 개발하고, 슬랙 알림과 DB저장 등의 과정을 스케줄링하는 부분은 Airflow를 통해 구축하기로 했습니다. (이 포스트에서 Airflow에 대한 자세한 내용은 생략하도록 하겠습니다.)\n   \u0026nbsp\n3. 완성된 QC 툴의 예시 완성된 QC툴은 실제 업무 내용이 많이 포함되어 그대로 기술하기에는 어려운 점이 많기 때문에 이 포스트에서는 매우 유사한 형태와 기능을 하는 예제로 대체 했습니다.\n아래 QC툴은 영화 댓글 감성분석 모델의 결과를 검토 및 검증하는 가상의 QC 과정을 수행합니다. 이 툴에서 활용한 데이터는 네이버 영화 댓글 데이터를 가공하여 만든 가상의 데이터(fake data)입니다.\n\u0026nbsp\nQC스태프, 사용자는 QC툴을 활용하여 아래의 과정을 수행합니다.\n  영화 댓글의 긍정/부정 감성분석 결과를 QC 템플릿으로 다운로드 각 산출 결과에 대해 ACCEPT/REJECT 을 입력하여 QC 작업을 수행 결과를 업로드   \u0026nbsp\n그럼 툴을 한번 살펴보도록 하겠습니다. (전체 소스코드는 github에서 확인할 수 있습니다.)\n3.1. 메인 \u0026 QC 가이드라인 페이지 사용자는 간단한 인증 기능을 통해 툴을 활성화 시키고, QC작업을 수행하기에 앞서 QC 가이드라인과 주의사항 등을 확인할 수 있습니다.\n   3.2. QC 템플릿 다운로드 페이지 날짜를 설정하고, 해당 날짜의 데이터에 대한 QC 템플릿을 생성합니다. 사용자는 링크를 클릭해서 QC 템플릿 파일을 다운로드 할 수 있습니다.\n   \u0026nbsp\n각 데이터에 대해 감성분석 모델이 1(긍정) , 0(부정)으로 분류한 결과를 검토하는 QC 템플릿 파일입니다. 사용자는 QC 템플릿 파일 내 qc_result 칼럼에 ACCEPT/REJECT를 입력하며 QC 작업을 수행합니다.\n   3.3. QC 템플릿 업로드 페이지 업로드 페이지에서 사용자는 QC 완료 파일을 업로드 합니다. 이 과정에서는 .xlsx 확장자인 파일만 올릴 수 있도록 하고, 업로드 파일명이 다른 형태를 띄고 있다면 업로드를 제한하는 기능을 포함하고 있습니다.\n그리고 qc_result 컬럼에 기입하지 않은 blank cell이 있는지, ACCEPT/REJECT 이 아닌 다른 값이 입력되진 않았는지 검증 작업을 거쳐 QC Result Validity Test를 통해 사용자에게 패스 여부를 알려줍니다. 검증 작업을 패스하지 못 한다면, 파일을 업로드할 수 없습니다.\n   \u0026nbsp\n마지막으로 사용자는 QC 완료 결과를 다시 한번 검토할 수 있으며, 몇 가지 셀프 체크와 파일을 업로드 하는 본인이 누구인지 선택한 후, QC 완료 파일을 업로드할 수 있습니다.\n   \u0026nbsp\n4. 후기 이런 식으로 개발한 QC툴은 현재도 사내에서 사용 중에 있습니다. 이 대신 잇몸이라는 말처럼, 정식으로 개발한 툴은 아니지만, 불편했던 점을 어느 정도 해소하고, 리소스와 시간을 절약할 수 있게 된 부분이 가장 큰 추후 제대로된 QC툴이나 시스템을 구축할 때 개발팀에서 참조할 수 있는 프로토타입의 역할도 하고 있습니다.\n언뜻 보면 간단한 것들도 실제로 개발하고 구현하려면, 밑바닥에서부터 새로 배워야 하는 것들이 많아서 예전에는 엄두가 안 났었습니다만, Streamlit이 아주 간편해서 앞으로도 급하게 프로토타이핑을 할 때 자주 사용할 것 같습니다. 빛과소금 또트림릿\n5.Source code  Github  6.Reference  Streamlit Documentation Streamlit Discussion NSMC Dataset  ","wordCount":"856","inLanguage":"en","datePublished":"2021-03-06T13:07:17+09:00","dateModified":"2021-03-06T13:07:17+09:00","author":{"@type":"Person","name":"Wonyoung Seo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wonyoungseo.github.io/posts/2021-03-06-streamlit-simple-tool-development/"},"publisher":{"@type":"Organization","name":"Wonyoung's Tech Blog","logo":{"@type":"ImageObject","url":"https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://wonyoungseo.github.io/ accesskey=h title="Tech Blog (Alt + H)">Tech Blog</a>
<span class=logo-switches><a id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://wonyoungseo.github.io/archives/ title=posts><span>posts</span></a></li><li><a href=https://wonyoungseo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://wonyoungseo.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wonyoungseo.github.io/about/ title=about><span>about</span></a></li><li><a href=https://wonyoungseo.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[KR] 파이썬 기반 데이터 QC 툴 개발기(근데 이제 또 Streamlit을 곁들인)</h1><div class=post-meta>March 6, 2021&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Wonyoung Seo</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#1-quality-check-qc aria-label="1. Quality Check (QC)">1. Quality Check (QC)</a><ul><li><a href=#11-%ea%b8%b0%ec%a1%b4%ec%9d%98-qc%ea%b3%bc%ec%a0%95 aria-label="1.1. 기존의 QC과정">1.1. 기존의 QC과정</a></li><li><a href=#12-qc%ea%b3%bc%ec%a0%95%ec%9d%98-%eb%b6%88%ed%8e%b8%ed%95%9c-%eb%b6%80%eb%b6%84 aria-label="1.2. QC과정의 불편한 부분">1.2. QC과정의 불편한 부분</a></li></ul></li><li><a href=#2-%ea%b7%b8%eb%9e%98%eb%8f%84-%ec%9d%b4-%ec%83%81%ed%83%9c%eb%a1%9c-%ea%b3%84%ec%86%8d-%ea%b0%88-%ec%88%98%eb%8a%94-%ec%97%86%ec%9c%bc%eb%8b%88%ea%b9%8c aria-label="2. 그래도 이 상태로 계속 갈 수는 없으니까">2. 그래도 이 상태로 계속 갈 수는 없으니까</a><ul><li><a href=#21-%ec%b5%9c%ec%86%8c%ed%95%9c%ec%9d%98-%ec%9a%94%ea%b5%ac%ec%82%ac%ed%95%ad aria-label="2.1. 최소한의 요구사항">2.1. 최소한의 요구사항</a></li><li><a href=#22-%ea%b7%b8%eb%9f%ac%eb%a9%b4-streamlit-%ec%9d%84-%ec%8d%a8%eb%b3%b4%ec%9e%90 aria-label="2.2. 그러면 Streamlit 을 써보자">2.2. 그러면 <strong>Streamlit</strong> 을 써보자</a></li><li><a href=#23-%ec%9d%b4%eb%a0%87%ea%b2%8c-%ea%b0%9c%ec%84%a0%ed%95%b4%eb%b3%bc-%ec%88%98-%ec%9e%88%ec%a7%80-%ec%95%8a%ec%9d%84%ea%b9%8c aria-label="2.3. 이렇게 개선해볼 수 있지 않을까">2.3. 이렇게 개선해볼 수 있지 않을까</a></li></ul></li><li><a href=#3-%ec%99%84%ec%84%b1%eb%90%9c-qc-%ed%88%b4%ec%9d%98-%ec%98%88%ec%8b%9c aria-label="3. 완성된 QC 툴의 예시">3. 완성된 QC 툴의 예시</a><ul><li><a href=#31-%eb%a9%94%ec%9d%b8--qc-%ea%b0%80%ec%9d%b4%eb%93%9c%eb%9d%bc%ec%9d%b8-%ed%8e%98%ec%9d%b4%ec%a7%80 aria-label="3.1. 메인 &amp;amp; QC 가이드라인 페이지">3.1. 메인 & QC 가이드라인 페이지</a></li><li><a href=#32-qc-%ed%85%9c%ed%94%8c%eb%a6%bf-%eb%8b%a4%ec%9a%b4%eb%a1%9c%eb%93%9c-%ed%8e%98%ec%9d%b4%ec%a7%80 aria-label="3.2. QC 템플릿 다운로드 페이지">3.2. QC 템플릿 다운로드 페이지</a></li><li><a href=#33-qc-%ed%85%9c%ed%94%8c%eb%a6%bf-%ec%97%85%eb%a1%9c%eb%93%9c-%ed%8e%98%ec%9d%b4%ec%a7%80 aria-label="3.3. QC 템플릿 업로드 페이지">3.3. QC 템플릿 업로드 페이지</a></li></ul></li><li><a href=#4-%ed%9b%84%ea%b8%b0 aria-label="4. 후기">4. 후기</a></li><li><a href=#5source-code aria-label="5.Source code">5.Source code</a></li><li><a href=#6reference aria-label=6.Reference>6.Reference</a></li></ul></div></details></div><div class=post-content><blockquote><p><em>이번 포스트에서는 현재 일하고 있는 Who&rsquo;s Good에서 웹어플리케이션 기반의 간단한 툴을 개발한 과정을 기술합니다. 자세한 사내 업무 내용은 생략하며, 유사한 상황 및 시나리오로 대체했음을 밝힙니다.</em></p></blockquote><p>&nbsp</p><h1 id=1-quality-check-qc>1. Quality Check (QC)<a hidden class=anchor aria-hidden=true href=#1-quality-check-qc>#</a></h1><p>현재 일하고 있는 Who&rsquo;s Good에서는 뉴스 기사를 기반으로 기업의 *ESG 리스크를 평가합니다. 모델을 통해 산출된 결과에 대해서는 꼭 검토 및 검증 프로세스를 거치는데요, 산출된 결과값이 정답인지 아닌지 여부를 확인하는 과정이고, <strong>Quality Check</strong> 또는 줄여서 QC라고 합니다. 주로 ESG 도메인의 전문가인 ESG 리서쳐 또는 QC 스태프가 이 과업을 수행합니다.</p><p>(*ESG : Environment, Social, Governance 기업의 환경, 사회, 지배구조)</p><h2 id=11-기존의-qc과정>1.1. 기존의 QC과정<a hidden class=anchor aria-hidden=true href=#11-기존의-qc과정>#</a></h2><p>기존의 QC과정에서는 (1)FTP서버를 통해 모형의 결과를 다운 받아 (2)구글 스프레드시트에서 QC를 진행하고 (3)이를 개발자 또는 DB관리자에 전달하여 DB에 업로드 되게끔 하는 과정을 거쳤습니다. 이 과정을 간단히 아래의 이미지와 같이 간단히 도식화 해보았습니다.</p><figure><center><img src=/2021-03-06-streamlit-simple-tool-development/prev-process.png></center></figure><h2 id=12-qc과정의-불편한-부분>1.2. QC과정의 불편한 부분<a hidden class=anchor aria-hidden=true href=#12-qc과정의-불편한-부분>#</a></h2><p>현재 QC 작업은 불가피하게도 ESG 도메인을 가진 전문가가 수행해야 하고, 데이터의 퀄리티를 유지하기 위해 절대 생략할 수 없는 과정입니다. 하지만 옆에서 제가 관찰한 바로는 기존의 QC 과정에서 몇 가지 불편한 점과 개선할 수 있는 부분들이 분명히 보였습니다.</p><ol><li>파일질라(Filezilla) 같은 프로그램으로 FTP서버에 접속하여 QC 템플릿을 다운 받는 것이 불편함.</li><li>앞서 기술한 바와 같이 뉴스기사를 통해 기업을 분석하기 때문에 기업 관련 기사 발생량에 따라 QC 작업에 걸리는 시간이 매우 다를 수 있음. 따라서, 완료된 QC 결과를 전달하는 시간이 일정하지 못했고, 이에 개발자 또는 DB관리자가 불규칙하게 일일이 대응해야함.</li><li>QC하는 과정에서 데이터를 수정하거나, 결과를 기입하는 과정에 실수가 발생할 수 있음. 따라서 DB입력 과정에서 에러가 발생하거나, 입력 후 추후 데이터 퀄리티 면에서 문제가 이어지는 등, 불확실한 상황이 이어짐.</li></ol><p>물론 이러한 불편한 점들에 대한 피드백과, QC스태프들이 편리하게 사용할 수 있는 QC툴에 대한 니즈가 많았습니다. 하지만 프로젝트의 우선순위(항상 외부를 대응 하는 일들이 더 급하고 중요해서 내부가 밀려나가는 상황)와 개발팀의 일정이 있어, 이러한 부분의 개선이 빠른 시일 내에 이루어질 것 같아 보이진 않았죠 &mldr;</p><p>&nbsp</p><h1 id=2-그래도-이-상태로-계속-갈-수는-없으니까>2. 그래도 이 상태로 계속 갈 수는 없으니까<a hidden class=anchor aria-hidden=true href=#2-그래도-이-상태로-계속-갈-수는-없으니까>#</a></h1><h2 id=21-최소한의-요구사항>2.1. 최소한의 요구사항<a hidden class=anchor aria-hidden=true href=#21-최소한의-요구사항>#</a></h2><p>그래도 제가 도울 수 있는 점이 있지 않을까 싶어, QC툴에 대해 팀원들로부터 의견을 취합해보았고, 수많은 희망사항들을 거르고 걸러서 아래와 같이 의견을 좁혀봤습니다.</p><ol><li>QC템플릿을 다운로드하는 과정이 더 간편했졌으면 좋겠다.</li><li>QC는 아직 엑셀로 하는게 편하다. <del>엑셀을 이길 수 있는 걸 가져올 생각이 아니라면 쉽게 생각하지 않는게 좋을 거야 찡끗</del></li><li>QC 결과에 대한 검증이 자동으로 이루어졌으면 좋겠다.</li><li>QC 결과에 오류가 있다면 업로드가 되지 말아야 한다.</li><li>직접 업로드하는 과정이 간편하면 좋다.</li></ol><h2 id=22-그러면-streamlit-을-써보자>2.2. 그러면 <strong>Streamlit</strong> 을 써보자<a hidden class=anchor aria-hidden=true href=#22-그러면-streamlit-을-써보자>#</a></h2><p>저는 개발자는 아닙니다&mldr;만, 제가 애용하는 <strong>Streamlit</strong>을 활용하면 QC툴의 니즈를 어느 정도 충족할 수 있는 툴을 만들 수 있을 것 같았습니다.</p><figure><center><img src=/2021-03-06-streamlit-simple-tool-development/streamlit_logo.png></center></figure><p>&nbsp</p><p><strong>Streamlit</strong>은 간단하게 ML/DL 어플리케이션을 구현하고 프로토타입을 만들 수 있는 파이썬 기반의 웹어플리케이션 프레임워크로, 2019년 하반기 등장 이후 아주 빠른 속도로 성장하고 있습니다.</p><p><strong>Streamlit</strong>은 아주 다양한 기능을 제공하고 있어, ML/DL 관련의 프로토타이핑이라는 기존의 목적 이외에도 더 다양한 용도로 활용 가능합니다. 저 같이 웹 개발에 대한 지식이 전무하고 없고 파이썬 하나만 알고 있더라도, (Django나 Flask를 알지 못 해도) 웹 어플리케이션을 만들 수 있습니다.</p><p><strong>Streamlit</strong>이 제공하는 다양한 기능은 <a href=https://lucaseo.github.io/posts/2020-03-13-intro-to-streamlit/ target=_blank>Streamlit 소개 글 (클릭)</a>를 참고해주세요.</p><h2 id=23-이렇게-개선해볼-수-있지-않을까>2.3. 이렇게 개선해볼 수 있지 않을까<a hidden class=anchor aria-hidden=true href=#23-이렇게-개선해볼-수-있지-않을까>#</a></h2><p><strong>Streamlit</strong>을 통해 (1) QC파일 다운로드 (2) QC 결과 검증 (3) QC 파일 업로드 기능을 가진 웹어플리케이션을 개발하고, 슬랙 알림과 DB저장 등의 과정을 스케줄링하는 부분은 Airflow를 통해 구축하기로 했습니다. (이 포스트에서 Airflow에 대한 자세한 내용은 생략하도록 하겠습니다.)</p><figure><center><img src=/2021-03-06-streamlit-simple-tool-development/curr-process.png></center></figure><p>&nbsp</p><h1 id=3-완성된-qc-툴의-예시>3. 완성된 QC 툴의 예시<a hidden class=anchor aria-hidden=true href=#3-완성된-qc-툴의-예시>#</a></h1><p>완성된 QC툴은 실제 업무 내용이 많이 포함되어 그대로 기술하기에는 어려운 점이 많기 때문에 이 포스트에서는 매우 유사한 형태와 기능을 하는 예제로 대체 했습니다.</p><p>아래 QC툴은 영화 댓글 감성분석 모델의 결과를 검토 및 검증하는 가상의 QC 과정을 수행합니다. 이 툴에서 활용한 데이터는 네이버 영화 댓글 데이터를 가공하여 만든 가상의 데이터(fake data)입니다.</p><p>&nbsp</p><p>QC스태프, 사용자는 QC툴을 활용하여 아래의 과정을 수행합니다.</p><blockquote><ol><li>영화 댓글의 긍정/부정 감성분석 결과를 QC 템플릿으로 다운로드</li><li>각 산출 결과에 대해 <code>ACCEPT/REJECT</code> 을 입력하여 QC 작업을 수행</li><li>결과를 업로드</li></ol></blockquote><p>&nbsp</p><p>그럼 툴을 한번 살펴보도록 하겠습니다. (전체 소스코드는 <a href=https://github.com/lucaseo/streamlit-examples/tree/master/04_demo_apps/streamlit_qc_tool target=_blank>github</a>에서 확인할 수 있습니다.)</p><h2 id=31-메인--qc-가이드라인-페이지>3.1. 메인 & QC 가이드라인 페이지<a hidden class=anchor aria-hidden=true href=#31-메인--qc-가이드라인-페이지>#</a></h2><p>사용자는 간단한 인증 기능을 통해 툴을 활성화 시키고, QC작업을 수행하기에 앞서 QC 가이드라인과 주의사항 등을 확인할 수 있습니다.</p><figure><center><img src=/2021-03-06-streamlit-simple-tool-development/main.gif></center></figure><h2 id=32-qc-템플릿-다운로드-페이지>3.2. QC 템플릿 다운로드 페이지<a hidden class=anchor aria-hidden=true href=#32-qc-템플릿-다운로드-페이지>#</a></h2><p>날짜를 설정하고, 해당 날짜의 데이터에 대한 QC 템플릿을 생성합니다. 사용자는 링크를 클릭해서 QC 템플릿 파일을 다운로드 할 수 있습니다.</p><figure><center><img src=/2021-03-06-streamlit-simple-tool-development/download.gif></center></figure><p>&nbsp</p><p>각 데이터에 대해 감성분석 모델이 1(긍정) , 0(부정)으로 분류한 결과를 검토하는 QC 템플릿 파일입니다. 사용자는 QC 템플릿 파일 내 <code>qc_result</code> 칼럼에 <code>ACCEPT/REJECT</code>를 입력하며 QC 작업을 수행합니다.</p><figure><center><img src=/2021-03-06-streamlit-simple-tool-development/excel-file.png></center></figure><h2 id=33-qc-템플릿-업로드-페이지>3.3. QC 템플릿 업로드 페이지<a hidden class=anchor aria-hidden=true href=#33-qc-템플릿-업로드-페이지>#</a></h2><p>업로드 페이지에서 사용자는 QC 완료 파일을 업로드 합니다. 이 과정에서는 <code>.xlsx</code> 확장자인 파일만 올릴 수 있도록 하고, 업로드 파일명이 다른 형태를 띄고 있다면 업로드를 제한하는 기능을 포함하고 있습니다.</p><p>그리고 <code>qc_result</code> 컬럼에 기입하지 않은 blank cell이 있는지, <code>ACCEPT/REJECT</code> 이 아닌 다른 값이 입력되진 않았는지 검증 작업을 거쳐 <code>QC Result Validity Test</code>를 통해 사용자에게 패스 여부를 알려줍니다. 검증 작업을 패스하지 못 한다면, 파일을 업로드할 수 없습니다.</p><figure><center><img src=/2021-03-06-streamlit-simple-tool-development/upload-1.gif></center></figure><p>&nbsp</p><p>마지막으로 사용자는 QC 완료 결과를 다시 한번 검토할 수 있으며, 몇 가지 셀프 체크와 파일을 업로드 하는 본인이 누구인지 선택한 후, QC 완료 파일을 업로드할 수 있습니다.</p><figure><center><img src=/2021-03-06-streamlit-simple-tool-development/upload-2.gif></center></figure><p>&nbsp</p><h1 id=4-후기>4. 후기<a hidden class=anchor aria-hidden=true href=#4-후기>#</a></h1><p>이런 식으로 개발한 QC툴은 현재도 사내에서 사용 중에 있습니다. 이 대신 잇몸이라는 말처럼, 정식으로 개발한 툴은 아니지만, 불편했던 점을 어느 정도 해소하고, 리소스와 시간을 절약할 수 있게 된 부분이 가장 큰 추후 제대로된 QC툴이나 시스템을 구축할 때 개발팀에서 참조할 수 있는 프로토타입의 역할도 하고 있습니다.</p><p>언뜻 보면 간단한 것들도 실제로 개발하고 구현하려면, 밑바닥에서부터 새로 배워야 하는 것들이 많아서 예전에는 엄두가 안 났었습니다만, <strong>Streamlit</strong>이 아주 간편해서 앞으로도 급하게 프로토타이핑을 할 때 자주 사용할 것 같습니다. <del>빛과소금 또트림릿</del></p><h1 id=5source-code>5.Source code<a hidden class=anchor aria-hidden=true href=#5source-code>#</a></h1><ul><li><a href=https://github.com/lucaseo/streamlit-examples/tree/master/04_demo_apps/streamlit_qc_tool target=_blank>Github</a></li></ul><h1 id=6reference>6.Reference<a hidden class=anchor aria-hidden=true href=#6reference>#</a></h1><ul><li><a href=https://docs.streamlit.io/en/stable/ target=_blank>Streamlit Documentation</a></li><li><a href=https://discuss.streamlit.io/ target=_blank>Streamlit Discussion</a></li><li><a href=https://github.com/e9t/nsmc target=_blank>NSMC Dataset</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://wonyoungseo.github.io/tags/python/>python</a></li><li><a href=https://wonyoungseo.github.io/tags/streamlit/>streamlit</a></li><li><a href=https://wonyoungseo.github.io/tags/web-application/>web application</a></li></ul></footer></article></main><footer class=footer><span>© Wonyoung Seo 2023</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>