<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[KR] Docker 기본 명령어 | WY's Tech Blog</title><meta name=keywords content="docker"><meta name=description content="본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.
 1. 도커의 기본적인 명령어 ls (또는 ps)  docker container ls (= docker ps)  실행 중인 컨테이넝   docker container ls -a  실행이 중지된 컨테이너까지 출력    stop docker stop [OPTIONS] CONTAINER [CONTAINER ... ]  실행 중인 컨테이너를 중지하는 명령어 실행 중인 컨테이너를 복수로 중지시킬 수도 있음  rm docker rm [OPTIONS] CONTAINER [CONTAINER ."><meta name=author content="Wyoung Seo"><link rel=canonical href=https://lucaseo.github.io/posts/2021-04-11-docker-basic-commands/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.d8cbf60331b9ced42909130bf88f8b97d2eb3de242444dcc9e2df410ceb098b9.css integrity="sha256-2Mv2AzG5ztQpCRML+I+Ll9LrPeJCRE3Mni30EM6wmLk=" rel="preload stylesheet" as=style><link rel=icon href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><meta property="og:title" content="[KR] Docker 기본 명령어"><meta property="og:description" content="본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.
 1. 도커의 기본적인 명령어 ls (또는 ps)  docker container ls (= docker ps)  실행 중인 컨테이넝   docker container ls -a  실행이 중지된 컨테이너까지 출력    stop docker stop [OPTIONS] CONTAINER [CONTAINER ... ]  실행 중인 컨테이너를 중지하는 명령어 실행 중인 컨테이너를 복수로 중지시킬 수도 있음  rm docker rm [OPTIONS] CONTAINER [CONTAINER ."><meta property="og:type" content="article"><meta property="og:url" content="https://lucaseo.github.io/posts/2021-04-11-docker-basic-commands/"><meta property="og:image" content="https://lucaseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:published_time" content="2021-04-11T23:53:30+09:00"><meta property="article:modified_time" content="2021-04-11T23:53:30+09:00"><meta property="og:site_name" content="WY's Tech Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lucaseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[KR] Docker 기본 명령어"><meta name=twitter:description content="본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.
 1. 도커의 기본적인 명령어 ls (또는 ps)  docker container ls (= docker ps)  실행 중인 컨테이넝   docker container ls -a  실행이 중지된 컨테이너까지 출력    stop docker stop [OPTIONS] CONTAINER [CONTAINER ... ]  실행 중인 컨테이너를 중지하는 명령어 실행 중인 컨테이너를 복수로 중지시킬 수도 있음  rm docker rm [OPTIONS] CONTAINER [CONTAINER ."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[KR] Docker 기본 명령어","name":"[KR] Docker 기본 명령어","description":"본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.\n 1. 도커의 기본적인 명령어 ls (또는 ps)  docker container ls (= docker ps)  실행 중인 컨테이넝   docker container ls -a  실행이 중지된 컨테이너까지 출력    stop docker …","keywords":["docker"],"articleBody":" 본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.\n 1. 도커의 기본적인 명령어 ls (또는 ps)  docker container ls (= docker ps)  실행 중인 컨테이넝   docker container ls -a  실행이 중지된 컨테이너까지 출력    stop docker stop [OPTIONS] CONTAINER [CONTAINER ... ]  실행 중인 컨테이너를 중지하는 명령어 실행 중인 컨테이너를 복수로 중지시킬 수도 있음  rm docker rm [OPTIONS] CONTAINER [CONTAINER ... ]  종료된 컨테이너를 삭제하는 명령어  logs docker logs [OPTIONS] CONTAINER  기본 옵션  -f : fetch. 새로고침 할 때마다 로그 발생 시 실시간으로 업데이트 됨 --detail: 가장 마지막 부분을 보여줌   컨테이너가 정상적으로 동작하는지 확인하는 좋은 방법 중 하나  pull ``` docker pull [OPTIONS] NAME[:TAG|@DIGEST] ``` - 도커 이미지 다운로드  rmi ``` docker rmi [OPTIONS] IMAGE [IMAGE...] ``` - 도커 이미지 삭제 - 단, 컨테이너가 실행중인 이미지는 삭제되지 않음.  2. run docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG...]  기능  컨테이너 실행   명령어  -d : detached mode (백그라운드 모드) -p : 호스트와 컨테이너의 포트를 연결 -v : 호스트와 컨테이너의 디렉토리 연결 -e : 컨테이너 내에서 사용할 환경변수 설정 --name : 컨테이너 이름 설정 --rm : 프로세스 종료시 컨테이너 자동 제거  이 옵션이 없다면, 컨테이너가 종료되더라도 삭제되지 않고 남아있어 수동으로 삭제해야 함.   -it : 사용자가 사용할 수 있는 터미널을 위한 옵션  -i : 입력을 가능하게 하기 -t : 터미널 띄우기   --network : 네트워크 연결   설명  run 명령어를 사용하면, 사용할 이미지가 이미 저장되어 있는지 확인 후, 없다면 pull한 뒤, 컨테이너를 create하고 start함  각각의 동작들은 각각의 명령어로도 따로 실행 가능함.   컨테이너가 실행되지만, 별 다른 명령어를 전달하지 않으면, 생성되자마자 종료됨.  컨테이너는 기본적으로 프로세스이기 때문에, 실행 중인 프로세스가 없으면 컨테이너는 종료됨. 예시: docker run ubuntu:20.04      3. exec  이미 실행중인 도커 컨테이너에 접속할 때 사용 컨테이너 안에 ssh server 등을 설치하지 않고 접속함.  4. network docker network create [OPTIONS] NETWORK  도커 컨테이너끼리 이름으로 통신할 수 있는 가상 네트워크를 만듬  docker network connect [OPTIONS] NETWORK CONTAINER  기존에 생성된 컨테이너에 네트워크를 추가  5. volumn (-v)  호스트의 드라이브를 마운트 시키는 명령어 마운트된 드라이브 없이 컨테이너를 중지/삭제시키면 데이터가 날라가게 됨 따라서 데이터를 저장하고 싶다면, 드라이브를 볼륨으로 마운트시켜야 함.  -v [my own dir]:[container dir] 6. 예제  우분투 이미지 컨테이너로 띄우기  docker run --rm -it ubuntu:20.04 /bin/sh  /bin/sh : sh를 실행함 -it : 키보드 입력 --rm : 프로세스 종료 후 컨테이너 자동 삭제  웹 어플리케이션 실행  docker run --rm -p 5678:5678 hashicorp/http-echo -text=\"helllo world\"  -p : 포트 연결 [호스트 포트]:[도커 내 포트] -text : 웹 어플리케이션에 들어가는 변수 전달  Redis 실행하기 (메모리기반 데이터베이스)  docker run --rm -p 1234:6379 redis  레디스 테스트 해보기  set hello world get hello quit MySQL 실행하기  docker run -d -p 3306:3306 \\ -e MYSQL_ALLOW_EMPTY_PASSWORD=true \\ --name mysql \\ mysql/mysql-server:8.0.15   mysql 패스워드를 입력하지 않겠다는 환경변수를 -e로 패스\n  --name : 컨테이너에 이름 설정\n  -d : 백그라운드로 실행\n  실제로 실행을 해서 워드프레스용 DB를 생성함.\n docker exec -it mysql mysql mysql 이라는 컨테이너에서 mysql이라는 명령어를 실행    create database wp CHARACTER SET utf8; CREATE USER wp@'%' IDENTIFIED BY 'wp'; GRANT ALL PRIVILEGES ON wp.* TO wp@'%' WITH GRANT OPTION; flush privileges; quit 워드프레스 블로그 실행하기 (앞서 MySQL이 실행 중인 상태에서)  docker run -d -p 8080:80 \\ -e WORDPRESS_DB_HOST=host.docker.internal \\ -e WORDPRESS_DB_NAME=wp \\ -e WORDPRESS_DB_USER=wp \\ -e WORDPRESS_DB_PASSWORD=wp \\ wordpress  기존에 띄워져 있던 mysql 컨테이너의 데이터베이스를 이용해서 워드프레스 블로그를 띄움.  네트워크  docker network create app-network  app-network라는 이름으로 네트워크를 만듬 (wordpress - mysql을 연결)  docker network connect app-network mysql  mysql 컨테이너에 네트워크를 추가  docker run -d -p 8080:80 \\ --network=app-network \\ -e WORDPRESS_DB_HOST=mysql \\ -e WORDPRESS_DB_NAME=wp \\ -e WORDPRESS_DB_USER=wp \\ -e WORDPRESS_DB_PASSWORD=wp \\ wordpress  워드프레스는 이미지를 실행할 때 네트워크를 지정해볼 수 있음 network는 위에서 생성한 app-network를 지정하고, host는 mysql의 이름으로 접근함.  docker stop mysql docker rm mysql docker run -d -p 3306:3306 \\ -e MYSQL_ALLOW_EMPTY_PASSWORD=true \\ --network=app-network \\ --name mysql \\ -v /Users/wg/dvlp/Lucas/learn_container/volumn:/var/lib/mysql \\ mysql/mysql-server:8.0.15 docker exec -it mysql mysql create database wp CHARACTER SET utf8; CREATE USER wp@'%' IDENTIFIED BY 'wp'; GRANT ALL PRIVILEGES ON wp.* TO wp@'%' WITH GRANT OPTION; flush privileges; quit\t 기존의 mysql 컨테이너를 삭제하고 volumn을 마운트 시켜 다시 띄움 이 경우 mysql의 데이터베이스는 마운트된 디렉토리에 데이터가 남게 되므로, 나중에 다시 동일한 연결하더라도 데이터를 유지할 수 있음.  Reference  인프런 초보를 위한 도커 안내서  ","wordCount":"660","inLanguage":"en","datePublished":"2021-04-11T23:53:30+09:00","dateModified":"2021-04-11T23:53:30+09:00","author":{"@type":"Person","name":"Wyoung Seo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lucaseo.github.io/posts/2021-04-11-docker-basic-commands/"},"publisher":{"@type":"Organization","name":"WY's Tech Blog","logo":{"@type":"ImageObject","url":"https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://lucaseo.github.io/ accesskey=h title="Tech Blog (Alt + H)">Tech Blog</a>
<span class=logo-switches><a id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://lucaseo.github.io/archives/ title=posts><span>posts</span></a></li><li><a href=https://lucaseo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://lucaseo.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://lucaseo.github.io/about/ title=about><span>about</span></a></li><li><a href=https://lucaseo.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[KR] Docker 기본 명령어</h1><div class=post-meta>April 11, 2021&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Wyoung Seo</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#1-%eb%8f%84%ec%bb%a4%ec%9d%98-%ea%b8%b0%eb%b3%b8%ec%a0%81%ec%9d%b8-%eb%aa%85%eb%a0%b9%ec%96%b4 aria-label="1. 도커의 기본적인 명령어">1. 도커의 기본적인 명령어</a><ul><li><a href=#ls-%eb%98%90%eb%8a%94-ps aria-label="ls (또는 ps)">ls (또는 ps)</a></li><li><a href=#stop aria-label=stop>stop</a></li><li><a href=#rm aria-label=rm>rm</a></li><li><a href=#logs aria-label=logs>logs</a></li><li><a href=#pull aria-label=pull>pull</a></li><li><a href=#rmi aria-label=rmi>rmi</a></li></ul></li><li><a href=#2-run aria-label="2. run">2. run</a></li><li><a href=#3-exec aria-label="3. exec">3. exec</a></li><li><a href=#4-network aria-label="4. network">4. network</a></li><li><a href=#5-volumn--v aria-label="5. volumn (-v)">5. volumn (-v)</a></li><li><a href=#6-%ec%98%88%ec%a0%9c aria-label="6. 예제">6. 예제</a></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><blockquote><p>본 포스트는 <strong>인프런: 초보를 위한 도커 안내서</strong> 강의를 수강하며 정리한 내용입니다.</p></blockquote><h2 id=1-도커의-기본적인-명령어>1. 도커의 기본적인 명령어<a hidden class=anchor aria-hidden=true href=#1-도커의-기본적인-명령어>#</a></h2><h3 id=ls-또는-ps>ls (또는 ps)<a hidden class=anchor aria-hidden=true href=#ls-또는-ps>#</a></h3><ul><li><code>docker container ls (= docker ps)</code><ul><li>실행 중인 컨테이넝</li></ul></li><li><code>docker container ls -a</code><ul><li>실행이 중지된 컨테이너까지 출력</li></ul></li></ul><h3 id=stop>stop<a hidden class=anchor aria-hidden=true href=#stop>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker stop <span style=color:#f92672>[</span>OPTIONS<span style=color:#f92672>]</span> CONTAINER <span style=color:#f92672>[</span>CONTAINER ... <span style=color:#f92672>]</span>
</code></pre></div><ul><li>실행 중인 컨테이너를 중지하는 명령어</li><li>실행 중인 컨테이너를 복수로 중지시킬 수도 있음</li></ul><h3 id=rm>rm<a hidden class=anchor aria-hidden=true href=#rm>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker rm <span style=color:#f92672>[</span>OPTIONS<span style=color:#f92672>]</span> CONTAINER <span style=color:#f92672>[</span>CONTAINER ... <span style=color:#f92672>]</span>
</code></pre></div><ul><li>종료된 컨테이너를 삭제하는 명령어</li></ul><h3 id=logs>logs<a hidden class=anchor aria-hidden=true href=#logs>#</a></h3><pre><code>docker logs [OPTIONS] CONTAINER
</code></pre><ul><li>기본 옵션<ul><li><code>-f</code> : fetch. 새로고침 할 때마다 로그 발생 시 실시간으로 업데이트 됨</li><li><code>--detail</code>: 가장 마지막 부분을 보여줌</li></ul></li><li>컨테이너가 정상적으로 동작하는지 확인하는 좋은 방법 중 하나</li></ul><h3 id=pull>pull<a hidden class=anchor aria-hidden=true href=#pull>#</a></h3><pre><code>```
docker pull [OPTIONS] NAME[:TAG|@DIGEST]
```
- 도커 이미지 다운로드
</code></pre><h3 id=rmi>rmi<a hidden class=anchor aria-hidden=true href=#rmi>#</a></h3><pre><code>```
docker rmi [OPTIONS] IMAGE [IMAGE...]
```
- 도커 이미지 삭제
- 단, 컨테이너가 실행중인 이미지는 삭제되지 않음.
</code></pre><h2 id=2-run>2. run<a hidden class=anchor aria-hidden=true href=#2-run>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker run <span style=color:#f92672>[</span>OPTIONS<span style=color:#f92672>]</span> IMAGE<span style=color:#f92672>[</span>:TAG|@DIGEST<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>COMMAND<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>ARG...<span style=color:#f92672>]</span>
</code></pre></div><ul><li>기능<ul><li>컨테이너 실행</li></ul></li><li>명령어<ul><li><code>-d</code> : detached mode (백그라운드 모드)</li><li><code>-p</code> : 호스트와 컨테이너의 포트를 연결</li><li><code>-v</code> : 호스트와 컨테이너의 디렉토리 연결</li><li><code>-e</code> : 컨테이너 내에서 사용할 환경변수 설정</li><li><code>--name</code> : 컨테이너 이름 설정</li><li><code>--rm</code> : 프로세스 종료시 컨테이너 자동 제거<ul><li>이 옵션이 없다면, 컨테이너가 종료되더라도 삭제되지 않고 남아있어 수동으로 삭제해야 함.</li></ul></li><li><code>-it</code> : 사용자가 사용할 수 있는 터미널을 위한 옵션<ul><li><code>-i</code> : 입력을 가능하게 하기</li><li><code>-t</code> : 터미널 띄우기</li></ul></li><li><code>--network</code> : 네트워크 연결</li></ul></li><li>설명<ul><li>run 명령어를 사용하면, 사용할 이미지가 이미 저장되어 있는지 확인 후, 없다면 pull한 뒤, 컨테이너를 create하고 start함<ul><li>각각의 동작들은 각각의 명령어로도 따로 실행 가능함.</li></ul></li><li>컨테이너가 실행되지만, 별 다른 명령어를 전달하지 않으면, 생성되자마자 종료됨.<ul><li>컨테이너는 기본적으로 <strong>프로세스</strong>이기 때문에, 실행 중인 프로세스가 없으면 컨테이너는 종료됨.</li><li>예시: <code>docker run ubuntu:20.04</code></li></ul></li></ul></li></ul><h2 id=3-exec>3. exec<a hidden class=anchor aria-hidden=true href=#3-exec>#</a></h2><ul><li>이미 실행중인 도커 컨테이너에 접속할 때 사용</li><li>컨테이너 안에 ssh server 등을 설치하지 않고 접속함.</li></ul><h2 id=4-network>4. network<a hidden class=anchor aria-hidden=true href=#4-network>#</a></h2><pre><code>docker network create [OPTIONS] NETWORK
</code></pre><ul><li>도커 컨테이너끼리 이름으로 통신할 수 있는 가상 네트워크를 만듬</li></ul><pre><code>docker network connect [OPTIONS] NETWORK CONTAINER
</code></pre><ul><li>기존에 생성된 컨테이너에 네트워크를 추가</li></ul><h2 id=5-volumn--v>5. volumn (-v)<a hidden class=anchor aria-hidden=true href=#5-volumn--v>#</a></h2><ul><li>호스트의 드라이브를 마운트 시키는 명령어</li><li>마운트된 드라이브 없이 컨테이너를 중지/삭제시키면 데이터가 날라가게 됨</li><li>따라서 데이터를 저장하고 싶다면, 드라이브를 볼륨으로 마운트시켜야 함.</li></ul><pre><code>-v [my own dir]:[container dir]
</code></pre><h2 id=6-예제>6. 예제<a hidden class=anchor aria-hidden=true href=#6-예제>#</a></h2><ol><li>우분투 이미지 컨테이너로 띄우기</li></ol><pre><code>docker run --rm -it ubuntu:20.04 /bin/sh
</code></pre><ul><li><code>/bin/sh</code> : sh를 실행함</li><li><code>-it</code> : 키보드 입력</li><li><code>--rm</code> : 프로세스 종료 후 컨테이너 자동 삭제</li></ul><ol start=2><li>웹 어플리케이션 실행</li></ol><pre><code>docker run --rm -p 5678:5678 hashicorp/http-echo -text=&quot;helllo world&quot; 
</code></pre><ul><li><code>-p</code> : 포트 연결 [호스트 포트]:[도커 내 포트]</li><li><code>-text</code> : 웹 어플리케이션에 들어가는 변수 전달</li></ul><ol start=3><li>Redis 실행하기 (메모리기반 데이터베이스)</li></ol><pre><code>docker run --rm -p 1234:6379 redis
</code></pre><ul><li>레디스 테스트 해보기</li></ul><pre><code>set hello world
get hello
quit
</code></pre><ol start=4><li>MySQL 실행하기</li></ol><pre><code>docker run -d -p 3306:3306 \
-e MYSQL_ALLOW_EMPTY_PASSWORD=true \
--name mysql \
mysql/mysql-server:8.0.15
</code></pre><ul><li><p>mysql 패스워드를 입력하지 않겠다는 환경변수를 <code>-e</code>로 패스</p></li><li><p><code>--name</code> : 컨테이너에 이름 설정</p></li><li><p><code>-d</code> : 백그라운드로 실행</p></li><li><p>실제로 실행을 해서 워드프레스용 DB를 생성함.</p><ul><li><code>docker exec -it mysql mysql</code></li><li>mysql 이라는 컨테이너에서 mysql이라는 명령어를 실행</li></ul></li></ul><pre><code>create database wp CHARACTER SET utf8;
CREATE USER wp@'%' IDENTIFIED BY 'wp';
GRANT ALL PRIVILEGES ON wp.* TO wp@'%' WITH GRANT OPTION;
flush privileges;
quit
</code></pre><ol start=5><li>워드프레스 블로그 실행하기 (앞서 MySQL이 실행 중인 상태에서)</li></ol><pre><code>docker run -d -p 8080:80 \
	-e WORDPRESS_DB_HOST=host.docker.internal \
	-e WORDPRESS_DB_NAME=wp \
	-e WORDPRESS_DB_USER=wp \
	-e WORDPRESS_DB_PASSWORD=wp \
	wordpress
</code></pre><ul><li>기존에 띄워져 있던 mysql 컨테이너의 데이터베이스를 이용해서 워드프레스 블로그를 띄움.</li></ul><ol start=6><li>네트워크</li></ol><pre><code>docker network create app-network
</code></pre><ul><li>app-network라는 이름으로 네트워크를 만듬 (wordpress - mysql을 연결)</li></ul><pre><code>docker network connect app-network mysql
</code></pre><ul><li>mysql 컨테이너에 네트워크를 추가</li></ul><pre><code>docker run -d -p 8080:80 \
--network=app-network \
	-e WORDPRESS_DB_HOST=mysql \
	-e WORDPRESS_DB_NAME=wp \
	-e WORDPRESS_DB_USER=wp \
	-e WORDPRESS_DB_PASSWORD=wp \
	wordpress
</code></pre><ul><li>워드프레스는 이미지를 실행할 때 네트워크를 지정해볼 수 있음</li><li>network는 위에서 생성한 app-network를 지정하고, host는 mysql의 이름으로 접근함.</li></ul><pre><code>docker stop mysql
docker rm mysql
docker run -d -p 3306:3306 \
-e MYSQL_ALLOW_EMPTY_PASSWORD=true \
--network=app-network \
--name mysql \
-v /Users/wg/dvlp/Lucas/learn_container/volumn:/var/lib/mysql \
mysql/mysql-server:8.0.15

docker exec -it mysql mysql
create database wp CHARACTER SET utf8;
CREATE USER wp@'%' IDENTIFIED BY 'wp';
GRANT ALL PRIVILEGES ON wp.* TO wp@'%' WITH GRANT OPTION;
flush privileges;
quit	
</code></pre><ul><li>기존의 mysql 컨테이너를 삭제하고 volumn을 마운트 시켜 다시 띄움</li><li>이 경우 mysql의 데이터베이스는 마운트된 디렉토리에 데이터가 남게 되므로, 나중에 다시 동일한 연결하더라도 데이터를 유지할 수 있음.</li></ul><h2 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h2><ul><li><a href=https://www.inflearn.com/course/%EB%8F%84%EC%BB%A4-%EC%9E%85%EB%AC%B8# target=_blank>인프런 초보를 위한 도커 안내서</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://lucaseo.github.io/tags/docker/>docker</a></li></ul></footer></article></main><footer class=footer><span>© Wonyoung Seo 2021</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>