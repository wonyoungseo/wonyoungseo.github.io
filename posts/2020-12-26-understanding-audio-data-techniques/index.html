<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[KR] ML/DL을 위한 소리 데이터 이해하기(2) - Fourier Transform, MFCC | Wonyoung's Tech Blog</title><meta name=keywords content="audio processing"><meta name=description content="이번 포스트에서는 소리의 파형을 분석하기 위해 사용되는 기법인 푸리에 변환과 특징 추출값으로 사용되는 MFCC의 개념에 대해서 알아보겠습니다.
1. 소리는 주파수의 합산    Piano in Waveform   &nbsp
위의 이미지는 실제 피아노 소리 파일을 파형(waveform) 형태로 시각화 한 것입니다. 간단한 피아노 소리이지만 매우 복잡한 파형을 그리고 있는 것을 볼 수 있는데요. 사실 우리가 흔히 들을 수 있는 이러한 &ldquo;소리&#34;라는 것은 각기 다른 단일 주파수를 가진 무수히 많은 정현파(sinewave)가 합산되어 형성된 것입니다."><meta name=author content="Wyoung Seo"><link rel=canonical href=https://lucaseo.github.io/posts/2020-12-26-understanding-audio-data-techniques/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.d8cbf60331b9ced42909130bf88f8b97d2eb3de242444dcc9e2df410ceb098b9.css integrity="sha256-2Mv2AzG5ztQpCRML+I+Ll9LrPeJCRE3Mni30EM6wmLk=" rel="preload stylesheet" as=style><link rel=icon href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload=renderMathInElement(document.body);></script><meta property="og:title" content="[KR] ML/DL을 위한 소리 데이터 이해하기(2) - Fourier Transform, MFCC"><meta property="og:description" content="이번 포스트에서는 소리의 파형을 분석하기 위해 사용되는 기법인 푸리에 변환과 특징 추출값으로 사용되는 MFCC의 개념에 대해서 알아보겠습니다.
1. 소리는 주파수의 합산    Piano in Waveform   &nbsp
위의 이미지는 실제 피아노 소리 파일을 파형(waveform) 형태로 시각화 한 것입니다. 간단한 피아노 소리이지만 매우 복잡한 파형을 그리고 있는 것을 볼 수 있는데요. 사실 우리가 흔히 들을 수 있는 이러한 &ldquo;소리&#34;라는 것은 각기 다른 단일 주파수를 가진 무수히 많은 정현파(sinewave)가 합산되어 형성된 것입니다."><meta property="og:type" content="article"><meta property="og:url" content="https://lucaseo.github.io/posts/2020-12-26-understanding-audio-data-techniques/"><meta property="og:image" content="https://lucaseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:published_time" content="2020-12-26T14:24:01+09:00"><meta property="article:modified_time" content="2020-12-26T14:24:01+09:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lucaseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[KR] ML/DL을 위한 소리 데이터 이해하기(2) - Fourier Transform, MFCC"><meta name=twitter:description content="이번 포스트에서는 소리의 파형을 분석하기 위해 사용되는 기법인 푸리에 변환과 특징 추출값으로 사용되는 MFCC의 개념에 대해서 알아보겠습니다.
1. 소리는 주파수의 합산    Piano in Waveform   &nbsp
위의 이미지는 실제 피아노 소리 파일을 파형(waveform) 형태로 시각화 한 것입니다. 간단한 피아노 소리이지만 매우 복잡한 파형을 그리고 있는 것을 볼 수 있는데요. 사실 우리가 흔히 들을 수 있는 이러한 &ldquo;소리&#34;라는 것은 각기 다른 단일 주파수를 가진 무수히 많은 정현파(sinewave)가 합산되어 형성된 것입니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[KR] ML/DL을 위한 소리 데이터 이해하기(2) - Fourier Transform, MFCC","name":"[KR] ML\/DL을 위한 소리 데이터 이해하기(2) - Fourier Transform, MFCC","description":"이번 포스트에서는 소리의 파형을 분석하기 위해 사용되는 기법인 푸리에 변환과 특징 추출값으로 사용되는 MFCC의 개념에 대해서 알아보겠습니다.\n1. 소리는 주파수의 합산    Piano in Waveform   \u0026amp;amp;nbsp\n위의 이미지는 실제 피아노 소리 파일을 파형(waveform) 형태로 시각화 한 것입니다. 간 …","keywords":["audio processing"],"articleBody":"이번 포스트에서는 소리의 파형을 분석하기 위해 사용되는 기법인 푸리에 변환과 특징 추출값으로 사용되는 MFCC의 개념에 대해서 알아보겠습니다.\n1. 소리는 주파수의 합산    Piano in Waveform   \u0026nbsp\n위의 이미지는 실제 피아노 소리 파일을 파형(waveform) 형태로 시각화 한 것입니다. 간단한 피아노 소리이지만 매우 복잡한 파형을 그리고 있는 것을 볼 수 있는데요. 사실 우리가 흔히 들을 수 있는 이러한 “소리\"라는 것은 각기 다른 단일 주파수를 가진 무수히 많은 정현파(sinewave)가 합산되어 형성된 것입니다. 제 경우에는 처음에 이해가 잘 되지 않았는데, 이런 시각화들이 많은 도움이 되었습니다. 직관적인 이해가 되시나요?\n\u0026nbsp\n2. Fourier Transform 무수히 많은 정현파의 모음이 “소리\"를 구성한다는 것은 이해를 했습니다. 하지만 이와 반대로 “소리\"를 분석하기 위해서는 복잡한 소리(complex sound)가 어떠한 단일주파수들로 이루어져있는지를 분해(decompose)해봐야겠죠. 이를 위해 원본 소리에 행하는 작업을 푸리에변환(Fourier transform) 이라고 합니다. 다른 말로는 푸리에변환을 통해서 어떤 정현파가 얼마나 원본 소리를 구성하는지 파악할 수 있습니다.\n2.1. Spectrum 파형의 형태를 띄는 원본에 푸리에 변환을 적용하여 산출되는 결과물은 **스펙트럼(spectrum)**입니다. 스펙트럼이란, 각 주파수의 정도를 시각화하여 보이는 기법입니다. 아래 그림은 파형에 푸리에변환 기법 중 하나인 FFT(Fast Fourier Transform)을 적용한 결과를 보여주고 있는데요, 스펙트럼에서 X축은 0~12000 가량의 주파수이고, Y축은 각 주파수의 진폭(amplitude) 또는 그 정도(magnitude)를 나타냅니다.\n푸리에 변환을 통해서 파형이 스펙트럼으로 표현될 때 주목해야하는 점은, 파형은 시간의 흐름에 따라 변화하는 time-domain의 성질을 띄는 반면, 스펙트럼은 각 frequency마다 그 정도가 달라지는 frequency-domain의 성질을 띈다는 것입니다. 아래 그림의 스펙트럼에서는 전체 9초 가량의 시간대에 대한 주파수와 진폭을 모두 보여주고 있습니다. 즉, 스펙트럼에는 시간의 흐름에 따른 정보는 유실되는 것이죠.\n   푸리에변환의 결과 예시   2.2. STFT **STFT(Short-Time Fourier Transform)**는 푸리에변환의 한계를 보완하는 기법입니다. STFT는 전체 길이보다는 짧은 어떠한 시간 간격(window)을 설정한 후, 이 간격을 시간의 흐름에 따라 움직여가며(slide) 복수의 변환을 행하여, 시간의 흐름에 따른 주파수 정보를 얻습니다. 쉽게 말해, 9초의 소리가 있다면, 1초 간격으로 쪼갠 후 1초 간격으로, 푸리에변환을 하는 식인 것이죠. STFT의 산출물은 주파수, 진폭과 더불어 시간의 정보도 포함된 스펙토그램(spectogram)입니다. 아래의 스펙토그램 시각화에서 X축은 시간, Y축은 주파수, 그리고 주파수의 정도가 데시벨(색깔)로 표현되었습니다.\n   STFT의 동작 예시   \u0026nbsp\n3. Mel Frequency Cepstral Coefficient (MFCC) 실제 소리나 음성을 분석할 때는 푸리에 변환만을 하지 않고, 그로부터 차원울 축소하고 분석에 용이한 특징을 추출하는 과정(Feature Extraction)을 거칩니다. 특히 오디오 신호 처리 분야에서 많이 사용되는 소리 데이터의 특징값(Feature)으로는 MFCC가 있습니다.(MFCC의 세부적인 내용과 구하는 방법은 다른 포스트에서 따로 다루도록 하겠습니다) MFCC는 갖가지 신호가 합쳐 생성된 “소리\"가 가지는 고유한 특징을 추출한 값이라는 장점이 있습니다. MFCC를 이해하기 위해서 멜-스펙토그램과 캡스트럼 분석에 대해서 짚고 가겠습니다.\n3.1. Mel-Spectogram \u0026 Mel-scale MFCC를 설명하기 전에 멜-스펙토그램(Mel-Spectogram)에 대해서 간단히 알아보겠습니다. 멜스펙토그램이란, 사람의 달팽이관의 특성을 반영한 Mel-scale을 적용한 스펙토그램 표현법입니다. 달팽이관은 저주파 대역을 감지하는 구간이 조밀하고, 고주파 대역을 감지하는 구간은 넓게 이루어져 있습니다. 따라서 저주파 대역에 의미 있는 정보가 집중되어 있으며, 인간의 청각은 저주파 대역에서 더 민감하게 반응을 한다는 점을 반영하여, 주파수의 대역에 차등적으로 중요도를 적용하는 Mel-scale이 제안 되었습니다.\n$$ \\text{Mel}(f) = 2595 \\log_{10} \\left(1+ \\frac{f}{700}\\right) $$\n3.2. Cepstral Analysis 캡스트럼 분석(Cepstral Analysis)이란, 스펙토그램으로부터 소리의 대표적인 특징을 추출하는 기법입니다. 소리가 큰 진폭으로 진동할 때, 이를 공명(resonance)라고 합니다. 예를 들어 성대가 떨림으로 인해서 어떠한 소리가 최초로 생성될 때, 이를 공명이라고 하죠. 스펙트럼에서 공명은 뾰족한 봉우리(peak)로 표현이 되고, 이 봉우리들을 포먼트(formant)라고 합니다. 우리가 듣는 소리의 대표적인 특징이 스펙토그램의 포먼트로 표현된다는 것이죠. 따라서 캡스트럼 분석은 아래의 그림처럼 스펙토그램으로부터 포먼트를 찾아서 분리하는 기법입니다. (Spectral 에서 spec을 뒤집으면 Cepstral 이 되는 것은 우연일까요?)\n캡스트럼은 스펙트럼에 역푸리에변환(IFT: Inverse Fourier Transform)을 취하여 구합니다.\n   Cepstral Analysis (https://brightwon.tistory.com/11)   3.3. MFCC 구하기 MFCC를 구하는 과정은 다음과 같습니다.\n  주어진 신호(오디오 데이터)를 일정한 간격(window)로 나누어 푸리에변환을 적용하여 스펙토그램을 구한다. 스펙토그램의 제곱(파워 스펙토그램)에 Mel-scale을 기반으로 필터뱅크(Filter banks)를 구성하고 필터뱅크에 로그 변환을 수행한다. 이렇게 하면 Mel-scale에 따라 나누어진 구간 별로 분포한 정보를 확보한다. 주어진 Log Mel-spectogram에 역푸리에 변환을 적용하여 Cepstrum을 구한다. MFCC는 이렇게 구한 결과의 진폭(amplitude)이다.   3.4. MFCC의 의미 MFCC를 구하기 위해 적용된 기법과 과정에 대해 알아보니 머리가 조금 아프네요(…) 하지만 그 의미를 되새겨보자면 다음과 같이 요약할 수 있을 것 같습니다.\n MFCC는 무수히 많은 단일주파수로 복잡하게 구성된 소리로부터 (1)사람의 청각이 예민하게 반응하는 정보를 강조하고 (2)소리의 대표적인 부분만을 취사 선택한 피처(feature)이다.\n \u0026nbsp\n4. 세줄 … 아니 쓰다 보니 네줄 요약  소리는 무수히 많은 단일주파수의 합산으로 이루어져있다. 푸리에변환을 소리가 어느 주파수로 이루어져 있는지 분해할 수 있다. 푸리에변환만 수행하면 시간의 정보가 유실되므로 STFT를 적용한다. MFCC는 소리를 분석하는데 많이 사용되는 피쳐로, 인간의 청각에 유의미한 주파수대역을 강조하고, 소리의 대표적인 특징을 추출한 값이다.   이번 포스트에서는 푸리에변환과 MFCC의 개념에 대해서 간단히 알아보았습니다. 다음에는 파이썬으로 직접 소리 데이터를 읽고 처리하는 과정에 대해 정리해보겠습니다.\n\u0026nbsp\n5. Reference  https://ko.wikipedia.org/wiki/%EA%B3%B5%EB%AA%85 https://en.wikipedia.org/wiki/Mel-frequency_cepstrum#cite_note-2 https://en.wikipedia.org/wiki/Mel_scale https://en.wikipedia.org/wiki/Cepstrum https://brightwon.tistory.com/11 https://ratsgo.github.io/speechbook/docs/fe/mfcc https://tech.kakaoenterprise.com/66  ","wordCount":"692","inLanguage":"en","datePublished":"2020-12-26T14:24:01+09:00","dateModified":"2020-12-26T14:24:01+09:00","author":{"@type":"Person","name":"Wyoung Seo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lucaseo.github.io/posts/2020-12-26-understanding-audio-data-techniques/"},"publisher":{"@type":"Organization","name":"Wonyoung's Tech Blog","logo":{"@type":"ImageObject","url":"https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://lucaseo.github.io/ accesskey=h title="Tech Blog (Alt + H)">Tech Blog</a>
<span class=logo-switches><a id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://lucaseo.github.io/archives/ title=posts><span>posts</span></a></li><li><a href=https://lucaseo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://lucaseo.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://lucaseo.github.io/about/ title=about><span>about</span></a></li><li><a href=https://lucaseo.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[KR] ML/DL을 위한 소리 데이터 이해하기(2) - Fourier Transform, MFCC</h1><div class=post-meta>December 26, 2020&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Wyoung Seo</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#1-%ec%86%8c%eb%a6%ac%eb%8a%94-%ec%a3%bc%ed%8c%8c%ec%88%98%ec%9d%98-%ed%95%a9%ec%82%b0 aria-label="1. 소리는 주파수의 합산">1. 소리는 주파수의 합산</a></li><li><a href=#2-fourier-transform aria-label="2. Fourier Transform">2. Fourier Transform</a><ul><li><a href=#21-spectrum aria-label="2.1. Spectrum">2.1. Spectrum</a></li><li><a href=#22-stft aria-label="2.2. STFT">2.2. STFT</a></li></ul></li><li><a href=#3-mel-frequency-cepstral-coefficient-mfcc aria-label="3. Mel Frequency Cepstral Coefficient (MFCC)">3. Mel Frequency Cepstral Coefficient (MFCC)</a><ul><li><a href=#31-mel-spectogram--mel-scale aria-label="3.1. Mel-Spectogram &amp;amp; Mel-scale">3.1. Mel-Spectogram & Mel-scale</a></li><li><a href=#32-cepstral-analysis aria-label="3.2. Cepstral Analysis">3.2. Cepstral Analysis</a></li><li><a href=#33-mfcc-%ea%b5%ac%ed%95%98%ea%b8%b0 aria-label="3.3. MFCC 구하기">3.3. MFCC 구하기</a></li><li><a href=#34-mfcc%ec%9d%98-%ec%9d%98%eb%af%b8 aria-label="3.4. MFCC의 의미">3.4. MFCC의 의미</a></li></ul></li><li><a href=#4-%ec%84%b8%ec%a4%84--%ec%95%84%eb%8b%88-%ec%93%b0%eb%8b%a4-%eb%b3%b4%eb%8b%88-%eb%84%a4%ec%a4%84-%ec%9a%94%ec%95%bd aria-label="4. 세줄 &amp;hellip; 아니 쓰다 보니 네줄 요약">4. 세줄 &mldr; 아니 쓰다 보니 네줄 요약</a></li><li><a href=#5-reference aria-label="5. Reference">5. Reference</a></li></ul></div></details></div><div class=post-content><p><em>이번 포스트에서는 소리의 파형을 분석하기 위해 사용되는 기법인 푸리에 변환과 특징 추출값으로 사용되는 MFCC의 개념에 대해서 알아보겠습니다.</em></p><h1 id=1-소리는-주파수의-합산>1. 소리는 주파수의 합산<a hidden class=anchor aria-hidden=true href=#1-소리는-주파수의-합산>#</a></h1><figure><center><img src=/2020-12-26-understanding-audio-data-techniques/1.png></center> <center><figcaption>Piano in Waveform</figcaption></center></figure><p>&nbsp</p><p>위의 이미지는 실제 피아노 소리 파일을 파형(waveform) 형태로 시각화 한 것입니다. 간단한 피아노 소리이지만 매우 복잡한 파형을 그리고 있는 것을 볼 수 있는데요. 사실 우리가 흔히 들을 수 있는 이러한 &ldquo;소리"라는 것은 <strong>각기 다른 단일 주파수를 가진 무수히 많은 정현파(sinewave)가 합산</strong>되어 형성된 것입니다. 제 경우에는 처음에 이해가 잘 되지 않았는데, 이런 시각화들이 많은 도움이 되었습니다. 직관적인 이해가 되시나요?</p><p><img src=https://static.squarespace.com/static/549dcda5e4b0a47d0ae1db1e/54a06d6ee4b0d158ed95f696/54a06d6fe4b0d158ed960175/1351002939357/1000w/Fourier_decompositon_sines.png#center alt title="단일주파수의 합산 https://agilescientific.com/blog/2012/10/23/hooray-for-fourier.html"></p><p><img src=https://res.cloudinary.com/practicaldev/image/fetch/s--AH7lgFXb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/v1p6fhprekoheceqafw1.png#center alt title="Time domain과 Frequency domain의 관계 https://www.nti-audio.com/"></p><p>&nbsp</p><h1 id=2-fourier-transform>2. Fourier Transform<a hidden class=anchor aria-hidden=true href=#2-fourier-transform>#</a></h1><p>무수히 많은 정현파의 모음이 &ldquo;소리"를 구성한다는 것은 이해를 했습니다. 하지만 이와 반대로 &ldquo;소리"를 분석하기 위해서는 복잡한 소리(complex sound)가 어떠한 단일주파수들로 이루어져있는지를 분해(decompose)해봐야겠죠. 이를 위해 원본 소리에 행하는 작업을 <strong>푸리에변환(Fourier transform)</strong> 이라고 합니다. 다른 말로는 푸리에변환을 통해서 어떤 정현파가 얼마나 원본 소리를 구성하는지 파악할 수 있습니다.</p><p><img src=https://ars.els-cdn.com/content/image/3-s2.0-B978075067444750042X-f05-16-9780750674447.gif#center alt title="푸리에변환을 통해 사인함수와 코사인함수로 분해된 파형 (https://www.sciencedirect.com/topics/engineering/fourier-decomposition)"></p><h2 id=21-spectrum>2.1. Spectrum<a hidden class=anchor aria-hidden=true href=#21-spectrum>#</a></h2><p>파형의 형태를 띄는 원본에 푸리에 변환을 적용하여 산출되는 결과물은 **스펙트럼(spectrum)**입니다. 스펙트럼이란, 각 주파수의 정도를 시각화하여 보이는 기법입니다. 아래 그림은 파형에 푸리에변환 기법 중 하나인 FFT(Fast Fourier Transform)을 적용한 결과를 보여주고 있는데요, 스펙트럼에서 X축은 0~12000 가량의 주파수이고, Y축은 각 주파수의 진폭(amplitude) 또는 그 정도(magnitude)를 나타냅니다.</p><p>푸리에 변환을 통해서 파형이 스펙트럼으로 표현될 때 주목해야하는 점은, 파형은 시간의 흐름에 따라 변화하는 time-domain의 성질을 띄는 반면, 스펙트럼은 각 frequency마다 그 정도가 달라지는 frequency-domain의 성질을 띈다는 것입니다. 아래 그림의 스펙트럼에서는 전체 9초 가량의 시간대에 대한 주파수와 진폭을 모두 보여주고 있습니다. 즉, 스펙트럼에는 시간의 흐름에 따른 정보는 유실되는 것이죠.</p><figure><center><img src=/2020-12-26-understanding-audio-data-techniques/3.png></center> <center><figcaption>푸리에변환의 결과 예시</figcaption></center></figure><h2 id=22-stft>2.2. STFT<a hidden class=anchor aria-hidden=true href=#22-stft>#</a></h2><p>**STFT(Short-Time Fourier Transform)**는 푸리에변환의 한계를 보완하는 기법입니다. STFT는 전체 길이보다는 짧은 어떠한 시간 간격(window)을 설정한 후, 이 간격을 시간의 흐름에 따라 움직여가며(slide) 복수의 변환을 행하여, 시간의 흐름에 따른 주파수 정보를 얻습니다. 쉽게 말해, 9초의 소리가 있다면, 1초 간격으로 쪼갠 후 1초 간격으로, 푸리에변환을 하는 식인 것이죠. STFT의 산출물은 주파수, 진폭과 더불어 시간의 정보도 포함된 스펙토그램(spectogram)입니다. 아래의 스펙토그램 시각화에서 X축은 시간, Y축은 주파수, 그리고 주파수의 정도가 데시벨(색깔)로 표현되었습니다.</p><figure><center><img src=/2020-12-26-understanding-audio-data-techniques/4.png></center> <center><figcaption>STFT의 동작 예시</figcaption></center></figure><p>&nbsp</p><h1 id=3-mel-frequency-cepstral-coefficient-mfcc>3. Mel Frequency Cepstral Coefficient (MFCC)<a hidden class=anchor aria-hidden=true href=#3-mel-frequency-cepstral-coefficient-mfcc>#</a></h1><p>실제 소리나 음성을 분석할 때는 푸리에 변환만을 하지 않고, 그로부터 차원울 축소하고 분석에 용이한 특징을 추출하는 과정(Feature Extraction)을 거칩니다. 특히 오디오 신호 처리 분야에서 많이 사용되는 소리 데이터의 특징값(Feature)으로는 <strong>MFCC</strong>가 있습니다.(MFCC의 세부적인 내용과 구하는 방법은 다른 포스트에서 따로 다루도록 하겠습니다) MFCC는 갖가지 신호가 합쳐 생성된 &ldquo;소리"가 가지는 고유한 특징을 추출한 값이라는 장점이 있습니다. MFCC를 이해하기 위해서 <strong>멜-스펙토그램</strong>과 <strong>캡스트럼 분석</strong>에 대해서 짚고 가겠습니다.</p><h2 id=31-mel-spectogram--mel-scale>3.1. Mel-Spectogram & Mel-scale<a hidden class=anchor aria-hidden=true href=#31-mel-spectogram--mel-scale>#</a></h2><p>MFCC를 설명하기 전에 멜-스펙토그램(Mel-Spectogram)에 대해서 간단히 알아보겠습니다. 멜스펙토그램이란, 사람의 달팽이관의 특성을 반영한 Mel-scale을 적용한 스펙토그램 표현법입니다. 달팽이관은 저주파 대역을 감지하는 구간이 조밀하고, 고주파 대역을 감지하는 구간은 넓게 이루어져 있습니다. 따라서 저주파 대역에 의미 있는 정보가 집중되어 있으며, 인간의 청각은 저주파 대역에서 더 민감하게 반응을 한다는 점을 반영하여, 주파수의 대역에 차등적으로 중요도를 적용하는 Mel-scale이 제안 되었습니다.</p><p>$$ \text{Mel}(f) = 2595 \log_{10} \left(1+ \frac{f}{700}\right) $$</p><p><img src=https://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/Mel-Hz_plot.svg/450px-Mel-Hz_plot.svg.png#center alt title="Mel-scale (https://en.wikipedia.org/wiki/Mel_scale)"></p><h2 id=32-cepstral-analysis>3.2. Cepstral Analysis<a hidden class=anchor aria-hidden=true href=#32-cepstral-analysis>#</a></h2><p>캡스트럼 분석(Cepstral Analysis)이란, 스펙토그램으로부터 소리의 대표적인 특징을 추출하는 기법입니다. 소리가 큰 진폭으로 진동할 때, 이를 공명(resonance)라고 합니다. 예를 들어 성대가 떨림으로 인해서 어떠한 소리가 최초로 생성될 때, 이를 공명이라고 하죠. 스펙트럼에서 공명은 뾰족한 봉우리(peak)로 표현이 되고, 이 봉우리들을 포먼트(formant)라고 합니다. 우리가 듣는 소리의 대표적인 특징이 스펙토그램의 포먼트로 표현된다는 것이죠. 따라서 캡스트럼 분석은 아래의 그림처럼 스펙토그램으로부터 포먼트를 찾아서 분리하는 기법입니다. (Spectral 에서 spec을 뒤집으면 Cepstral 이 되는 것은 우연일까요?)</p><p>캡스트럼은 스펙트럼에 역푸리에변환(IFT: Inverse Fourier Transform)을 취하여 구합니다.</p><figure><center><img src=/2020-12-26-understanding-audio-data-techniques/5.png></center> <center><figcaption>Cepstral Analysis (https://brightwon.tistory.com/11)</figcaption></center></figure><h2 id=33-mfcc-구하기>3.3. MFCC 구하기<a hidden class=anchor aria-hidden=true href=#33-mfcc-구하기>#</a></h2><p>MFCC를 구하는 과정은 다음과 같습니다.</p><p><img src=https://i.imgur.com/Pn5LGTk.png#center alt title="MFCC 추출 과정 (https://ratsgo.github.io/speechbook/docs/fe/mfcc)"></p><blockquote><ol><li>주어진 신호(오디오 데이터)를 일정한 간격(window)로 나누어 푸리에변환을 적용하여 스펙토그램을 구한다.</li><li>스펙토그램의 제곱(파워 스펙토그램)에 Mel-scale을 기반으로 필터뱅크(Filter banks)를 구성하고 필터뱅크에 로그 변환을 수행한다. 이렇게 하면 Mel-scale에 따라 나누어진 구간 별로 분포한 정보를 확보한다.</li><li>주어진 Log Mel-spectogram에 역푸리에 변환을 적용하여 Cepstrum을 구한다.</li><li>MFCC는 이렇게 구한 결과의 진폭(amplitude)이다.</li></ol></blockquote><h2 id=34-mfcc의-의미>3.4. MFCC의 의미<a hidden class=anchor aria-hidden=true href=#34-mfcc의-의미>#</a></h2><p>MFCC를 구하기 위해 적용된 기법과 과정에 대해 알아보니 머리가 조금 아프네요(&mldr;) 하지만 그 의미를 되새겨보자면 다음과 같이 요약할 수 있을 것 같습니다.</p><blockquote><p>MFCC는 무수히 많은 단일주파수로 복잡하게 구성된 소리로부터 (1)사람의 청각이 예민하게 반응하는 정보를 강조하고 (2)소리의 대표적인 부분만을 취사 선택한 피처(feature)이다.</p></blockquote><p>&nbsp</p><h1 id=4-세줄--아니-쓰다-보니-네줄-요약>4. 세줄 &mldr; 아니 쓰다 보니 네줄 요약<a hidden class=anchor aria-hidden=true href=#4-세줄--아니-쓰다-보니-네줄-요약>#</a></h1><ol><li>소리는 무수히 많은 단일주파수의 합산으로 이루어져있다.</li><li>푸리에변환을 소리가 어느 주파수로 이루어져 있는지 분해할 수 있다.</li><li>푸리에변환만 수행하면 시간의 정보가 유실되므로 STFT를 적용한다.</li><li>MFCC는 소리를 분석하는데 많이 사용되는 피쳐로, 인간의 청각에 유의미한 주파수대역을 강조하고, 소리의 대표적인 특징을 추출한 값이다.</li></ol><hr><p><strong>이번 포스트에서는 푸리에변환과 MFCC의 개념에 대해서 간단히 알아보았습니다. 다음에는 파이썬으로 직접 소리 데이터를 읽고 처리하는 과정에 대해 정리해보겠습니다.</strong></p><p>&nbsp</p><h1 id=5-reference>5. Reference<a hidden class=anchor aria-hidden=true href=#5-reference>#</a></h1><ul><li><a href=https://ko.wikipedia.org/wiki/%EA%B3%B5%EB%AA%85>https://ko.wikipedia.org/wiki/%EA%B3%B5%EB%AA%85</a></li><li><a href=https://en.wikipedia.org/wiki/Mel-frequency_cepstrum#cite_note-2>https://en.wikipedia.org/wiki/Mel-frequency_cepstrum#cite_note-2</a></li><li><a href=https://en.wikipedia.org/wiki/Mel_scale>https://en.wikipedia.org/wiki/Mel_scale</a></li><li><a href=https://en.wikipedia.org/wiki/Cepstrum>https://en.wikipedia.org/wiki/Cepstrum</a></li><li><a href=https://brightwon.tistory.com/11>https://brightwon.tistory.com/11</a></li><li><a href=https://ratsgo.github.io/speechbook/docs/fe/mfcc>https://ratsgo.github.io/speechbook/docs/fe/mfcc</a></li><li><a href=https://tech.kakaoenterprise.com/66>https://tech.kakaoenterprise.com/66</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://lucaseo.github.io/tags/audio-processing/>audio processing</a></li></ul></footer></article></main><footer class=footer><span>© Wonyoung Seo 2021</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>