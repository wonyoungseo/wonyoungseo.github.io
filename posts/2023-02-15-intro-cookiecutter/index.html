<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[KR] Cookiecutter로 개발 프로젝트 템플릿 미리 만들어놓기 | Wonyoung's Tech Blog</title><meta name=keywords content="python,cookiecutter"><meta name=description content="매번 반복되는 작업 지겨우셨죠? (홈쇼핑 쇼호스트 톤으로) 업무를 하다보면 프로토타입을 만들어 공유하는 일이 종종 있다. 개발하는 하는 과정도 시간이 소요되지만, 그에 못지 않게 시간이 소요되는 부분이 초기 설정이나 프로젝트 구조를 구성하는 일이다. 이 작업이 불가피하다는 것은 알고 있지만 꽤 아깝고 또 반복작업이라 답답하게 느껴지기도 했다.
이번 포스트에서는 이런 고민을 상당 부분 해결하는 Cookiecutter에 대해서 다뤄보려고 한다. 특히 반복적인 프로토타입, 머신러닝 프로젝트, 모델 서빙 API 측면에서 아주 잘 사용할 수 있을 것 같다고 판단되어 내용을 정리해보았다."><meta name=author content="Wonyoung Seo"><link rel=canonical href=https://wonyoungseo.github.io/posts/2023-02-15-intro-cookiecutter/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.d8cbf60331b9ced42909130bf88f8b97d2eb3de242444dcc9e2df410ceb098b9.css integrity="sha256-2Mv2AzG5ztQpCRML+I+Ll9LrPeJCRE3Mni30EM6wmLk=" rel="preload stylesheet" as=style><link rel=icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><meta property="og:title" content="[KR] Cookiecutter로 개발 프로젝트 템플릿 미리 만들어놓기"><meta property="og:description" content="매번 반복되는 작업 지겨우셨죠? (홈쇼핑 쇼호스트 톤으로) 업무를 하다보면 프로토타입을 만들어 공유하는 일이 종종 있다. 개발하는 하는 과정도 시간이 소요되지만, 그에 못지 않게 시간이 소요되는 부분이 초기 설정이나 프로젝트 구조를 구성하는 일이다. 이 작업이 불가피하다는 것은 알고 있지만 꽤 아깝고 또 반복작업이라 답답하게 느껴지기도 했다.
이번 포스트에서는 이런 고민을 상당 부분 해결하는 Cookiecutter에 대해서 다뤄보려고 한다. 특히 반복적인 프로토타입, 머신러닝 프로젝트, 모델 서빙 API 측면에서 아주 잘 사용할 수 있을 것 같다고 판단되어 내용을 정리해보았다."><meta property="og:type" content="article"><meta property="og:url" content="https://wonyoungseo.github.io/posts/2023-02-15-intro-cookiecutter/"><meta property="og:image" content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:published_time" content="2023-02-15T00:26:06+09:00"><meta property="article:modified_time" content="2023-02-15T00:26:06+09:00"><meta property="og:site_name" content="WY's Tech Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[KR] Cookiecutter로 개발 프로젝트 템플릿 미리 만들어놓기"><meta name=twitter:description content="매번 반복되는 작업 지겨우셨죠? (홈쇼핑 쇼호스트 톤으로) 업무를 하다보면 프로토타입을 만들어 공유하는 일이 종종 있다. 개발하는 하는 과정도 시간이 소요되지만, 그에 못지 않게 시간이 소요되는 부분이 초기 설정이나 프로젝트 구조를 구성하는 일이다. 이 작업이 불가피하다는 것은 알고 있지만 꽤 아깝고 또 반복작업이라 답답하게 느껴지기도 했다.
이번 포스트에서는 이런 고민을 상당 부분 해결하는 Cookiecutter에 대해서 다뤄보려고 한다. 특히 반복적인 프로토타입, 머신러닝 프로젝트, 모델 서빙 API 측면에서 아주 잘 사용할 수 있을 것 같다고 판단되어 내용을 정리해보았다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[KR] Cookiecutter로 개발 프로젝트 템플릿 미리 만들어놓기","name":"[KR] Cookiecutter로 개발 프로젝트 템플릿 미리 만들어놓기","description":"매번 반복되는 작업 지겨우셨죠? (홈쇼핑 쇼호스트 톤으로) 업무를 하다보면 프로토타입을 만들어 공유하는 일이 종종 있다. 개발하는 하는 과정도 시간이 소요되지만, 그에 못지 않게 시간이 소요되는 부분이 초기 설정이나 프로젝트 구조를 구성하는 일이다. 이 작업이 불가피하다는 것은 알고 있지만 꽤 아깝고 또 반복작업이라 답답 …","keywords":["python","cookiecutter"],"articleBody":"매번 반복되는 작업 지겨우셨죠? (홈쇼핑 쇼호스트 톤으로) 업무를 하다보면 프로토타입을 만들어 공유하는 일이 종종 있다. 개발하는 하는 과정도 시간이 소요되지만, 그에 못지 않게 시간이 소요되는 부분이 초기 설정이나 프로젝트 구조를 구성하는 일이다. 이 작업이 불가피하다는 것은 알고 있지만 꽤 아깝고 또 반복작업이라 답답하게 느껴지기도 했다.\n이번 포스트에서는 이런 고민을 상당 부분 해결하는 Cookiecutter에 대해서 다뤄보려고 한다. 특히 반복적인 프로토타입, 머신러닝 프로젝트, 모델 서빙 API 측면에서 아주 잘 사용할 수 있을 것 같다고 판단되어 내용을 정리해보았다.\nCookiecutter 를 소개합니다 ! (사족: Cookiecutter를 작년 Udacity의 Machine learning DevOps Engineer nanodegree 강의를 들을 때 실습 코드를 통해서 처음 접해보았던 기억이 난다. 그 당시에는 Cookiecutter 에 대한 별다른 설명 없이 커맨드를 따라 치라고만 가이드 되어 있어서 어버버하고 그냥 지나가기만 했었던 것 같다.)\n거두절미하고 Cookiecutter는 프로젝트 / 보일러플레이트 (여러가지 용어로 불리울 듯 하다) 생성을 자동화 해주는 커맨드라인 툴이다. Cookiecutter가 요구하는 요건에 맞추어서 어떠한 템플릿을 만들어두면, 나중에 손쉽게 가져다 쓸 수 있다.\n그냥 디렉토리에 템플릿 용도로 프로젝트 하나 만들어놓고 쓰면 복사해서 쓰면 안 돼? … 나도 처음에는 이런 의문이 들었다.\n하지만 Cookiecutter는 Jinja2 템플릿을 통해 미리 템플릿을 만드는 과정에서 커스터마이징과 템플릿을 활용하는 사람의 선호도에 따른 전후처리 기능을 제공한다는 점이 강력하다. 이게 Cookie를 사용하는 가장 큰 이유이다.\n간단하게 알아보는 Cookiecutter 시작하기에 앞서 Cookiecutter는 기본적으로 모든 언어의 템플릿 생성을 지원한다.\n Project templates can be in any programming language or markup format: Python, JavaScript, Ruby, CoffeeScript, RST, Markdown, CSS, HTML, you name it. You can use multiple languages in the same project template.\n 단, Cookiecutter 자체는 파이썬 기반이기에 사용하기 위해서는 OS에 파이썬이 설치되어 있어야 한다.\n설치는 여느 파이썬 패키지처럼 pip으로 설치했다. brew, conda 등 다른 방법도 있으므로 공식문서를 확인해보자.\n$ pip install cookiecutter Cookiecutter 동작 원리 Cookiecutter는 기본적으로 템플릿의 역할을 한다. 동작 원리는 다음과 같다.\n 프로젝트 템플릿 내부에 내부에 다음과 같이 Jinja2 형태의 템플릿 변수를 위치한다. {{ cookiecutter.your_key }} 입력하고자 하는 값 value는 cookiecutter.json 파일에 {\"your_key\": value} 형태로 정의해놓으면 추후 Cookiecutter를 통해 프로젝트를 생성했을 때 템플릿에 value가 입력된다.  아래의 예제를 살펴보자\n예제 1) - 가장 기본적인 템플릿 아래와 같이 디렉토리를 구성해보자\n. └── cookiecutter_example ├── cookiecutter.json └── {{cookiecutter.project_name}} ├── main.py ├── .env └── README.md [main.py](http://main.py) 에서는 아주 단순하게 프로젝트명, 작성자, 프로젝트 설명, 라이선스 유형을 출력하는 템플릿을 정의해두었다. 마찬가지로 .env 에는 프로젝트명, 초기 버전, 라이선스 유형이 입력되도록 했고, [README.md](http://README.md) 파일에서도 프로젝트에 대한 정보가 자동으로 기입되도록 작성했다.\n# ./cookiecutter_example/{{cookiecutter.project_name}}/main.py if __name__ == \"__main__\": print(\"Project: {{ cookiecutter.project_name }}\") print(\"Author: {{ cookiecutter.author }}\") print(\"Description: {{ cookiecutter.description }}\") print(\"Description: {{ cookiecutter.license }}\") # ./cookiecutter_example/{{cookiecutter.project_name}}/.env PROJECT_NAME={{ cookiecutter.project_name }} VERSION={{ cookiecutter.initial_version }} LICENSE={{ cookiecutter.license }}  # Project: {{ cookiecutter.project_name }}  Author: {{ cookiecutter.author }}  Description: {{ cookiecutter.description }}  License: {{ cookiecutter.license }} 그리고 Jinja2 템플릿 변수에 들어갈 내용은 cookiecutter.json 에 정의한다. key는 Jinja2 템플릿 변수와 매핑되며, value값은 default값으로 나중에 cookiecutter를 사용할 때 변경 가능하다. 하나의 변수값을 정의할 수도 있고, license 부분을 보면 알 수 있듯이 몇가지 옵션을 선택지로 정의할 수도 있다.\n// ./cookiecutter_example/cookiecutter.json { \"project_name\": \"new_project\", \"license\": [\"MIT License\", \"GNU General Public License v3\", \"Apache Software License 2.0\"], \"initial_version\": \"0.0.1\", \"author\": \"John Doe\", \"description\": \"hello world\" } Cookiecutter를 활용한 프로젝트 생성하는 방법은 템플릿의 경로를 파라미터로 하여 실행하면, 커맨드라인에서 앞서 cookiecutter.json에서 정의한 템플릿 변수들의 value값을 입력하거나 선택할 수 있다. 아무것도 입력하지 않고 그대로 ENTER 를 하면 [ __ ] 에 입력된 앞서 정의한 디폴트 값이 선택된다.\n$ cookiecutter ./cookiecutter_example project_name [new_project]: my_example_project Select license: 1 - MIT License 2 - GNU General Public License v3 3 - Apache Software License 2.0 Choose from 1, 2, 3 [1]: 1 initial_version [0.0.1]: author [John Doe]: WY Seo description [hello world]: Example case for cookiecutter usage 결과를 보면 my_example_project 라는 프로젝트 경로가 생성되었고 하위 파일 내 템플릿 변수들이 의도한 대로 반영된 것을 확인할 수 있다.\n. └── my_example_project ├── main.py ├── .env └── README.md # ./cookiecutter_example/my_example_project/main.py if __name__ == \"__main__\": print(\"Project: my_example_project\") print(\"Author: WY Seo\") print(\"Description: Example case for cookiecutter usage\") print(\"Description: MIT License\") # ./cookiecutter_example/my_example_project/.env PROJECT_NAME=my_example_project VERSION=0.0.1 LICENSE=MIT License  # Project: my_example_project  Author: WY Seo  Description: Example case for cookiecutter usage  License: MIT License 템플릿 생성 전/후 처리를 지원해주는 Hooks Cookiecutter 에는 cookiecutter.json 에서 정의한 변수에 따라 템플릿에 어떠한 처리 동작을 수행할 수 있는 Hooks 기능이 지원된다. Hooks의 전후처리 로직은 파이썬 또는 쉘 스크립트로 정의할 수 있으며 hooks 폴더 아래 위치해야 한다. 파일 네이밍은 아래와 같이 고정되어야 한다. hooks 폴더는 cookiecutter.json 과 같은 디렉토리에 위치시키면 된다.\n 전처리: 프로젝트 생성 전 실행  pre_gen_project.py pre_gen_project.sh   후처리: 프로젝트 생성 후 실행  post_gen_project.py post_gen_project.sh    . └── cookiecutter_example ├── cookiecutter.json ├── hooks # 예제 2) - 전/후처리 과정이 추가된 템플릿 이번 예제에서는 파이썬 프로젝트에 따라 setup.py 파일의 유무를 선택할 수 있는 Hooks를 적용한다.\n우선 프로젝트 템플릿 구조에 setup.py 와 post_gen_project.py 를 작성해둔다.\n. └── cookiecutter_example ├── cookiecutter.json ├── hooks │ └── post_gen_project.py # # ./cookiecutter_example/{{cookiecutter.project_name}}/setup.py import io from setuptools import find_packages, setup def long_description(): with io.open('README.md', 'r', encoding='utf-8') as f: readme = f.read() return readme def requirements(): with io.open('requirements.txt', 'r', encoding='utf-8') as f: requirements = f.read() return requirements setup( name='{{ cookiecutter.project_name }}', version='{{ cookiecutter.initial_version }}', description='{{ cookiecutter.description }}', long_description=long_description(), author='{{ cookiecutter.author }}', author_email='{{ cookiecutter.author_email }}', license='{{ cookiecutter.license }}', packages=find_packages(include=['{{ cookiecutter.project_name }}', '{{ cookiecutter.project_name }}.*']), install_requires=requirements(), classifiers=[ 'Programming Language :: Python :: 3.7', 'Programming Language :: Python :: 3.8' 'Programming Language :: Python :: 3.9' ], ) 이어서 post_gen_project.py 에는, 프로젝트 생성 이후 cookiecutter.json 에서 {\"need_setup\" : false} 인 경우에 setup.py 파일을 삭제하는 후처리 과정이 정의되어 있다.\n// ./cookiecutter_example/cookiecutter.json { \"project_name\": \"new_project\", \"license\": [\"MIT License\", \"GNU General Public License v3\", \"Apache Software License 2.0\"], \"initial_version\": \"0.0.1\", \"author\": \"John Doe\", \"description\": \"hello world\", \"need_setup\": [true, false] } # ./cookiecutter_example/hooks/post_gen_project.py import os if \"{{ cookiecutter.need_setup }}\" == False: os.remove(os.path.join(os.getcwd(), \"setup.py\")) 실행하면 아래와 같이 프로젝트가 생성된다.\nproject_name [new_project]: my_example_project_with_hooks Select license: 1 - MIT License 2 - GNU General Public License v3 3 - Apache Software License 2.0 Choose from 1, 2, 3 [1]: 1 initial_version [0.0.1]: author [John Doe]: WY Seo description [hello world]: Example case for cookiecutter usage with hooks Select need_setup: 1 - true 2 - false Choose from 1, 2 [1]: 2 . └── my_example_project_with_hooks ├── main.py └── requirements.txt # 실제로 바로 사용해보았다 이번에 Cookiecutter에 대해 알아보고 나서, 유용함을 느껴 평소에 자주 쓰는 Streamlit과 최근에 업무에 사용하게 된 FastAPI에 대한 템플릿을 만들어보았다.\n Cookiecutter FastAPI 템플릿 Cookiecutter Streamlit 템플릿 (오 … 홍보를 하지 않았는데 벌써 별이 하나 생겼다 !?)  README.md 에 서술했듯이, Github repository로 작성된 Cookiecutter 템플릿을 바로 사용하는 방법은 두가지 방식 모두 간편하다.\n# repository URL을 사용 $ cookiecutter https://github.com/wonyoungseo/cookiecutter-fastapi.git # Github 계정명과 repository 이름을 사용 $ cookiecutter gh:wonyoungseo/cookiecutter-fastapi 마무리하며 Cookiecutter는 기존에 만들어져 있는, Github 별이 아주 많은 템플릿을 그대로 가져다 써도 되겠다는 생각이 들었다. 마치 Github Actions와 같다. 하지만 종종 나의 니즈와는 다르게 과하게 복잡하거나, 꼭 필요한 무언가가 빠져있는 경우도 많다. 따라서 일단은 필요에 맞게 직접 만들어보는 것을 추천한다. Cookiecutter 가 익숙해지는 계기가 될 수도! 아무튼 이제 프로젝트 뼈대는 뚝딱 생성해서 시간을 많이 아낄 수 있을 것 같다 !\nReference  Project templates and cookiecutter 공식 문서 Github Repository  ","wordCount":"1149","inLanguage":"en","datePublished":"2023-02-15T00:26:06+09:00","dateModified":"2023-02-15T00:26:06+09:00","author":{"@type":"Person","name":"Wonyoung Seo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wonyoungseo.github.io/posts/2023-02-15-intro-cookiecutter/"},"publisher":{"@type":"Organization","name":"Wonyoung's Tech Blog","logo":{"@type":"ImageObject","url":"https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://wonyoungseo.github.io/ accesskey=h title="Tech Blog (Alt + H)">Tech Blog</a>
<span class=logo-switches><a id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://wonyoungseo.github.io/archives/ title=posts><span>posts</span></a></li><li><a href=https://wonyoungseo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://wonyoungseo.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wonyoungseo.github.io/about/ title=about><span>about</span></a></li><li><a href=https://wonyoungseo.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[KR] Cookiecutter로 개발 프로젝트 템플릿 미리 만들어놓기</h1><div class=post-meta>February 15, 2023&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Wonyoung Seo</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#%eb%a7%a4%eb%b2%88-%eb%b0%98%eb%b3%b5%eb%90%98%eb%8a%94-%ec%9e%91%ec%97%85-%ec%a7%80%ea%b2%a8%ec%9a%b0%ec%85%a8%ec%a3%a0-%ed%99%88%ec%87%bc%ed%95%91-%ec%87%bc%ed%98%b8%ec%8a%a4%ed%8a%b8-%ed%86%a4%ec%9c%bc%eb%a1%9c aria-label="매번 반복되는 작업 지겨우셨죠? (홈쇼핑 쇼호스트 톤으로)">매번 반복되는 작업 지겨우셨죠? (홈쇼핑 쇼호스트 톤으로)</a></li><li><a href=#cookiecutter-%eb%a5%bc-%ec%86%8c%ea%b0%9c%ed%95%a9%eb%8b%88%eb%8b%a4- aria-label="Cookiecutter 를 소개합니다 !">Cookiecutter 를 소개합니다 !</a></li><li><a href=#%ea%b0%84%eb%8b%a8%ed%95%98%ea%b2%8c-%ec%95%8c%ec%95%84%eb%b3%b4%eb%8a%94-cookiecutter aria-label="간단하게 알아보는 Cookiecutter">간단하게 알아보는 Cookiecutter</a><ul><li><a href=#%ec%8b%9c%ec%9e%91%ed%95%98%ea%b8%b0%ec%97%90-%ec%95%9e%ec%84%9c aria-label="시작하기에 앞서">시작하기에 앞서</a></li><li><a href=#cookiecutter-%eb%8f%99%ec%9e%91-%ec%9b%90%eb%a6%ac aria-label="Cookiecutter 동작 원리">Cookiecutter 동작 원리</a><ul><li><a href=#%ec%98%88%ec%a0%9c-1---%ea%b0%80%ec%9e%a5-%ea%b8%b0%eb%b3%b8%ec%a0%81%ec%9d%b8-%ed%85%9c%ed%94%8c%eb%a6%bf aria-label="예제 1) - 가장 기본적인 템플릿">예제 1) - 가장 기본적인 템플릿</a></li></ul></li><li><a href=#%ed%85%9c%ed%94%8c%eb%a6%bf-%ec%83%9d%ec%84%b1-%ec%a0%84%ed%9b%84-%ec%b2%98%eb%a6%ac%eb%a5%bc-%ec%a7%80%ec%9b%90%ed%95%b4%ec%a3%bc%eb%8a%94-hooks aria-label="템플릿 생성 전/후 처리를 지원해주는 Hooks">템플릿 생성 전/후 처리를 지원해주는 <code>Hooks</code></a><ul><li><a href=#%ec%98%88%ec%a0%9c-2---%ec%a0%84%ed%9b%84%ec%b2%98%eb%a6%ac-%ea%b3%bc%ec%a0%95%ec%9d%b4-%ec%b6%94%ea%b0%80%eb%90%9c-%ed%85%9c%ed%94%8c%eb%a6%bf aria-label="예제 2) - 전/후처리 과정이 추가된 템플릿">예제 2) - 전/후처리 과정이 추가된 템플릿</a></li></ul></li></ul></li><li><a href=#%ec%8b%a4%ec%a0%9c%eb%a1%9c-%eb%b0%94%eb%a1%9c-%ec%82%ac%ec%9a%a9%ed%95%b4%eb%b3%b4%ec%95%98%eb%8b%a4 aria-label="실제로 바로 사용해보았다">실제로 바로 사용해보았다</a></li><li><a href=#%eb%a7%88%eb%ac%b4%eb%a6%ac%ed%95%98%eb%a9%b0 aria-label=마무리하며>마무리하며</a></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><h1 id=매번-반복되는-작업-지겨우셨죠-홈쇼핑-쇼호스트-톤으로>매번 반복되는 작업 지겨우셨죠? (홈쇼핑 쇼호스트 톤으로)<a hidden class=anchor aria-hidden=true href=#매번-반복되는-작업-지겨우셨죠-홈쇼핑-쇼호스트-톤으로>#</a></h1><p>업무를 하다보면 프로토타입을 만들어 공유하는 일이 종종 있다. 개발하는 하는 과정도 시간이 소요되지만, 그에 못지 않게 시간이 소요되는 부분이 초기 설정이나 프로젝트 구조를 구성하는 일이다. 이 작업이 불가피하다는 것은 알고 있지만 꽤 아깝고 또 반복작업이라 답답하게 느껴지기도 했다.</p><p>이번 포스트에서는 이런 고민을 상당 부분 해결하는 Cookiecutter에 대해서 다뤄보려고 한다. 특히 반복적인 프로토타입, 머신러닝 프로젝트, 모델 서빙 API 측면에서 아주 잘 사용할 수 있을 것 같다고 판단되어 내용을 정리해보았다.</p><h1 id=cookiecutter-를-소개합니다->Cookiecutter 를 소개합니다 !<a hidden class=anchor aria-hidden=true href=#cookiecutter-를-소개합니다->#</a></h1><p><em>(사족: Cookiecutter를 작년 Udacity의 Machine learning DevOps Engineer nanodegree 강의를 들을 때 실습 코드를 통해서 처음 접해보았던 기억이 난다. 그 당시에는 Cookiecutter 에 대한 별다른 설명 없이 커맨드를 따라 치라고만 가이드 되어 있어서 어버버하고 그냥 지나가기만 했었던 것 같다.)</em></p><p>거두절미하고 Cookiecutter는 프로젝트 / 보일러플레이트 (여러가지 용어로 불리울 듯 하다) 생성을 자동화 해주는 커맨드라인 툴이다. Cookiecutter가 요구하는 요건에 맞추어서 어떠한 템플릿을 만들어두면, 나중에 손쉽게 가져다 쓸 수 있다.</p><p><code>그냥 디렉토리에 템플릿 용도로 프로젝트 하나 만들어놓고 쓰면 복사해서 쓰면 안 돼?</code> &mldr; 나도 처음에는 이런 의문이 들었다.</p><p>하지만 Cookiecutter는 Jinja2 템플릿을 통해 미리 템플릿을 만드는 과정에서 커스터마이징과 템플릿을 활용하는 사람의 선호도에 따른 전후처리 기능을 제공한다는 점이 강력하다. 이게 Cookie를 사용하는 가장 큰 이유이다.</p><h1 id=간단하게-알아보는-cookiecutter>간단하게 알아보는 Cookiecutter<a hidden class=anchor aria-hidden=true href=#간단하게-알아보는-cookiecutter>#</a></h1><h2 id=시작하기에-앞서>시작하기에 앞서<a hidden class=anchor aria-hidden=true href=#시작하기에-앞서>#</a></h2><p>Cookiecutter는 기본적으로 모든 언어의 템플릿 생성을 지원한다.</p><blockquote><p>Project templates can be in any programming language or markup format: Python, JavaScript, Ruby, CoffeeScript, RST, Markdown, CSS, HTML, you name it. You can use multiple languages in the same project template.</p></blockquote><p>단, Cookiecutter 자체는 파이썬 기반이기에 사용하기 위해서는 OS에 파이썬이 설치되어 있어야 한다.</p><p>설치는 여느 파이썬 패키지처럼 pip으로 설치했다. brew, conda 등 다른 방법도 있으므로 <a href=https://cookiecutter.readthedocs.io/en/2.1.1/index.html target=_blank>공식문서</a>를 확인해보자.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pip install cookiecutter
</code></pre></div><h2 id=cookiecutter-동작-원리>Cookiecutter 동작 원리<a hidden class=anchor aria-hidden=true href=#cookiecutter-동작-원리>#</a></h2><p>Cookiecutter는 기본적으로 템플릿의 역할을 한다. 동작 원리는 다음과 같다.</p><ol><li>프로젝트 템플릿 내부에 내부에 다음과 같이 Jinja2 형태의 템플릿 변수를 위치한다. <code>{{ cookiecutter.your_key }}</code></li><li>입력하고자 하는 값 <code>value</code>는 <code>cookiecutter.json</code> 파일에 <code>{"your_key": value}</code> 형태로 정의해놓으면 추후 Cookiecutter를 통해 프로젝트를 생성했을 때 템플릿에 value가 입력된다.</li></ol><p>아래의 예제를 살펴보자</p><h3 id=예제-1---가장-기본적인-템플릿>예제 1) - 가장 기본적인 템플릿<a hidden class=anchor aria-hidden=true href=#예제-1---가장-기본적인-템플릿>#</a></h3><p>아래와 같이 디렉토리를 구성해보자</p><pre><code class=language-plain_text data-lang=plain_text>.
└── cookiecutter_example
    ├── cookiecutter.json
    └── {{cookiecutter.project_name}}
        ├── main.py
        ├── .env
        └── README.md
</code></pre><p><code>[main.py](http://main.py)</code> 에서는 아주 단순하게 프로젝트명, 작성자, 프로젝트 설명, 라이선스 유형을 출력하는 템플릿을 정의해두었다. 마찬가지로 <code>.env</code> 에는 프로젝트명, 초기 버전, 라이선스 유형이 입력되도록 했고, <code>[README.md](http://README.md)</code> 파일에서도 프로젝트에 대한 정보가 자동으로 기입되도록 작성했다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># ./cookiecutter_example/{{cookiecutter.project_name}}/main.py</span>

<span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
    <span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#34;Project: {{ cookiecutter.project_name }}&#34;</span>)
    <span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#34;Author: {{ cookiecutter.author }}&#34;</span>)
    <span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#34;Description: {{ cookiecutter.description }}&#34;</span>)
    <span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#34;Description: {{ cookiecutter.license }}&#34;</span>)
</code></pre></div><pre><code># ./cookiecutter_example/{{cookiecutter.project_name}}/.env

PROJECT_NAME={{ cookiecutter.project_name }}
VERSION={{ cookiecutter.initial_version }}
LICENSE={{ cookiecutter.license }}
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=color:#75715e>&lt;!-- ./cookiecutter_example/{{cookiecutter.project_name}}/README.md --&gt;</span>

# Project: {{ cookiecutter.project_name }}
<span style=color:#66d9ef>
</span><span style=color:#66d9ef>&gt; </span><span style=font-style:italic>Author: {{ cookiecutter.author }}
</span><span style=font-style:italic></span><span style=color:#66d9ef>&gt; </span><span style=font-style:italic>Description: {{ cookiecutter.description }}
</span><span style=font-style:italic></span><span style=color:#66d9ef>&gt; </span><span style=font-style:italic>License: {{ cookiecutter.license }}
</span></code></pre></div><p>그리고 Jinja2 템플릿 변수에 들어갈 내용은 <code>cookiecutter.json</code> 에 정의한다. <code>key</code>는 Jinja2 템플릿 변수와 매핑되며, <code>value</code>값은 default값으로 나중에 cookiecutter를 사용할 때 변경 가능하다. 하나의 변수값을 정의할 수도 있고, <code>license</code> 부분을 보면 알 수 있듯이 몇가지 옵션을 선택지로 정의할 수도 있다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#960050;background-color:#1e0010>//</span> <span style=color:#960050;background-color:#1e0010>./cookiecutter_example/cookiecutter.json</span>
{
	<span style=color:#f92672>&#34;project_name&#34;</span>: <span style=color:#e6db74>&#34;new_project&#34;</span>,
	<span style=color:#f92672>&#34;license&#34;</span>: [<span style=color:#e6db74>&#34;MIT License&#34;</span>, <span style=color:#e6db74>&#34;GNU General Public License v3&#34;</span>, <span style=color:#e6db74>&#34;Apache Software License 2.0&#34;</span>],
	<span style=color:#f92672>&#34;initial_version&#34;</span>: <span style=color:#e6db74>&#34;0.0.1&#34;</span>,
	<span style=color:#f92672>&#34;author&#34;</span>: <span style=color:#e6db74>&#34;John Doe&#34;</span>,
	<span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;hello world&#34;</span>
}
</code></pre></div><p>Cookiecutter를 활용한 프로젝트 생성하는 방법은 템플릿의 경로를 파라미터로 하여 실행하면, 커맨드라인에서 앞서 <code>cookiecutter.json</code>에서 정의한 템플릿 변수들의 value값을 입력하거나 선택할 수 있다. 아무것도 입력하지 않고 그대로 ENTER 를 하면 <code>[ __ ]</code> 에 입력된 앞서 정의한 디폴트 값이 선택된다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cookiecutter ./cookiecutter_example
</code></pre></div><pre><code class=language-plain_text data-lang=plain_text>project_name [new_project]: my_example_project                                    
Select license:
1 - MIT License
2 - GNU General Public License v3
3 - Apache Software License 2.0
Choose from 1, 2, 3 [1]: 1
initial_version [0.0.1]: 
author [John Doe]: WY Seo
description [hello world]: Example case for cookiecutter usage
</code></pre><p>결과를 보면 <code>my_example_project</code> 라는 프로젝트 경로가 생성되었고 하위 파일 내 템플릿 변수들이 의도한 대로 반영된 것을 확인할 수 있다.</p><pre><code class=language-plain_text data-lang=plain_text>.
└── my_example_project
        ├── main.py
        ├── .env
        └── README.md
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># ./cookiecutter_example/my_example_project/main.py</span>

<span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
    <span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#34;Project: my_example_project&#34;</span>)
    <span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#34;Author: WY Seo&#34;</span>)
    <span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#34;Description: Example case for cookiecutter usage&#34;</span>)
    <span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#34;Description: MIT License&#34;</span>)
</code></pre></div><pre><code># ./cookiecutter_example/my_example_project/.env

PROJECT_NAME=my_example_project
VERSION=0.0.1
LICENSE=MIT License
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=color:#75715e>&lt;!-- ./cookiecutter_example/my_example_project/README.md --&gt;</span>

# Project: my_example_project
<span style=color:#66d9ef>
</span><span style=color:#66d9ef>&gt; </span><span style=font-style:italic>Author: WY Seo
</span><span style=font-style:italic></span><span style=color:#66d9ef>&gt; </span><span style=font-style:italic>Description: Example case for cookiecutter usage
</span><span style=font-style:italic></span><span style=color:#66d9ef>&gt; </span><span style=font-style:italic>License: MIT License
</span></code></pre></div><h2 id=템플릿-생성-전후-처리를-지원해주는-hooks>템플릿 생성 전/후 처리를 지원해주는 <code>Hooks</code><a hidden class=anchor aria-hidden=true href=#템플릿-생성-전후-처리를-지원해주는-hooks>#</a></h2><p>Cookiecutter 에는 <code>cookiecutter.json</code> 에서 정의한 변수에 따라 템플릿에 어떠한 처리 동작을 수행할 수 있는 <code>Hooks</code> 기능이 지원된다. <code>Hooks</code>의 전후처리 로직은 파이썬 또는 쉘 스크립트로 정의할 수 있으며 <code>hooks</code> 폴더 아래 위치해야 한다. 파일 네이밍은 아래와 같이 고정되어야 한다. <code>hooks</code> 폴더는 <code>cookiecutter.json</code> 과 같은 디렉토리에 위치시키면 된다.</p><ul><li>전처리: 프로젝트 생성 전 실행<ul><li><code>pre_gen_project.py</code></li><li><code>pre_gen_project.sh</code></li></ul></li><li>후처리: 프로젝트 생성 후 실행<ul><li><code>post_gen_project.py</code></li><li><code>post_gen_project.sh</code></li></ul></li></ul><pre><code class=language-plain_text data-lang=plain_text>.
└── cookiecutter_example
    ├── cookiecutter.json
    ├── hooks  # &lt;---- hooks 정의
    │   ├── pre_gen_project.py
    │   └── post_gen_project.py
    └── {{cookiecutter.project_name}}
        ├── main.py
        ├── .env
        └── README.md
</code></pre><h3 id=예제-2---전후처리-과정이-추가된-템플릿>예제 2) - 전/후처리 과정이 추가된 템플릿<a hidden class=anchor aria-hidden=true href=#예제-2---전후처리-과정이-추가된-템플릿>#</a></h3><p>이번 예제에서는 파이썬 프로젝트에 따라 <code>setup.py</code> 파일의 유무를 선택할 수 있는 Hooks를 적용한다.</p><p>우선 프로젝트 템플릿 구조에 <code>setup.py</code> 와 <code>post_gen_project.py</code> 를 작성해둔다.</p><pre><code class=language-plain_text data-lang=plain_text>.
└── cookiecutter_example
    ├── cookiecutter.json
    ├── hooks
    │   └── post_gen_project.py # &lt;---- hooks 설정
    └── {{cookiecutter.project_name}}
        ├── main.py
        ├── requirements.txt
        └── setup.py
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># ./cookiecutter_example/{{cookiecutter.project_name}}/setup.py</span>

<span style=color:#f92672>import</span> io
<span style=color:#f92672>from</span> setuptools <span style=color:#f92672>import</span> find_packages, setup

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>long_description</span>():
    <span style=color:#66d9ef>with</span> io<span style=color:#f92672>.</span>open(<span style=color:#e6db74>&#39;README.md&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#66d9ef>as</span> f:
        readme <span style=color:#f92672>=</span> f<span style=color:#f92672>.</span>read()
    <span style=color:#66d9ef>return</span> readme

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>requirements</span>():
    <span style=color:#66d9ef>with</span> io<span style=color:#f92672>.</span>open(<span style=color:#e6db74>&#39;requirements.txt&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#66d9ef>as</span> f:
        requirements <span style=color:#f92672>=</span> f<span style=color:#f92672>.</span>read()
    <span style=color:#66d9ef>return</span> requirements

setup(
    name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{{ cookiecutter.project_name }}&#39;</span>,
    version<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{{ cookiecutter.initial_version }}&#39;</span>,
    description<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{{ cookiecutter.description }}&#39;</span>,
    long_description<span style=color:#f92672>=</span>long_description(),
    author<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{{ cookiecutter.author }}&#39;</span>,
    author_email<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{{ cookiecutter.author_email }}&#39;</span>,
    license<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{{ cookiecutter.license }}&#39;</span>,
    packages<span style=color:#f92672>=</span>find_packages(include<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;{{ cookiecutter.project_name }}&#39;</span>, <span style=color:#e6db74>&#39;{{ cookiecutter.project_name }}.*&#39;</span>]),
    install_requires<span style=color:#f92672>=</span>requirements(),
    classifiers<span style=color:#f92672>=</span>[
							<span style=color:#e6db74>&#39;Programming Language :: Python :: 3.7&#39;</span>,
              <span style=color:#e6db74>&#39;Programming Language :: Python :: 3.8&#39;</span>
              <span style=color:#e6db74>&#39;Programming Language :: Python :: 3.9&#39;</span>
              ],
)
</code></pre></div><p>이어서 <code>post_gen_project.py</code> 에는, 프로젝트 생성 이후 <code>cookiecutter.json</code> 에서 <code>{"need_setup" : false}</code> 인 경우에 <code>setup.py</code> 파일을 삭제하는 후처리 과정이 정의되어 있다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#960050;background-color:#1e0010>//</span> <span style=color:#960050;background-color:#1e0010>./cookiecutter_example/cookiecutter.json</span>
{
	<span style=color:#f92672>&#34;project_name&#34;</span>: <span style=color:#e6db74>&#34;new_project&#34;</span>,
	<span style=color:#f92672>&#34;license&#34;</span>: [<span style=color:#e6db74>&#34;MIT License&#34;</span>, <span style=color:#e6db74>&#34;GNU General Public License v3&#34;</span>, <span style=color:#e6db74>&#34;Apache Software License 2.0&#34;</span>],
	<span style=color:#f92672>&#34;initial_version&#34;</span>: <span style=color:#e6db74>&#34;0.0.1&#34;</span>,
	<span style=color:#f92672>&#34;author&#34;</span>: <span style=color:#e6db74>&#34;John Doe&#34;</span>,
	<span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;hello world&#34;</span>,
	<span style=color:#f92672>&#34;need_setup&#34;</span>: [<span style=color:#66d9ef>true</span>, <span style=color:#66d9ef>false</span>]
}
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># ./cookiecutter_example/hooks/post_gen_project.py</span>

<span style=color:#f92672>import</span> os

<span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;{{ cookiecutter.need_setup }}&#34;</span> <span style=color:#f92672>==</span> False:
    os<span style=color:#f92672>.</span>remove(os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>join(os<span style=color:#f92672>.</span>getcwd(), <span style=color:#e6db74>&#34;setup.py&#34;</span>))
</code></pre></div><p>실행하면 아래와 같이 프로젝트가 생성된다.</p><pre><code class=language-plain_text data-lang=plain_text>project_name [new_project]: my_example_project_with_hooks                                   
Select license:
1 - MIT License
2 - GNU General Public License v3
3 - Apache Software License 2.0
Choose from 1, 2, 3 [1]: 1
initial_version [0.0.1]: 
author [John Doe]: WY Seo
description [hello world]: Example case for cookiecutter usage with hooks
Select need_setup:
1 - true
2 - false
Choose from 1, 2 [1]: 2
</code></pre><pre><code class=language-plain_text data-lang=plain_text>.
└── my_example_project_with_hooks
			├── main.py
			└── requirements.txt   # &lt;--- setup.py 파일은 삭제됨.
</code></pre><h1 id=실제로-바로-사용해보았다>실제로 바로 사용해보았다<a hidden class=anchor aria-hidden=true href=#실제로-바로-사용해보았다>#</a></h1><p>이번에 Cookiecutter에 대해 알아보고 나서, 유용함을 느껴 평소에 자주 쓰는 Streamlit과 최근에 업무에 사용하게 된 FastAPI에 대한 템플릿을 만들어보았다.</p><ul><li><a href=https://github.com/wonyoungseo/cookiecutter-fastapi target=_blank>Cookiecutter FastAPI 템플릿</a></li><li><a href=https://github.com/wonyoungseo/cookiecutter-streamlit target=_blank>Cookiecutter Streamlit 템플릿</a> (오 &mldr; 홍보를 하지 않았는데 벌써 별이 하나 생겼다 !?)</li></ul><p><code>README.md</code> 에 서술했듯이, Github repository로 작성된 Cookiecutter 템플릿을 바로 사용하는 방법은 두가지 방식 모두 간편하다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># repository URL을 사용</span>
$ cookiecutter https://github.com/wonyoungseo/cookiecutter-fastapi.git

<span style=color:#75715e># Github 계정명과 repository 이름을 사용</span>
$ cookiecutter gh:wonyoungseo/cookiecutter-fastapi
</code></pre></div><h1 id=마무리하며>마무리하며<a hidden class=anchor aria-hidden=true href=#마무리하며>#</a></h1><p>Cookiecutter는 기존에 만들어져 있는, Github 별이 아주 많은 템플릿을 그대로 가져다 써도 되겠다는 생각이 들었다. 마치 Github Actions와 같다. 하지만 종종 나의 니즈와는 다르게 과하게 복잡하거나, 꼭 필요한 무언가가 빠져있는 경우도 많다.
따라서 일단은 필요에 맞게 직접 만들어보는 것을 추천한다. Cookiecutter 가 익숙해지는 계기가 될 수도!
아무튼 이제 프로젝트 뼈대는 뚝딱 생성해서 시간을 많이 아낄 수 있을 것 같다 !</p><h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li><a href=https://medium.com/worldsensing-techblog/project-templates-and-cookiecutter-6d8f99a06374 target=_blank>Project templates and cookiecutter</a></li><li><a href=https://cookiecutter.readthedocs.io/en/2.1.1/index.html target=_blank>공식 문서</a></li><li><a href=https://github.com/cookiecutter/cookiecutter target=_blank>Github Repository</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://wonyoungseo.github.io/tags/python/>python</a></li><li><a href=https://wonyoungseo.github.io/tags/cookiecutter/>cookiecutter</a></li></ul></footer></article></main><footer class=footer><span>© Wonyoung Seo 2023</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>