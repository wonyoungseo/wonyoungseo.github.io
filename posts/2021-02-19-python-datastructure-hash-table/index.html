<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[KR] 자료구조 & 알고리즘 : 해시 테이블(Hash Table) | Wonyoung's Tech Blog</title><meta name=keywords content="data structure,python"><meta name=description content="애매모호하게만 알고 있는 자료구조를 다시 공부하고 정리하는 포스트입니다. 잘 못 이해하고 있는 부분이 있다면 주저없이 지적 부탁 드립니다 :)
 1. 해쉬 테이블 (Hash Table) 1.1. 해쉬 테이블의 구조   키(Key)에 데이터(Value)가 매핑되어 저장되어 있는 구조
 Key를 통해 데이터를 바로 받아올 수 있으므로, 속도가 빠름 파이썬에서는 딕셔너리(Dictionary)가 해쉬 테이블의 예시.  dict = {&#34;key&#34;: &#34;value&#34;}   1.2. 해쉬 테이블의 용어  해쉬(Hash)  임의의 값을 고정된 길이로 변환하는 것   해쉬 테이블(Hash Table)  Key값의 연산에 의해 직접 접근이 가능한 데이터 구조   해싱 함수(Hashing Function)  Key에 대해 특정 산술 연산을 이용하여 데이터의 위치(해쉬 주소)가 리턴되는 함수   해쉬 값(Hash Value) 또는 해쉬 주소(Hash Address)  Key를 해싱 함수로 연산하여 얻는 값 Key를 해싱 함수로 연산하여 해쉬 값이 데이터의 위치."><meta name=author content="Wonyoung Seo"><link rel=canonical href=https://lucaseo.github.io/posts/2021-02-19-python-datastructure-hash-table/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.d8cbf60331b9ced42909130bf88f8b97d2eb3de242444dcc9e2df410ceb098b9.css integrity="sha256-2Mv2AzG5ztQpCRML+I+Ll9LrPeJCRE3Mni30EM6wmLk=" rel="preload stylesheet" as=style><link rel=icon href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><meta property="og:title" content="[KR] 자료구조 & 알고리즘 : 해시 테이블(Hash Table)"><meta property="og:description" content="애매모호하게만 알고 있는 자료구조를 다시 공부하고 정리하는 포스트입니다. 잘 못 이해하고 있는 부분이 있다면 주저없이 지적 부탁 드립니다 :)
 1. 해쉬 테이블 (Hash Table) 1.1. 해쉬 테이블의 구조   키(Key)에 데이터(Value)가 매핑되어 저장되어 있는 구조
 Key를 통해 데이터를 바로 받아올 수 있으므로, 속도가 빠름 파이썬에서는 딕셔너리(Dictionary)가 해쉬 테이블의 예시.  dict = {&#34;key&#34;: &#34;value&#34;}   1.2. 해쉬 테이블의 용어  해쉬(Hash)  임의의 값을 고정된 길이로 변환하는 것   해쉬 테이블(Hash Table)  Key값의 연산에 의해 직접 접근이 가능한 데이터 구조   해싱 함수(Hashing Function)  Key에 대해 특정 산술 연산을 이용하여 데이터의 위치(해쉬 주소)가 리턴되는 함수   해쉬 값(Hash Value) 또는 해쉬 주소(Hash Address)  Key를 해싱 함수로 연산하여 얻는 값 Key를 해싱 함수로 연산하여 해쉬 값이 데이터의 위치."><meta property="og:type" content="article"><meta property="og:url" content="https://lucaseo.github.io/posts/2021-02-19-python-datastructure-hash-table/"><meta property="og:image" content="https://lucaseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:published_time" content="2021-02-19T00:01:45+09:00"><meta property="article:modified_time" content="2021-02-19T00:01:45+09:00"><meta property="og:site_name" content="WY's Tech Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lucaseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[KR] 자료구조 & 알고리즘 : 해시 테이블(Hash Table)"><meta name=twitter:description content="애매모호하게만 알고 있는 자료구조를 다시 공부하고 정리하는 포스트입니다. 잘 못 이해하고 있는 부분이 있다면 주저없이 지적 부탁 드립니다 :)
 1. 해쉬 테이블 (Hash Table) 1.1. 해쉬 테이블의 구조   키(Key)에 데이터(Value)가 매핑되어 저장되어 있는 구조
 Key를 통해 데이터를 바로 받아올 수 있으므로, 속도가 빠름 파이썬에서는 딕셔너리(Dictionary)가 해쉬 테이블의 예시.  dict = {&#34;key&#34;: &#34;value&#34;}   1.2. 해쉬 테이블의 용어  해쉬(Hash)  임의의 값을 고정된 길이로 변환하는 것   해쉬 테이블(Hash Table)  Key값의 연산에 의해 직접 접근이 가능한 데이터 구조   해싱 함수(Hashing Function)  Key에 대해 특정 산술 연산을 이용하여 데이터의 위치(해쉬 주소)가 리턴되는 함수   해쉬 값(Hash Value) 또는 해쉬 주소(Hash Address)  Key를 해싱 함수로 연산하여 얻는 값 Key를 해싱 함수로 연산하여 해쉬 값이 데이터의 위치."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[KR] 자료구조 \u0026 알고리즘 : 해시 테이블(Hash Table)","name":"[KR] 자료구조 \u0026 알고리즘 : 해시 테이블(Hash Table)","description":"애매모호하게만 알고 있는 자료구조를 다시 공부하고 정리하는 포스트입니다. 잘 못 이해하고 있는 부분이 있다면 주저없이 지적 부탁 드립니다 :)\n 1. 해쉬 테이블 (Hash Table) 1.1. 해쉬 테이블의 구조   키(Key)에 데이터(Value)가 매핑되어 저장되어 있는 구조\n Key …","keywords":["data structure","python"],"articleBody":" 애매모호하게만 알고 있는 자료구조를 다시 공부하고 정리하는 포스트입니다. 잘 못 이해하고 있는 부분이 있다면 주저없이 지적 부탁 드립니다 :)\n 1. 해쉬 테이블 (Hash Table) 1.1. 해쉬 테이블의 구조   키(Key)에 데이터(Value)가 매핑되어 저장되어 있는 구조\n Key를 통해 데이터를 바로 받아올 수 있으므로, 속도가 빠름 파이썬에서는 딕셔너리(Dictionary)가 해쉬 테이블의 예시.  dict = {\"key\": \"value\"}   1.2. 해쉬 테이블의 용어  해쉬(Hash)  임의의 값을 고정된 길이로 변환하는 것   해쉬 테이블(Hash Table)  Key값의 연산에 의해 직접 접근이 가능한 데이터 구조   해싱 함수(Hashing Function)  Key에 대해 특정 산술 연산을 이용하여 데이터의 위치(해쉬 주소)가 리턴되는 함수   해쉬 값(Hash Value) 또는 해쉬 주소(Hash Address)  Key를 해싱 함수로 연산하여 얻는 값 Key를 해싱 함수로 연산하여 해쉬 값이 데이터의 위치.   슬롯(Slot)  한 개의 데이터를 저장할 수 있는 공간    1.3. 해시테이블의 장단점  장점  데이터 저장/읽기 속도가 빠름 특히 검색 속도가 빠름 Key에 대한 데이터가 있는지 확인이 쉬움. 중복 처리 및 확인이 쉬움   단점  일반적으로 저장공간이 많이 요구됨. 공간효윬어이 떨어짐.  해시함수에 따른 값이 저장될 공간이 확보되어야 하기 때문   해싱 함수로 인해 연산된 해시값/해시주소가 동일한 경우 충돌을 해결해야 함.  해시함수에 대한 의존도가 높음. 따라서 별도의 자료구조가 요구됨.      1.4. 해시테이블의 용도  검색이 많이 필요한 경우 저장, 삭제, 읽기가 빈번한 경우 캐쉬 구현  이미 데이터가 캐시에 있는지 없는지 중복확인을 할 때 해시테이블이 용이하게 적용됨.    \u0026nbsp\n2. 파이썬을 통한 해쉬함수 이해 2.1. Hash Table 2.1.1. Slot hash_table = list([i for i in range(10)]) hash_table [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] 2.1.2. Hash Function  해쉬 함수에는 다양한 기법들이 있음. Division 방식은 가장 기본적인 형태로 알려져 있음.  특정 값으로 나눈 후 나머지 값을 이용하는 기법.    def hash_func(key): return key % 5 2.1.3. 데이터 준비 data1 = 'Andy' data2 = 'Dave' data3 = 'Trump' data4 = 'Anthor' ## ord(): 문자의 ASCII(아스키)코드 리턴 print (ord(data1[0]), ord(data2[0]), ord(data3[0])) print (ord(data1[0]), hash_func(ord(data1[0]))) print (ord(data1[0]), ord(data4[0])) 65 68 84 65 0 65 65 2.1.4. 데이터 저장 def storage_data(data, value): index_key = ord(data[0]) hash_address = hash_func(index_key) hash_table[hash_address] = value storage_data('Andy', '01055553333') storage_data('Dave', '01044443333') storage_data('Trump', '01022223333') print(hash_table) ['01055553333', 1, 2, '01044443333', '01022223333', 5, 6, 7, 8, 9] 2.1.4. 데이터 읽기 def get_data(data): key = ord(data[0]) hash_address = hash_func(key) return hash_table[hash_address] get_data('Andy') '01055553333' \u0026nbsp\n3. 파이썬 예시  해시함수를 다르게 설정하고 일괄적으로 저장, 추출까지 설정했을 때.  해시함수 : key % 8    hash_table = list([0 for i in range(10)]) def hash_function(key): return key \u0026 8 def get_key(data): return hash(data) def save_data(data, value): index_key = get_key(data) hash_address = hash_function(index_key) hash_table[hash_address] = value def read_data(data): hash_address = hash_function(get_key(data)) return hash_table[hash_address] # 데이터 저장 save_data('Dave', '01020302000') save_data('Andy', '01033232200') print(hash_table) ['01033232200', 0, 0, 0, 0, 0, 0, 0, 0, 0] # 데이터 읽기 read_data('Dave') '01033232200' \u0026nbsp\n4. 해시 충돌(Hash Collision) 처리를 위한 문제 접근 방법 4.1. Separate Chaining 방식  해시 테이블 저장공간 이외의 공간을 활용함 충돌이 일어났을 때, 데이터를 뒤에 추가로 저장.  이 때, 다양한 자료구조를 활용하며 Linked List가 하나의 예가 될 수 있음. (Separate chaining with linked list)    4.1.1. Separate chaining with Linked List  데이터 저장 시, 동일한 hash_address가 존재하여 충돌이 발생하면, Linked list에 노드를 추가하여 값을 추가함. (파이썬으로는 일반 리스트로 구현함) 데이터 추출 시, hash_address에 대하여 선형 탐색하며, 해당 key에 대한 데이터를 검색 후 결과를 리턴함.  def get_key(data): return hash(data) def hash_function(key): return key % 8 def save_data(data, value): index_key = get_key(data) hash_address = hash_function(index_key) # 이미 Hash table의 공간이 차있어 충돌이 발생할 경우 if hash_table[hash_address] != 0: for index in range(len(hash_table[hash_address])): if hash_table[hash_address][index][0] == index_key: hash_table[hash_address][index][1] == value return None hash_table[hash_address].append([index_key, value]) # 새로 추가 else: hash_table[hash_address] = [[index_key, value]] def read_data(data): index_key = get_key(data) hash_address = hash_function(index_key) if hash_table[hash_address] != 0: for index in range(len(hash_table[hash_address])): if hash_table[hash_address][index][0] == index_key: return hash_table[hash_address][index][1] # value return return None else: return None return hash_table[hash_address] hash_table = list([0 for i in range(10)]) # pring hashed index_key for each data print(hash_function(get_key('Dash'))) print(hash_function(get_key('Donald'))) print(hash_function(get_key('Dave'))) print(hash_function(get_key('David'))) print(hash_function(get_key('Dwayne'))) print(hash_function(get_key('Dusan'))) print(hash_function(get_key('Don'))) print(hash_function(get_key('Dean'))) print(hash_function(get_key('Dingo'))) print(hash_function(get_key('Johnson'))) 7 6 5 3 2 4 7 6 5 0 # index_key = 1 save_data('Dash', '1111111111') save_data('Donald', '2222222222') # index_key = 3 save_data('Dave', '3333333333') # index_key = 4 save_data('David', '4444444444') save_data('Dwayne', '5555555555') save_data('Dusan', '6666666666') # index_key = 5 save_data('Don', '7777777777') # index_key = 6 save_data('Dean', '8888888888') save_data('Dingo', '9999999999') # index_key = 7 save_data('Johnson', '0000000000') print(hash_table) [[[-2635316466179689368, '0000000000']], 0, [[6215479457786385290, '5555555555']], [[-7904014224011995085, '4444444444']], [[1661792002016286988, '6666666666']], [[-7424204428908836315, '3333333333'], [2760365508324363629, '9999999999']], [[-6894406110985197394, '2222222222'], [-7882665379891136098, '8888888888']], [[-8106021915874705937, '1111111111'], [6082400908374278295, '7777777777']], 0, 0] read_data('Dusan') '6666666666' read_data(\"Dance\") # 데이터 존재 하지 않음 4.2. Open Addressing 방식  추가 메모리 공간을 사용하지 않고, 해시 테이블의 빈 공간을 사용하는 방법.  Separate chainging에 비해 메모리를 덜 사용함.    4.2.1. Linear probing  충돌이 발생할 시, 해당 hash_address의 다음 hash_address부터 가장 먼저 등장하는 빈 공간에 저장하는 기법 장점  저장공간 활용도를 높일 수 있음. 저장 시 별도의 별도의 공간이나 추가 작업이 필요 없음.   단점  해시 함수의 퍼포먼스에 따라 해시테이블의 성능이 결정됨. 대신 빈 공간을 미리 확보하기 위해 해시 테이블 저장공간을 다시 확대하거나 미리 마련이 되어 있어야 함..    def get_key(data): return hash(data) def hash_function(key): return key % 8 def save_data(data, value): index_key = get_key(data) hash_address = hash_function(index_key) # 이미 Hash table의 공간이 차있어 충돌이 발생할 경우 if hash_table[hash_address] != 0: for index in range(hash_address, len(hash_table)): if hash_table[index] == 0: hash_table[index] = [index_key, value] return elif hash_table[index][0] == index_key: hash_table[index][1] = value return else: hash_table[hash_address] = [index_key, value] def read_data(data): index_key = get_key(data) hash_address = hash_function(index_key) if hash_table[hash_address] != 0: for index in range(hash_address, len(hash_table)): if hash_table[index] == 0: return None elif hash_table[index][0] == index_key: return hash_table[index][1] else: None hash_table = list([0 for i in range(12)]) # index_key = 1 save_data('Dash', '1111111111') save_data('Donald', '2222222222') # index_key = 3 save_data('Dave', '3333333333') # index_key = 4 save_data('David', '4444444444') save_data('Dwayne', '5555555555') save_data('Dusan', '6666666666') # index_key = 5 save_data('Don', '7777777777') # index_key = 6 save_data('Dean', '8888888888') save_data('Dingo', '9999999999') # index_key = 7 save_data('Johnson', '0000000000') print(hash_table) [[-2635316466179689368, '0000000000'], 0, [6215479457786385290, '5555555555'], [-7904014224011995085, '4444444444'], [1661792002016286988, '6666666666'], [-7424204428908836315, '3333333333'], [-6894406110985197394, '2222222222'], [-8106021915874705937, '1111111111'], [6082400908374278295, '7777777777'], [-7882665379891136098, '8888888888'], [2760365508324363629, '9999999999'], 0] \u0026nbsp\n5. Hash 함수와 Key 생성 5.1. 대표적인 해시 함수들  SHA (Secure Hash Algorithm)  어떠한 데이터도 고정된 크기의 unique한 값으로 리턴하므로, 해시 함수로 유용하게 활용 가능 해시함수들의 모음이기에, 여러가지 함수를 선택할 수 있음.    import hashlib # SHA-1를 사용한 예시 data = 'David'.encode() hash_object = hashlib.sha1() hash_object.update(data) hash_address = hash_object.hexdigest() print(hash_address) d27937f914ebe99ee315f04449678eccfb658191 # SHA-256을 사용한 예시 data = 'David'.encode() hash_object = hashlib.sha256() hash_object.update(data) hash_address = hash_object.hexdigest() print(hash_address) a6b54c20a7b96eeac1a911e6da3124a560fe6dc042ebf270e3676e7095b95652 5.2. SHA-256 알고리즘을 사용한 Linear Probing 방식구현 import hashlib def get_key(data): hash_object = hashlib.sha256() hash_object.update(data.encode()) hash_address = hash_object.hexdigest() return int(hash_address, 16) def hash_function(key): return key % 8 def save_data(data, value): index_key = get_key(data) hash_address = hash_function(index_key) # 이미 Hash table의 공간이 차있어 충돌이 발생할 경우 if hash_table[hash_address] != 0: for index in range(hash_address, len(hash_table)): if hash_table[index] == 0: hash_table[index] = [index_key, value] return elif hash_table[index][0] == index_key: hash_table[index][1] = value return else: hash_table[hash_address] = [index_key, value] def read_data(data): index_key = get_key(data) hash_address = hash_function(index_key) if hash_table[hash_address] != 0: for index in range(hash_address, len(hash_table)): if hash_table[index] == 0: return None elif hash_table[index][0] == index_key: return hash_table[index][1] else: None hash_table = list([0 for i in range(12)]) print(hash_function(get_key('Dash'))) print(hash_function(get_key('Donald'))) print(hash_function(get_key('Dave'))) print(hash_function(get_key('David'))) print(hash_function(get_key('Dwayne'))) print(hash_function(get_key('Dusan'))) print(hash_function(get_key('Don'))) print(hash_function(get_key('Dean'))) print(hash_function(get_key('Dingo'))) print(hash_function(get_key('Johnson'))) 3 6 0 2 2 5 5 4 6 6 save_data('Dash', '1111111111') save_data('Donald', '2222222222') save_data('Dave', '3333333333') save_data('David', '4444444444') save_data('Dwayne', '5555555555') save_data('Dusan', '6666666666') save_data('Don', '7777777777') save_data('Dean', '8888888888') save_data('Dingo', '9999999999') save_data('Johnson', '0000000000') print(hash_table) [[58168926492874022204843410240616221587430711422315320988033179720499944676464, '3333333333'], 0, [75404257596651192996495076349601554552549513252973852817536161452854420788818, '4444444444'], [63434467723890717949172920093925024550717963975746208715791640357658818776859, '1111111111'], [103158016914344531977983463060013032302915828748947913551605310269665217945786, '5555555555'], [90558914996105951668787733552590627218772546758158603367772415150980389476661, '6666666666'], [40513459897764969709188365008375736156728765495033312981181177193702355922238, '2222222222'], [16606146580844896176716406780736496581454102609573324990177790343105877227493, '7777777777'], [88623518743408414412271740834380503561141448764593279404613947210397492361580, '8888888888'], [22241017530888154973558349121945220497843199841401728659273049527650898379222, '9999999999'], [21745812297715092507978491799105903853662369235937786557584049993744107100774, '0000000000'], 0] read_data('Dingo') '9999999999' \u0026nbsp\n6. 시간 복잡도  저장 (insertion), 삭제 (deletion), 검색(search)  Collision이 없는 경우: O(1) Collision이 모두 발생하는 최악의 경우: O(n)     해쉬 테이블의 경우, 일반적인 경우를 기대하고 만들기 때문에, 시간 복잡도는 O(1) 이라고 말할 수 있음\n \u0026nbsp\n7. Reference  Fastcampus 알고리즘 / 기술면접 강의 Hash Table Wikipedia  ","wordCount":"1228","inLanguage":"en","datePublished":"2021-02-19T00:01:45+09:00","dateModified":"2021-02-19T00:01:45+09:00","author":{"@type":"Person","name":"Wonyoung Seo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lucaseo.github.io/posts/2021-02-19-python-datastructure-hash-table/"},"publisher":{"@type":"Organization","name":"Wonyoung's Tech Blog","logo":{"@type":"ImageObject","url":"https://lucaseo.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://lucaseo.github.io/ accesskey=h title="Tech Blog (Alt + H)">Tech Blog</a>
<span class=logo-switches><a id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://lucaseo.github.io/archives/ title=posts><span>posts</span></a></li><li><a href=https://lucaseo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://lucaseo.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://lucaseo.github.io/about/ title=about><span>about</span></a></li><li><a href=https://lucaseo.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[KR] 자료구조 & 알고리즘 : 해시 테이블(Hash Table)</h1><div class=post-meta>February 19, 2021&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Wonyoung Seo</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#1-%ed%95%b4%ec%89%ac-%ed%85%8c%ec%9d%b4%eb%b8%94-hash-table aria-label="1. 해쉬 테이블 (Hash Table)">1. 해쉬 테이블 (Hash Table)</a><ul><li><a href=#11-%ed%95%b4%ec%89%ac-%ed%85%8c%ec%9d%b4%eb%b8%94%ec%9d%98-%ea%b5%ac%ec%a1%b0 aria-label="1.1. 해쉬 테이블의 구조">1.1. 해쉬 테이블의 구조</a></li><li><a href=#12-%ed%95%b4%ec%89%ac-%ed%85%8c%ec%9d%b4%eb%b8%94%ec%9d%98-%ec%9a%a9%ec%96%b4 aria-label="1.2. 해쉬 테이블의 용어">1.2. 해쉬 테이블의 용어</a></li><li><a href=#13-%ed%95%b4%ec%8b%9c%ed%85%8c%ec%9d%b4%eb%b8%94%ec%9d%98-%ec%9e%a5%eb%8b%a8%ec%a0%90 aria-label="1.3. 해시테이블의 장단점">1.3. 해시테이블의 장단점</a></li><li><a href=#14-%ed%95%b4%ec%8b%9c%ed%85%8c%ec%9d%b4%eb%b8%94%ec%9d%98-%ec%9a%a9%eb%8f%84 aria-label="1.4. 해시테이블의 용도">1.4. 해시테이블의 용도</a></li></ul></li><li><a href=#2-%ed%8c%8c%ec%9d%b4%ec%8d%ac%ec%9d%84-%ed%86%b5%ed%95%9c-%ed%95%b4%ec%89%ac%ed%95%a8%ec%88%98-%ec%9d%b4%ed%95%b4 aria-label="2. 파이썬을 통한 해쉬함수 이해">2. 파이썬을 통한 해쉬함수 이해</a><ul><li><a href=#21-hash-table aria-label="2.1. Hash Table">2.1. Hash Table</a><ul><li><a href=#211-slot aria-label="2.1.1. Slot">2.1.1. Slot</a></li><li><a href=#212-hash-function aria-label="2.1.2. Hash Function">2.1.2. Hash Function</a></li><li><a href=#213-%eb%8d%b0%ec%9d%b4%ed%84%b0-%ec%a4%80%eb%b9%84 aria-label="2.1.3. 데이터 준비">2.1.3. 데이터 준비</a></li><li><a href=#214-%eb%8d%b0%ec%9d%b4%ed%84%b0-%ec%a0%80%ec%9e%a5 aria-label="2.1.4. 데이터 저장">2.1.4. 데이터 저장</a></li><li><a href=#214-%eb%8d%b0%ec%9d%b4%ed%84%b0-%ec%9d%bd%ea%b8%b0 aria-label="2.1.4. 데이터 읽기">2.1.4. 데이터 읽기</a></li></ul></li><li><a href=#3-%ed%8c%8c%ec%9d%b4%ec%8d%ac-%ec%98%88%ec%8b%9c aria-label="3. 파이썬 예시">3. 파이썬 예시</a></li></ul></li><li><a href=#4-%ed%95%b4%ec%8b%9c-%ec%b6%a9%eb%8f%8chash-collision-%ec%b2%98%eb%a6%ac%eb%a5%bc-%ec%9c%84%ed%95%9c-%eb%ac%b8%ec%a0%9c-%ec%a0%91%ea%b7%bc-%eb%b0%a9%eb%b2%95 aria-label="4. 해시 충돌(Hash Collision) 처리를 위한 문제 접근 방법">4. 해시 충돌(Hash Collision) 처리를 위한 문제 접근 방법</a><ul><li><a href=#41-separate-chaining-%eb%b0%a9%ec%8b%9d aria-label="4.1. Separate Chaining 방식">4.1. Separate Chaining 방식</a><ul><li><a href=#411-separate-chaining-with-linked-list aria-label="4.1.1. Separate chaining with Linked List">4.1.1. Separate chaining with Linked List</a></li></ul></li><li><a href=#42-open-addressing-%eb%b0%a9%ec%8b%9d aria-label="4.2. Open Addressing 방식">4.2. Open Addressing 방식</a><ul><li><a href=#421-linear-probing aria-label="4.2.1. Linear probing">4.2.1. Linear probing</a></li></ul></li><li><a href=#5-hash-%ed%95%a8%ec%88%98%ec%99%80-key-%ec%83%9d%ec%84%b1 aria-label="5. Hash 함수와 Key 생성">5. Hash 함수와 Key 생성</a><ul><li><a href=#51-%eb%8c%80%ed%91%9c%ec%a0%81%ec%9d%b8-%ed%95%b4%ec%8b%9c-%ed%95%a8%ec%88%98%eb%93%a4 aria-label="5.1. 대표적인 해시 함수들">5.1. 대표적인 해시 함수들</a></li></ul></li><li><a href=#52-sha-256-%ec%95%8c%ea%b3%a0%eb%a6%ac%ec%a6%98%ec%9d%84-%ec%82%ac%ec%9a%a9%ed%95%9c-linear-probing-%eb%b0%a9%ec%8b%9d%ea%b5%ac%ed%98%84 aria-label="5.2. SHA-256 알고리즘을 사용한 Linear Probing 방식구현">5.2. SHA-256 알고리즘을 사용한 Linear Probing 방식구현</a></li></ul></li><li><a href=#6-%ec%8b%9c%ea%b0%84-%eb%b3%b5%ec%9e%a1%eb%8f%84 aria-label="6. 시간 복잡도">6. 시간 복잡도</a></li><li><a href=#7-reference aria-label="7. Reference">7. Reference</a></li></ul></div></details></div><div class=post-content><blockquote><p><em>애매모호하게만 알고 있는 자료구조를 다시 공부하고 정리하는 포스트입니다. 잘 못 이해하고 있는 부분이 있다면 주저없이 지적 부탁 드립니다 :)</em></p></blockquote><h1 id=1-해쉬-테이블-hash-table>1. 해쉬 테이블 (Hash Table)<a hidden class=anchor aria-hidden=true href=#1-해쉬-테이블-hash-table>#</a></h1><h2 id=11-해쉬-테이블의-구조>1.1. 해쉬 테이블의 구조<a hidden class=anchor aria-hidden=true href=#11-해쉬-테이블의-구조>#</a></h2><ul><li><p>키(Key)에 데이터(Value)가 매핑되어 저장되어 있는 구조</p><ul><li>Key를 통해 데이터를 바로 받아올 수 있으므로, 속도가 빠름</li><li>파이썬에서는 딕셔너리(Dictionary)가 해쉬 테이블의 예시.</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>dict <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;key&#34;</span>: <span style=color:#e6db74>&#34;value&#34;</span>}
</code></pre></div></li></ul><h2 id=12-해쉬-테이블의-용어>1.2. 해쉬 테이블의 용어<a hidden class=anchor aria-hidden=true href=#12-해쉬-테이블의-용어>#</a></h2><ul><li>해쉬(Hash)<ul><li>임의의 값을 고정된 길이로 변환하는 것</li></ul></li><li>해쉬 테이블(Hash Table)<ul><li>Key값의 연산에 의해 직접 접근이 가능한 데이터 구조</li></ul></li><li>해싱 함수(Hashing Function)<ul><li>Key에 대해 특정 산술 연산을 이용하여 데이터의 위치(해쉬 주소)가 리턴되는 함수</li></ul></li><li>해쉬 값(Hash Value) 또는 해쉬 주소(Hash Address)<ul><li>Key를 해싱 함수로 연산하여 얻는 값</li><li>Key를 해싱 함수로 연산하여 해쉬 값이 데이터의 위치.</li></ul></li><li>슬롯(Slot)<ul><li>한 개의 데이터를 저장할 수 있는 공간</li></ul></li></ul><h2 id=13-해시테이블의-장단점>1.3. 해시테이블의 장단점<a hidden class=anchor aria-hidden=true href=#13-해시테이블의-장단점>#</a></h2><ul><li>장점<ul><li>데이터 저장/읽기 속도가 빠름</li><li>특히 검색 속도가 빠름</li><li>Key에 대한 데이터가 있는지 확인이 쉬움.</li><li>중복 처리 및 확인이 쉬움</li></ul></li><li>단점<ul><li>일반적으로 저장공간이 많이 요구됨. 공간효윬어이 떨어짐.<ul><li>해시함수에 따른 값이 저장될 공간이 확보되어야 하기 때문</li></ul></li><li>해싱 함수로 인해 연산된 해시값/해시주소가 동일한 경우 충돌을 해결해야 함.<ul><li>해시함수에 대한 의존도가 높음.</li><li>따라서 별도의 자료구조가 요구됨.</li></ul></li></ul></li></ul><h2 id=14-해시테이블의-용도>1.4. 해시테이블의 용도<a hidden class=anchor aria-hidden=true href=#14-해시테이블의-용도>#</a></h2><ul><li>검색이 많이 필요한 경우</li><li>저장, 삭제, 읽기가 빈번한 경우</li><li>캐쉬 구현<ul><li>이미 데이터가 캐시에 있는지 없는지 중복확인을 할 때 해시테이블이 용이하게 적용됨.</li></ul></li></ul><p>&nbsp</p><h1 id=2-파이썬을-통한-해쉬함수-이해>2. 파이썬을 통한 해쉬함수 이해<a hidden class=anchor aria-hidden=true href=#2-파이썬을-통한-해쉬함수-이해>#</a></h1><h2 id=21-hash-table>2.1. Hash Table<a hidden class=anchor aria-hidden=true href=#21-hash-table>#</a></h2><h3 id=211-slot>2.1.1. Slot<a hidden class=anchor aria-hidden=true href=#211-slot>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>hash_table <span style=color:#f92672>=</span> list([i <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>10</span>)])
hash_table
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre><h3 id=212-hash-function>2.1.2. Hash Function<a hidden class=anchor aria-hidden=true href=#212-hash-function>#</a></h3><ul><li>해쉬 함수에는 다양한 기법들이 있음.</li><li>Division 방식은 가장 기본적인 형태로 알려져 있음.<ul><li>특정 값으로 나눈 후 나머지 값을 이용하는 기법.</li></ul></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hash_func</span>(key):
    <span style=color:#66d9ef>return</span> key <span style=color:#f92672>%</span> <span style=color:#ae81ff>5</span>
</code></pre></div><h3 id=213-데이터-준비>2.1.3. 데이터 준비<a hidden class=anchor aria-hidden=true href=#213-데이터-준비>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>data1 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Andy&#39;</span>
data2 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Dave&#39;</span>
data3 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Trump&#39;</span>
data4 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Anthor&#39;</span>
<span style=color:#75715e>## ord(): 문자의 ASCII(아스키)코드 리턴</span>
<span style=color:#66d9ef>print</span> (ord(data1[<span style=color:#ae81ff>0</span>]), ord(data2[<span style=color:#ae81ff>0</span>]), ord(data3[<span style=color:#ae81ff>0</span>]))
<span style=color:#66d9ef>print</span> (ord(data1[<span style=color:#ae81ff>0</span>]), hash_func(ord(data1[<span style=color:#ae81ff>0</span>])))
<span style=color:#66d9ef>print</span> (ord(data1[<span style=color:#ae81ff>0</span>]), ord(data4[<span style=color:#ae81ff>0</span>]))
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    65 68 84
    65 0
    65 65
</code></pre><h3 id=214-데이터-저장>2.1.4. 데이터 저장<a hidden class=anchor aria-hidden=true href=#214-데이터-저장>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>storage_data</span>(data, value):
    index_key <span style=color:#f92672>=</span> ord(data[<span style=color:#ae81ff>0</span>])
    hash_address <span style=color:#f92672>=</span> hash_func(index_key)
    hash_table[hash_address] <span style=color:#f92672>=</span> value
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>storage_data(<span style=color:#e6db74>&#39;Andy&#39;</span>, <span style=color:#e6db74>&#39;01055553333&#39;</span>)
storage_data(<span style=color:#e6db74>&#39;Dave&#39;</span>, <span style=color:#e6db74>&#39;01044443333&#39;</span>)
storage_data(<span style=color:#e6db74>&#39;Trump&#39;</span>, <span style=color:#e6db74>&#39;01022223333&#39;</span>)
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>print</span>(hash_table)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    ['01055553333', 1, 2, '01044443333', '01022223333', 5, 6, 7, 8, 9]
</code></pre><h3 id=214-데이터-읽기>2.1.4. 데이터 읽기<a hidden class=anchor aria-hidden=true href=#214-데이터-읽기>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_data</span>(data):
    key <span style=color:#f92672>=</span> ord(data[<span style=color:#ae81ff>0</span>])
    hash_address <span style=color:#f92672>=</span> hash_func(key)
    <span style=color:#66d9ef>return</span> hash_table[hash_address]
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>get_data(<span style=color:#e6db74>&#39;Andy&#39;</span>)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    '01055553333'
</code></pre><p>&nbsp</p><h2 id=3-파이썬-예시>3. 파이썬 예시<a hidden class=anchor aria-hidden=true href=#3-파이썬-예시>#</a></h2><ul><li>해시함수를 다르게 설정하고 일괄적으로 저장, 추출까지 설정했을 때.<ul><li>해시함수 : <code>key % 8</code></li></ul></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>hash_table <span style=color:#f92672>=</span> list([<span style=color:#ae81ff>0</span> <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>10</span>)])

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hash_function</span>(key):
    <span style=color:#66d9ef>return</span> key <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>8</span>

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_key</span>(data):
    <span style=color:#66d9ef>return</span> hash(data)

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>save_data</span>(data, value):
    index_key <span style=color:#f92672>=</span> get_key(data)
    hash_address <span style=color:#f92672>=</span> hash_function(index_key)
    hash_table[hash_address] <span style=color:#f92672>=</span> value

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>read_data</span>(data):
    hash_address <span style=color:#f92672>=</span> hash_function(get_key(data))
    <span style=color:#66d9ef>return</span> hash_table[hash_address]
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># 데이터 저장</span>
save_data(<span style=color:#e6db74>&#39;Dave&#39;</span>, <span style=color:#e6db74>&#39;01020302000&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Andy&#39;</span>, <span style=color:#e6db74>&#39;01033232200&#39;</span>)
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>print</span>(hash_table)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    ['01033232200', 0, 0, 0, 0, 0, 0, 0, 0, 0]
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># 데이터 읽기</span>
read_data(<span style=color:#e6db74>&#39;Dave&#39;</span>)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    '01033232200'
</code></pre><p>&nbsp</p><h1 id=4-해시-충돌hash-collision-처리를-위한-문제-접근-방법>4. 해시 충돌(Hash Collision) 처리를 위한 문제 접근 방법<a hidden class=anchor aria-hidden=true href=#4-해시-충돌hash-collision-처리를-위한-문제-접근-방법>#</a></h1><p><img src=https://i.stack.imgur.com/Hw21c.png#center alt></p><h2 id=41-separate-chaining-방식>4.1. Separate Chaining 방식<a hidden class=anchor aria-hidden=true href=#41-separate-chaining-방식>#</a></h2><ul><li>해시 테이블 저장공간 이외의 공간을 활용함</li><li>충돌이 일어났을 때, 데이터를 뒤에 추가로 저장.<ul><li>이 때, 다양한 자료구조를 활용하며 Linked List가 하나의 예가 될 수 있음. (Separate chaining with linked list)</li></ul></li></ul><p><img src=https://he-s3.s3.amazonaws.com/media/uploads/0e2c706.png#center alt></p><h3 id=411-separate-chaining-with-linked-list>4.1.1. Separate chaining with Linked List<a hidden class=anchor aria-hidden=true href=#411-separate-chaining-with-linked-list>#</a></h3><ul><li>데이터 저장 시, 동일한 hash_address가 존재하여 충돌이 발생하면, Linked list에 노드를 추가하여 값을 추가함. (파이썬으로는 일반 리스트로 구현함)</li><li>데이터 추출 시, hash_address에 대하여 선형 탐색하며, 해당 key에 대한 데이터를 검색 후 결과를 리턴함.</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_key</span>(data):
    <span style=color:#66d9ef>return</span> hash(data)

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hash_function</span>(key):
    <span style=color:#66d9ef>return</span> key <span style=color:#f92672>%</span> <span style=color:#ae81ff>8</span>

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>save_data</span>(data, value):
    index_key <span style=color:#f92672>=</span> get_key(data)
    hash_address <span style=color:#f92672>=</span> hash_function(index_key)
    
    <span style=color:#75715e># 이미 Hash table의 공간이 차있어 충돌이 발생할 경우</span>
    <span style=color:#66d9ef>if</span> hash_table[hash_address] <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>:  
        <span style=color:#66d9ef>for</span> index <span style=color:#f92672>in</span> range(len(hash_table[hash_address])):
            <span style=color:#66d9ef>if</span> hash_table[hash_address][index][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> index_key:
                hash_table[hash_address][index][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> value
                <span style=color:#66d9ef>return</span> None
        hash_table[hash_address]<span style=color:#f92672>.</span>append([index_key, value]) <span style=color:#75715e># 새로 추가</span>
        
    <span style=color:#66d9ef>else</span>:
        hash_table[hash_address] <span style=color:#f92672>=</span> [[index_key, value]]

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>read_data</span>(data):
    index_key <span style=color:#f92672>=</span> get_key(data)
    hash_address <span style=color:#f92672>=</span> hash_function(index_key)
    <span style=color:#66d9ef>if</span> hash_table[hash_address] <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>:
        <span style=color:#66d9ef>for</span> index <span style=color:#f92672>in</span> range(len(hash_table[hash_address])):
            <span style=color:#66d9ef>if</span> hash_table[hash_address][index][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> index_key:
                <span style=color:#66d9ef>return</span> hash_table[hash_address][index][<span style=color:#ae81ff>1</span>]  <span style=color:#75715e># value return</span>
        <span style=color:#66d9ef>return</span> None
    <span style=color:#66d9ef>else</span>:
        <span style=color:#66d9ef>return</span> None
    <span style=color:#66d9ef>return</span> hash_table[hash_address]
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>hash_table <span style=color:#f92672>=</span> list([<span style=color:#ae81ff>0</span> <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>10</span>)])
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># pring hashed index_key for each data</span>

<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dash&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Donald&#39;</span>)))

<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dave&#39;</span>)))

<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;David&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dwayne&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dusan&#39;</span>)))

<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Don&#39;</span>)))

<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dean&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dingo&#39;</span>)))

<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Johnson&#39;</span>)))
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    7
    6
    5
    3
    2
    4
    7
    6
    5
    0
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># index_key = 1</span>
save_data(<span style=color:#e6db74>&#39;Dash&#39;</span>, <span style=color:#e6db74>&#39;1111111111&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Donald&#39;</span>, <span style=color:#e6db74>&#39;2222222222&#39;</span>)

<span style=color:#75715e># index_key = 3</span>
save_data(<span style=color:#e6db74>&#39;Dave&#39;</span>, <span style=color:#e6db74>&#39;3333333333&#39;</span>)

<span style=color:#75715e># index_key = 4</span>
save_data(<span style=color:#e6db74>&#39;David&#39;</span>, <span style=color:#e6db74>&#39;4444444444&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dwayne&#39;</span>, <span style=color:#e6db74>&#39;5555555555&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dusan&#39;</span>, <span style=color:#e6db74>&#39;6666666666&#39;</span>)

<span style=color:#75715e># index_key = 5</span>
save_data(<span style=color:#e6db74>&#39;Don&#39;</span>, <span style=color:#e6db74>&#39;7777777777&#39;</span>)

<span style=color:#75715e># index_key = 6</span>
save_data(<span style=color:#e6db74>&#39;Dean&#39;</span>, <span style=color:#e6db74>&#39;8888888888&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dingo&#39;</span>, <span style=color:#e6db74>&#39;9999999999&#39;</span>)

<span style=color:#75715e># index_key = 7</span>
save_data(<span style=color:#e6db74>&#39;Johnson&#39;</span>, <span style=color:#e6db74>&#39;0000000000&#39;</span>)
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>print</span>(hash_table)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    [[[-2635316466179689368, '0000000000']],
     0,
     [[6215479457786385290, '5555555555']],
     [[-7904014224011995085, '4444444444']],
     [[1661792002016286988, '6666666666']],
     [[-7424204428908836315, '3333333333'], [2760365508324363629, '9999999999']],
     [[-6894406110985197394, '2222222222'], [-7882665379891136098, '8888888888']],
     [[-8106021915874705937, '1111111111'], [6082400908374278295, '7777777777']],
     0,
     0]
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>read_data(<span style=color:#e6db74>&#39;Dusan&#39;</span>)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    '6666666666'
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>read_data(<span style=color:#e6db74>&#34;Dance&#34;</span>) <span style=color:#75715e># 데이터 존재 하지 않음</span>
</code></pre></div><h2 id=42-open-addressing-방식>4.2. Open Addressing 방식<a hidden class=anchor aria-hidden=true href=#42-open-addressing-방식>#</a></h2><ul><li>추가 메모리 공간을 사용하지 않고, 해시 테이블의 빈 공간을 사용하는 방법.<ul><li>Separate chainging에 비해 메모리를 덜 사용함.</li></ul></li></ul><h3 id=421-linear-probing>4.2.1. Linear probing<a hidden class=anchor aria-hidden=true href=#421-linear-probing>#</a></h3><ul><li>충돌이 발생할 시, 해당 hash_address의 다음 hash_address부터 가장 먼저 등장하는 빈 공간에 저장하는 기법</li><li>장점<ul><li>저장공간 활용도를 높일 수 있음.</li><li>저장 시 별도의 별도의 공간이나 추가 작업이 필요 없음.</li></ul></li><li>단점<ul><li>해시 함수의 퍼포먼스에 따라 해시테이블의 성능이 결정됨.</li><li>대신 빈 공간을 미리 확보하기 위해 해시 테이블 저장공간을 다시 확대하거나 미리 마련이 되어 있어야 함..</li></ul></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_key</span>(data):
    <span style=color:#66d9ef>return</span> hash(data)

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hash_function</span>(key):
    <span style=color:#66d9ef>return</span> key <span style=color:#f92672>%</span> <span style=color:#ae81ff>8</span>

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>save_data</span>(data, value):
    index_key <span style=color:#f92672>=</span> get_key(data)
    hash_address <span style=color:#f92672>=</span> hash_function(index_key)
    
    <span style=color:#75715e># 이미 Hash table의 공간이 차있어 충돌이 발생할 경우</span>
    <span style=color:#66d9ef>if</span> hash_table[hash_address] <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>:
        
        <span style=color:#66d9ef>for</span> index <span style=color:#f92672>in</span> range(hash_address, len(hash_table)): 
            <span style=color:#66d9ef>if</span> hash_table[index] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
                hash_table[index] <span style=color:#f92672>=</span> [index_key, value]
                <span style=color:#66d9ef>return</span>
            <span style=color:#66d9ef>elif</span> hash_table[index][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> index_key:
                hash_table[index][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> value
                <span style=color:#66d9ef>return</span>
            
    <span style=color:#66d9ef>else</span>:
        hash_table[hash_address] <span style=color:#f92672>=</span> [index_key, value]
        
        
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>read_data</span>(data):
    index_key <span style=color:#f92672>=</span> get_key(data)
    hash_address <span style=color:#f92672>=</span> hash_function(index_key)
    
    <span style=color:#66d9ef>if</span> hash_table[hash_address] <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>:
        <span style=color:#66d9ef>for</span> index <span style=color:#f92672>in</span> range(hash_address, len(hash_table)):
            <span style=color:#66d9ef>if</span> hash_table[index] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
                <span style=color:#66d9ef>return</span> None
            <span style=color:#66d9ef>elif</span> hash_table[index][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> index_key:
                <span style=color:#66d9ef>return</span> hash_table[index][<span style=color:#ae81ff>1</span>]
    <span style=color:#66d9ef>else</span>:
        None
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>hash_table <span style=color:#f92672>=</span> list([<span style=color:#ae81ff>0</span> <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>12</span>)])
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># index_key = 1</span>
save_data(<span style=color:#e6db74>&#39;Dash&#39;</span>, <span style=color:#e6db74>&#39;1111111111&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Donald&#39;</span>, <span style=color:#e6db74>&#39;2222222222&#39;</span>)

<span style=color:#75715e># index_key = 3</span>
save_data(<span style=color:#e6db74>&#39;Dave&#39;</span>, <span style=color:#e6db74>&#39;3333333333&#39;</span>)

<span style=color:#75715e># index_key = 4</span>
save_data(<span style=color:#e6db74>&#39;David&#39;</span>, <span style=color:#e6db74>&#39;4444444444&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dwayne&#39;</span>, <span style=color:#e6db74>&#39;5555555555&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dusan&#39;</span>, <span style=color:#e6db74>&#39;6666666666&#39;</span>)

<span style=color:#75715e># index_key = 5</span>
save_data(<span style=color:#e6db74>&#39;Don&#39;</span>, <span style=color:#e6db74>&#39;7777777777&#39;</span>)

<span style=color:#75715e># index_key = 6</span>
save_data(<span style=color:#e6db74>&#39;Dean&#39;</span>, <span style=color:#e6db74>&#39;8888888888&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dingo&#39;</span>, <span style=color:#e6db74>&#39;9999999999&#39;</span>)

<span style=color:#75715e># index_key = 7</span>
save_data(<span style=color:#e6db74>&#39;Johnson&#39;</span>, <span style=color:#e6db74>&#39;0000000000&#39;</span>)
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>print</span>(hash_table)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    [[-2635316466179689368, '0000000000'],
     0,
     [6215479457786385290, '5555555555'],
     [-7904014224011995085, '4444444444'],
     [1661792002016286988, '6666666666'],
     [-7424204428908836315, '3333333333'],
     [-6894406110985197394, '2222222222'],
     [-8106021915874705937, '1111111111'],
     [6082400908374278295, '7777777777'],
     [-7882665379891136098, '8888888888'],
     [2760365508324363629, '9999999999'],
     0]
</code></pre><p>&nbsp</p><h2 id=5-hash-함수와-key-생성>5. Hash 함수와 Key 생성<a hidden class=anchor aria-hidden=true href=#5-hash-함수와-key-생성>#</a></h2><h3 id=51-대표적인-해시-함수들>5.1. 대표적인 해시 함수들<a hidden class=anchor aria-hidden=true href=#51-대표적인-해시-함수들>#</a></h3><ul><li>SHA (Secure Hash Algorithm)<ul><li>어떠한 데이터도 고정된 크기의 unique한 값으로 리턴하므로, 해시 함수로 유용하게 활용 가능</li><li>해시함수들의 모음이기에, 여러가지 함수를 선택할 수 있음.</li></ul></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> hashlib
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># SHA-1를 사용한 예시</span>
data <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;David&#39;</span><span style=color:#f92672>.</span>encode()
hash_object <span style=color:#f92672>=</span> hashlib<span style=color:#f92672>.</span>sha1() 
hash_object<span style=color:#f92672>.</span>update(data)
hash_address <span style=color:#f92672>=</span> hash_object<span style=color:#f92672>.</span>hexdigest()
<span style=color:#66d9ef>print</span>(hash_address)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    d27937f914ebe99ee315f04449678eccfb658191
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># SHA-256을 사용한 예시</span>
data <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;David&#39;</span><span style=color:#f92672>.</span>encode()
hash_object <span style=color:#f92672>=</span> hashlib<span style=color:#f92672>.</span>sha256() 
hash_object<span style=color:#f92672>.</span>update(data)
hash_address <span style=color:#f92672>=</span> hash_object<span style=color:#f92672>.</span>hexdigest()
<span style=color:#66d9ef>print</span>(hash_address)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    a6b54c20a7b96eeac1a911e6da3124a560fe6dc042ebf270e3676e7095b95652
</code></pre><h2 id=52-sha-256-알고리즘을-사용한-linear-probing-방식구현>5.2. SHA-256 알고리즘을 사용한 Linear Probing 방식구현<a hidden class=anchor aria-hidden=true href=#52-sha-256-알고리즘을-사용한-linear-probing-방식구현>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> hashlib

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_key</span>(data):
    hash_object <span style=color:#f92672>=</span> hashlib<span style=color:#f92672>.</span>sha256()
    hash_object<span style=color:#f92672>.</span>update(data<span style=color:#f92672>.</span>encode())
    hash_address <span style=color:#f92672>=</span> hash_object<span style=color:#f92672>.</span>hexdigest()
    <span style=color:#66d9ef>return</span> int(hash_address, <span style=color:#ae81ff>16</span>)

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hash_function</span>(key):
    <span style=color:#66d9ef>return</span> key <span style=color:#f92672>%</span> <span style=color:#ae81ff>8</span>

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>save_data</span>(data, value):
    index_key <span style=color:#f92672>=</span> get_key(data)
    hash_address <span style=color:#f92672>=</span> hash_function(index_key)
    
    <span style=color:#75715e># 이미 Hash table의 공간이 차있어 충돌이 발생할 경우</span>
    <span style=color:#66d9ef>if</span> hash_table[hash_address] <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>:
        
        <span style=color:#66d9ef>for</span> index <span style=color:#f92672>in</span> range(hash_address, len(hash_table)): 
            <span style=color:#66d9ef>if</span> hash_table[index] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
                hash_table[index] <span style=color:#f92672>=</span> [index_key, value]
                <span style=color:#66d9ef>return</span>
            <span style=color:#66d9ef>elif</span> hash_table[index][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> index_key:
                hash_table[index][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> value
                <span style=color:#66d9ef>return</span>
            
    <span style=color:#66d9ef>else</span>:
        hash_table[hash_address] <span style=color:#f92672>=</span> [index_key, value]
        
        
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>read_data</span>(data):
    index_key <span style=color:#f92672>=</span> get_key(data)
    hash_address <span style=color:#f92672>=</span> hash_function(index_key)
    
    <span style=color:#66d9ef>if</span> hash_table[hash_address] <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>:
        <span style=color:#66d9ef>for</span> index <span style=color:#f92672>in</span> range(hash_address, len(hash_table)):
            <span style=color:#66d9ef>if</span> hash_table[index] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
                <span style=color:#66d9ef>return</span> None
            <span style=color:#66d9ef>elif</span> hash_table[index][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> index_key:
                <span style=color:#66d9ef>return</span> hash_table[index][<span style=color:#ae81ff>1</span>]
    <span style=color:#66d9ef>else</span>:
        None
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>hash_table <span style=color:#f92672>=</span> list([<span style=color:#ae81ff>0</span> <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>12</span>)])

<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dash&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Donald&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dave&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;David&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dwayne&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dusan&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Don&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dean&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Dingo&#39;</span>)))
<span style=color:#66d9ef>print</span>(hash_function(get_key(<span style=color:#e6db74>&#39;Johnson&#39;</span>)))
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    3
    6
    0
    2
    2
    5
    5
    4
    6
    6
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>save_data(<span style=color:#e6db74>&#39;Dash&#39;</span>, <span style=color:#e6db74>&#39;1111111111&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Donald&#39;</span>, <span style=color:#e6db74>&#39;2222222222&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dave&#39;</span>, <span style=color:#e6db74>&#39;3333333333&#39;</span>)
save_data(<span style=color:#e6db74>&#39;David&#39;</span>, <span style=color:#e6db74>&#39;4444444444&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dwayne&#39;</span>, <span style=color:#e6db74>&#39;5555555555&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dusan&#39;</span>, <span style=color:#e6db74>&#39;6666666666&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Don&#39;</span>, <span style=color:#e6db74>&#39;7777777777&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dean&#39;</span>, <span style=color:#e6db74>&#39;8888888888&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Dingo&#39;</span>, <span style=color:#e6db74>&#39;9999999999&#39;</span>)
save_data(<span style=color:#e6db74>&#39;Johnson&#39;</span>, <span style=color:#e6db74>&#39;0000000000&#39;</span>)
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>print</span>(hash_table)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    [[58168926492874022204843410240616221587430711422315320988033179720499944676464,
      '3333333333'],
     0,
     [75404257596651192996495076349601554552549513252973852817536161452854420788818,
      '4444444444'],
     [63434467723890717949172920093925024550717963975746208715791640357658818776859,
      '1111111111'],
     [103158016914344531977983463060013032302915828748947913551605310269665217945786,
      '5555555555'],
     [90558914996105951668787733552590627218772546758158603367772415150980389476661,
      '6666666666'],
     [40513459897764969709188365008375736156728765495033312981181177193702355922238,
      '2222222222'],
     [16606146580844896176716406780736496581454102609573324990177790343105877227493,
      '7777777777'],
     [88623518743408414412271740834380503561141448764593279404613947210397492361580,
      '8888888888'],
     [22241017530888154973558349121945220497843199841401728659273049527650898379222,
      '9999999999'],
     [21745812297715092507978491799105903853662369235937786557584049993744107100774,
      '0000000000'],
     0]
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>read_data(<span style=color:#e6db74>&#39;Dingo&#39;</span>)
</code></pre></div><pre><code class=language-pure_text data-lang=pure_text>    '9999999999'
</code></pre><p>&nbsp</p><h1 id=6-시간-복잡도>6. 시간 복잡도<a hidden class=anchor aria-hidden=true href=#6-시간-복잡도>#</a></h1><ul><li>저장 (insertion), 삭제 (deletion), 검색(search)<ul><li>Collision이 없는 경우: O(1)</li><li>Collision이 모두 발생하는 최악의 경우: O(n)</li></ul></li></ul><blockquote><p>해쉬 테이블의 경우, 일반적인 경우를 기대하고 만들기 때문에, 시간 복잡도는 O(1) 이라고 말할 수 있음</p></blockquote><p>&nbsp</p><h1 id=7-reference>7. Reference<a hidden class=anchor aria-hidden=true href=#7-reference>#</a></h1><ul><li>Fastcampus 알고리즘 / 기술면접 강의</li><li><a href=https://en.wikipedia.org/wiki/Hash_table#Open_addressing target=_blank>Hash Table Wikipedia</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://lucaseo.github.io/tags/data-structure/>data structure</a></li><li><a href=https://lucaseo.github.io/tags/python/>python</a></li></ul></footer></article></main><footer class=footer><span>© Wonyoung Seo 2023</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>