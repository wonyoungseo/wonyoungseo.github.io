<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[KR] Kubernetes - NameSpace | Wonyoung's Tech Blog</title><meta name=keywords content="kubernetes,k8s"><meta name=description content="Namespace  Namespace 는 쿠버네티스 내 존재하는 가상의 공간 클러스터 내에서 오브젝트들과 리소스 그룹을 &ldquo;논리적&#34;으로 분리함. (물리적 분리가 아님) 작은 규모의 클러스터에서는 그냥 default에서 작업하면 되지만, 엔터프라이즈나 프로덕션 환경에서는 Namespace를 사용하는 것이 좋음  적용 예시  사용자에 따라 Namespace 접근 권한을 다르게 부여할 수 있음. Namespace마다 다른 정책을 부여할 수 있음. Namespace 별로 리소스 할당량(resource quota)을 지정/정의할 수 있음  Namespace의 유형 Default Namespace  Cluster가 처음 생성될 때 K8s가 default로 생성함 프로덕션 클러스터의 경우 Default Namespace를 사용하지 않고, 다른 Namespace를 만드는 것이 권장됨."><meta name=author content="Wonyoung Seo"><link rel=canonical href=https://wonyoungseo.github.io/posts/2024-03-05-k8s-namespace/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.d8cbf60331b9ced42909130bf88f8b97d2eb3de242444dcc9e2df410ceb098b9.css integrity="sha256-2Mv2AzG5ztQpCRML+I+Ll9LrPeJCRE3Mni30EM6wmLk=" rel="preload stylesheet" as=style><link rel=icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><meta property="og:title" content="[KR] Kubernetes - NameSpace"><meta property="og:description" content="Namespace  Namespace 는 쿠버네티스 내 존재하는 가상의 공간 클러스터 내에서 오브젝트들과 리소스 그룹을 &ldquo;논리적&#34;으로 분리함. (물리적 분리가 아님) 작은 규모의 클러스터에서는 그냥 default에서 작업하면 되지만, 엔터프라이즈나 프로덕션 환경에서는 Namespace를 사용하는 것이 좋음  적용 예시  사용자에 따라 Namespace 접근 권한을 다르게 부여할 수 있음. Namespace마다 다른 정책을 부여할 수 있음. Namespace 별로 리소스 할당량(resource quota)을 지정/정의할 수 있음  Namespace의 유형 Default Namespace  Cluster가 처음 생성될 때 K8s가 default로 생성함 프로덕션 클러스터의 경우 Default Namespace를 사용하지 않고, 다른 Namespace를 만드는 것이 권장됨."><meta property="og:type" content="article"><meta property="og:url" content="https://wonyoungseo.github.io/posts/2024-03-05-k8s-namespace/"><meta property="og:image" content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:published_time" content="2024-03-05T01:44:13+09:00"><meta property="article:modified_time" content="2024-03-05T01:44:13+09:00"><meta property="og:site_name" content="WY's Tech Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[KR] Kubernetes - NameSpace"><meta name=twitter:description content="Namespace  Namespace 는 쿠버네티스 내 존재하는 가상의 공간 클러스터 내에서 오브젝트들과 리소스 그룹을 &ldquo;논리적&#34;으로 분리함. (물리적 분리가 아님) 작은 규모의 클러스터에서는 그냥 default에서 작업하면 되지만, 엔터프라이즈나 프로덕션 환경에서는 Namespace를 사용하는 것이 좋음  적용 예시  사용자에 따라 Namespace 접근 권한을 다르게 부여할 수 있음. Namespace마다 다른 정책을 부여할 수 있음. Namespace 별로 리소스 할당량(resource quota)을 지정/정의할 수 있음  Namespace의 유형 Default Namespace  Cluster가 처음 생성될 때 K8s가 default로 생성함 프로덕션 클러스터의 경우 Default Namespace를 사용하지 않고, 다른 Namespace를 만드는 것이 권장됨."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[KR] Kubernetes - NameSpace","name":"[KR] Kubernetes - NameSpace","description":"Namespace  Namespace 는 쿠버네티스 내 존재하는 가상의 공간 클러스터 내에서 오브젝트들과 리소스 그룹을 \u0026amp;ldquo;논리적\u0026amp;quot;으로 분리함. (물리적 분리가 아님) 작은 규모의 클러스터에서는 그냥 default에서 작업하면 되지만, 엔터프라이즈나 프로덕션 환경에서는 Namespace를 사용하는 것이  …","keywords":["kubernetes","k8s"],"articleBody":"Namespace  Namespace 는 쿠버네티스 내 존재하는 가상의 공간 클러스터 내에서 오브젝트들과 리소스 그룹을 “논리적\"으로 분리함. (물리적 분리가 아님) 작은 규모의 클러스터에서는 그냥 default에서 작업하면 되지만, 엔터프라이즈나 프로덕션 환경에서는 Namespace를 사용하는 것이 좋음  적용 예시  사용자에 따라 Namespace 접근 권한을 다르게 부여할 수 있음. Namespace마다 다른 정책을 부여할 수 있음. Namespace 별로 리소스 할당량(resource quota)을 지정/정의할 수 있음  Namespace의 유형 Default Namespace  Cluster가 처음 생성될 때 K8s가 default로 생성함 프로덕션 클러스터의 경우 Default Namespace를 사용하지 않고, 다른 Namespace를 만드는 것이 권장됨.  kube-system  쿠버네티스가 네트워킹 DNS서비스 등 내부적인 용도로 생성함 사용자가 사용, 편집, 삭제 등을 하지 못 하도록 격리함  kube-public  유저에게 제공되는 리소스들이 위치한 Namespace  사용 예시 다른 Namespace에 위치한 Pod 접근하기  다른 Namespace 의 자원에 접근하려고 하면, 해당 Namespace를 명시해야 함  ex)  msql.connect(\"db-service\") - 동일 Namespace 내 msql.connect(\"db-service.dev.svc.cluster.local\") - 다른 Namespace에 위치한 자원   DNS 형식  {SERVICE}.{NAMESPACE}.{sub domain of SERVICE}.{default domain for CLUSTER}      Namespace 내 Pod 조회하기 # Namespace 이름으로 필터링 kubectl get pods --namespace=kube-system 특정 Namespace 내부에 Pod 생성하기 kubectl create -f pod-definition.yml --namespace=dev # 또는 yaml file 내부에 metadata 아래 namespace 를 명시해도 됨 Namespace 생성하기 apiVersion: v1 kind: Namespace metadata: name: dev kubectl create -f namespace-dev.yaml\nOR\nkubectl create namespace dev\n특정 Namespace를 기본으로 설정하기 kubectl config set-context $(kubectl config current-context) --namespace=dev 리소스 할당 정의하기 apiVersion: v1 kind: ResourceQuota metadata: name: compute-quota namespace: dev spec: hard: pods: \"10\" requests.cpu: \"4\" requests.memory: 5Gi limits.cpu: \"10\" limits.memory: 10Gi kubectl create -f compute-quota.yaml\nReference  Kubernetes Documentation Kodekloud  ","wordCount":"235","inLanguage":"en","datePublished":"2024-03-05T01:44:13+09:00","dateModified":"2024-03-05T01:44:13+09:00","author":{"@type":"Person","name":"Wonyoung Seo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wonyoungseo.github.io/posts/2024-03-05-k8s-namespace/"},"publisher":{"@type":"Organization","name":"Wonyoung's Tech Blog","logo":{"@type":"ImageObject","url":"https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://wonyoungseo.github.io/ accesskey=h title="Tech Blog (Alt + H)">Tech Blog</a>
<span class=logo-switches><a id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://wonyoungseo.github.io/archives/ title=posts><span>posts</span></a></li><li><a href=https://wonyoungseo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://wonyoungseo.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wonyoungseo.github.io/about/ title=about><span>about</span></a></li><li><a href=https://wonyoungseo.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[KR] Kubernetes - NameSpace</h1><div class=post-meta>March 5, 2024&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Wonyoung Seo</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#namespace aria-label=Namespace>Namespace</a><ul><li><a href=#%ec%a0%81%ec%9a%a9-%ec%98%88%ec%8b%9c aria-label="적용 예시">적용 예시</a></li></ul></li><li><a href=#namespace%ec%9d%98-%ec%9c%a0%ed%98%95 aria-label="Namespace의 유형">Namespace의 유형</a><ul><li><a href=#default-namespace aria-label="Default Namespace">Default Namespace</a></li><li><a href=#kube-system aria-label=kube-system>kube-system</a></li><li><a href=#kube-public aria-label=kube-public>kube-public</a></li></ul></li><li><a href=#%ec%82%ac%ec%9a%a9-%ec%98%88%ec%8b%9c aria-label="사용 예시">사용 예시</a><ul><li><a href=#%eb%8b%a4%eb%a5%b8-namespace%ec%97%90-%ec%9c%84%ec%b9%98%ed%95%9c-pod-%ec%a0%91%ea%b7%bc%ed%95%98%ea%b8%b0 aria-label="다른 Namespace에 위치한 Pod 접근하기">다른 Namespace에 위치한 Pod 접근하기</a></li><li><a href=#namespace-%eb%82%b4-pod-%ec%a1%b0%ed%9a%8c%ed%95%98%ea%b8%b0 aria-label="Namespace 내 Pod 조회하기">Namespace 내 Pod 조회하기</a></li><li><a href=#%ed%8a%b9%ec%a0%95-namespace-%eb%82%b4%eb%b6%80%ec%97%90-pod-%ec%83%9d%ec%84%b1%ed%95%98%ea%b8%b0 aria-label="특정 Namespace 내부에 Pod 생성하기">특정 Namespace 내부에 Pod 생성하기</a></li><li><a href=#namespace--%ec%83%9d%ec%84%b1%ed%95%98%ea%b8%b0 aria-label="Namespace  생성하기">Namespace 생성하기</a></li><li><a href=#%ed%8a%b9%ec%a0%95-namespace%eb%a5%bc-%ea%b8%b0%eb%b3%b8%ec%9c%bc%eb%a1%9c-%ec%84%a4%ec%a0%95%ed%95%98%ea%b8%b0 aria-label="특정 Namespace를 기본으로 설정하기">특정 Namespace를 기본으로 설정하기</a></li><li><a href=#%eb%a6%ac%ec%86%8c%ec%8a%a4-%ed%95%a0%eb%8b%b9-%ec%a0%95%ec%9d%98%ed%95%98%ea%b8%b0 aria-label="리소스 할당 정의하기">리소스 할당 정의하기</a></li></ul></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><h2 id=namespace>Namespace<a hidden class=anchor aria-hidden=true href=#namespace>#</a></h2><ul><li>Namespace 는 쿠버네티스 내 존재하는 가상의 공간</li><li>클러스터 내에서 오브젝트들과 리소스 그룹을 &ldquo;논리적"으로 분리함. (물리적 분리가 아님)</li><li>작은 규모의 클러스터에서는 그냥 default에서 작업하면 되지만, 엔터프라이즈나 프로덕션 환경에서는 Namespace를 사용하는 것이 좋음</li></ul><h3 id=적용-예시>적용 예시<a hidden class=anchor aria-hidden=true href=#적용-예시>#</a></h3><ul><li>사용자에 따라 Namespace 접근 권한을 다르게 부여할 수 있음.</li><li>Namespace마다 다른 정책을 부여할 수 있음.</li><li>Namespace 별로 리소스 할당량(resource quota)을 지정/정의할 수 있음</li></ul><h2 id=namespace의-유형>Namespace의 유형<a hidden class=anchor aria-hidden=true href=#namespace의-유형>#</a></h2><h3 id=default-namespace>Default Namespace<a hidden class=anchor aria-hidden=true href=#default-namespace>#</a></h3><ul><li>Cluster가 처음 생성될 때 K8s가 default로 생성함</li><li>프로덕션 클러스터의 경우 Default Namespace를 사용하지 않고, 다른 Namespace를 만드는 것이 권장됨.</li></ul><h3 id=kube-system>kube-system<a hidden class=anchor aria-hidden=true href=#kube-system>#</a></h3><ul><li>쿠버네티스가 네트워킹 DNS서비스 등 내부적인 용도로 생성함</li><li>사용자가 사용, 편집, 삭제 등을 하지 못 하도록 격리함</li></ul><h3 id=kube-public>kube-public<a hidden class=anchor aria-hidden=true href=#kube-public>#</a></h3><ul><li>유저에게 제공되는 리소스들이 위치한 Namespace</li></ul><h2 id=사용-예시>사용 예시<a hidden class=anchor aria-hidden=true href=#사용-예시>#</a></h2><h3 id=다른-namespace에-위치한-pod-접근하기>다른 Namespace에 위치한 Pod 접근하기<a hidden class=anchor aria-hidden=true href=#다른-namespace에-위치한-pod-접근하기>#</a></h3><ul><li>다른 Namespace 의 자원에 접근하려고 하면, 해당 Namespace를 명시해야 함<ul><li>ex)<ul><li><code>msql.connect("db-service")</code> - 동일 Namespace 내</li><li><code>msql.connect("db-service.dev.svc.cluster.local")</code> - 다른 Namespace에 위치한 자원</li></ul></li><li>DNS 형식<ul><li><code>{SERVICE}.{NAMESPACE}.{sub domain of SERVICE}.{default domain for CLUSTER}</code></li></ul></li></ul></li></ul><h3 id=namespace-내-pod-조회하기>Namespace 내 Pod 조회하기<a hidden class=anchor aria-hidden=true href=#namespace-내-pod-조회하기>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Namespace 이름으로 필터링</span>
kubectl get pods --namespace<span style=color:#f92672>=</span>kube-system 
</code></pre></div><h3 id=특정-namespace-내부에-pod-생성하기>특정 Namespace 내부에 Pod 생성하기<a hidden class=anchor aria-hidden=true href=#특정-namespace-내부에-pod-생성하기>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl create -f pod-definition.yml --namespace<span style=color:#f92672>=</span>dev  
<span style=color:#75715e># 또는 yaml file 내부에 metadata 아래 namespace 를 명시해도 됨</span>
</code></pre></div><h3 id=namespace--생성하기>Namespace 생성하기<a hidden class=anchor aria-hidden=true href=#namespace--생성하기>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
<span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Namespace</span>
<span style=color:#f92672>metadata</span>:
	<span style=color:#f92672>name</span>: <span style=color:#ae81ff>dev</span>
</code></pre></div><p><code>kubectl create -f namespace-dev.yaml</code></p><p>OR</p><p><code>kubectl create namespace dev</code></p><h3 id=특정-namespace를-기본으로-설정하기>특정 Namespace를 기본으로 설정하기<a hidden class=anchor aria-hidden=true href=#특정-namespace를-기본으로-설정하기>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl config set-context <span style=color:#66d9ef>$(</span>kubectl config current-context<span style=color:#66d9ef>)</span> --namespace<span style=color:#f92672>=</span>dev
</code></pre></div><h3 id=리소스-할당-정의하기>리소스 할당 정의하기<a hidden class=anchor aria-hidden=true href=#리소스-할당-정의하기>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>apiVersion: v1
kind: ResourceQuota
metadata:
	name: compute-quota
	namespace: dev
spec:
	hard:
		pods: <span style=color:#e6db74>&#34;10&#34;</span>
		requests.cpu: <span style=color:#e6db74>&#34;4&#34;</span>
		requests.memory: 5Gi
		limits.cpu: <span style=color:#e6db74>&#34;10&#34;</span>
		limits.memory: 10Gi
</code></pre></div><p><code>kubectl create -f compute-quota.yaml</code></p><h2 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h2><ul><li><a href=https://kubernetes.io/ko/docs/concepts/overview/working-with-objects/namespaces/#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-%EB%84%A4%EC%9E%84%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EA%B2%BD%EC%9A%B0 target=_blank>Kubernetes Documentation</a></li><li><a href=https://kodekloud.com/ target=_blank>Kodekloud</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://wonyoungseo.github.io/tags/kubernetes/>kubernetes</a></li><li><a href=https://wonyoungseo.github.io/tags/k8s/>k8s</a></li></ul></footer></article></main><footer class=footer><span>© Wonyoung Seo 2023</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>