<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[KR] Docker Compose 개념 | Wonyoung's Tech Blog</title><meta name=keywords content="docker"><meta name=description content="본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.
 Docker Compose Docker Compose란  지금까지는 도커에서 개별의 명령어를 쳐서 이미지를 다운로드하고 컨테이너를 띄우는 과정을 거쳤음 도커 명령어를 통한 작업은 실수가 발생할 수 있는데, 도커 컴포즈는 이 문제를 해결할 수 있는 간결한 방법을 제시함 도커 컴포즈는 띄우려고 하는 복수의 컨테이너에 대한 사항을 Yaml(야믈)파일에 정리하여, 한번에 실행시키는 방식으로 동작함.  Docker Compose 설치   도커 컴포즈는 기본적으로 docker for mac을 설치할 때 함께 설치됨 (리눅스의 경우 그러하지 않기 때문에 따로 설치가 필요함)"><meta name=author content="Wonyoung Seo"><link rel=canonical href=https://wonyoungseo.github.io/posts/2021-04-15-docker-compose-basic/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.d8cbf60331b9ced42909130bf88f8b97d2eb3de242444dcc9e2df410ceb098b9.css integrity="sha256-2Mv2AzG5ztQpCRML+I+Ll9LrPeJCRE3Mni30EM6wmLk=" rel="preload stylesheet" as=style><link rel=icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><meta property="og:title" content="[KR] Docker Compose 개념"><meta property="og:description" content="본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.
 Docker Compose Docker Compose란  지금까지는 도커에서 개별의 명령어를 쳐서 이미지를 다운로드하고 컨테이너를 띄우는 과정을 거쳤음 도커 명령어를 통한 작업은 실수가 발생할 수 있는데, 도커 컴포즈는 이 문제를 해결할 수 있는 간결한 방법을 제시함 도커 컴포즈는 띄우려고 하는 복수의 컨테이너에 대한 사항을 Yaml(야믈)파일에 정리하여, 한번에 실행시키는 방식으로 동작함.  Docker Compose 설치   도커 컴포즈는 기본적으로 docker for mac을 설치할 때 함께 설치됨 (리눅스의 경우 그러하지 않기 때문에 따로 설치가 필요함)"><meta property="og:type" content="article"><meta property="og:url" content="https://wonyoungseo.github.io/posts/2021-04-15-docker-compose-basic/"><meta property="og:image" content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:published_time" content="2021-04-15T02:12:21+09:00"><meta property="article:modified_time" content="2021-04-15T02:12:21+09:00"><meta property="og:site_name" content="WY's Tech Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[KR] Docker Compose 개념"><meta name=twitter:description content="본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.
 Docker Compose Docker Compose란  지금까지는 도커에서 개별의 명령어를 쳐서 이미지를 다운로드하고 컨테이너를 띄우는 과정을 거쳤음 도커 명령어를 통한 작업은 실수가 발생할 수 있는데, 도커 컴포즈는 이 문제를 해결할 수 있는 간결한 방법을 제시함 도커 컴포즈는 띄우려고 하는 복수의 컨테이너에 대한 사항을 Yaml(야믈)파일에 정리하여, 한번에 실행시키는 방식으로 동작함.  Docker Compose 설치   도커 컴포즈는 기본적으로 docker for mac을 설치할 때 함께 설치됨 (리눅스의 경우 그러하지 않기 때문에 따로 설치가 필요함)"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[KR] Docker Compose 개념","name":"[KR] Docker Compose 개념","description":"본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.\n Docker Compose Docker Compose란  지금까지는 도커에서 개별의 명령어를 쳐서 이미지를 다운로드하고 컨테이너를 띄우는 과정을 거쳤음 도커 명령어를 통한 작업은 실수가 발생할 수 있는데, 도커 컴포즈는 이 문제를 해결할  …","keywords":["docker"],"articleBody":" 본 포스트는 인프런: 초보를 위한 도커 안내서 강의를 수강하며 정리한 내용입니다.\n Docker Compose Docker Compose란  지금까지는 도커에서 개별의 명령어를 쳐서 이미지를 다운로드하고 컨테이너를 띄우는 과정을 거쳤음 도커 명령어를 통한 작업은 실수가 발생할 수 있는데, 도커 컴포즈는 이 문제를 해결할 수 있는 간결한 방법을 제시함 도커 컴포즈는 띄우려고 하는 복수의 컨테이너에 대한 사항을 Yaml(야믈)파일에 정리하여, 한번에 실행시키는 방식으로 동작함.  Docker Compose 설치   도커 컴포즈는 기본적으로 docker for mac을 설치할 때 함께 설치됨 (리눅스의 경우 그러하지 않기 때문에 따로 설치가 필요함)\n  리눅스의 설치\n  $ sudo curl -L \"https://github.com/docker/compose/releases/download/1.29.0/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose $ sudo chmod +x /usr/local/bin/docker-compose  설치 버전 확인하기  $ docker-compose version docker-compose version 1.28.5, build c4eb3a1f docker-py version: 4.4.4 CPython version: 3.9.0 OpenSSL version: OpenSSL 1.1.1h 22 Sep 2020 Yaml(.yml) 개념 XML, JSON과 같이 시스템 사이에 데이터를 주고 받을 때 사용하는 포맷\n XML 의 구조:  key-value : value array :          JSON 의 구조  key-value : {key: value} array    {key: [array1], [array2], [array3], }  Yaml의 구조  key-value : key: value array : 하이픈을 통해 array임을 구별    key : - array1 - array2 docker-compose.yml 예제  워드프레스 블로그를 도커로 띄우기  요구사항  MySQL 컨테이너 띄우기  블로그 데이터베이스가 저장될 볼륨 마운트 하기 워드프레스를 위한 데이터베이스 생성하기   Wordpress 컨테이너 띄우기  볼륨 마운트 하기 MySQL 컨테이너에 연결하여 데이터베이스 사용하기        # docker-compose.yml version: '2' services: db: image: mysql/mysql-server:8.0.15 volumes: - ./mysql:/var/lib/mysql restart: always environment: MYSQL_ROOT_PASSWORD: wordpress MYSQL_DATABASE: wordpress MYSQL_USER: wordpress MYSQL_PASSWORD: wordpress wordpress: image: wordpress:latest volumes: - ./wp:/var/www/html ports: - \"8000:80\" restart: always environment: WORDPRESS_DB_HOST: db:3306 WORDPRESS_DB_PASSWORD: wordpress WORDPRESS_DB_USER: wordpress 실행 $ docker-compose up Reference  인프런 초보를 위한 도커 안내서  ","wordCount":"257","inLanguage":"en","datePublished":"2021-04-15T02:12:21+09:00","dateModified":"2021-04-15T02:12:21+09:00","author":{"@type":"Person","name":"Wonyoung Seo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wonyoungseo.github.io/posts/2021-04-15-docker-compose-basic/"},"publisher":{"@type":"Organization","name":"Wonyoung's Tech Blog","logo":{"@type":"ImageObject","url":"https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://wonyoungseo.github.io/ accesskey=h title="Tech Blog (Alt + H)">Tech Blog</a>
<span class=logo-switches><a id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://wonyoungseo.github.io/archives/ title=posts><span>posts</span></a></li><li><a href=https://wonyoungseo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://wonyoungseo.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wonyoungseo.github.io/about/ title=about><span>about</span></a></li><li><a href=https://wonyoungseo.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[KR] Docker Compose 개념</h1><div class=post-meta>April 15, 2021&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Wonyoung Seo</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#docker-compose aria-label="Docker Compose">Docker Compose</a><ul><li><a href=#docker-compose%eb%9e%80 aria-label="Docker Compose란">Docker Compose란</a></li><li><a href=#docker-compose-%ec%84%a4%ec%b9%98 aria-label="Docker Compose 설치">Docker Compose 설치</a></li></ul></li><li><a href=#yamlyml-%ea%b0%9c%eb%85%90 aria-label="Yaml(.yml) 개념">Yaml(.yml) 개념</a></li><li><a href=#docker-composeyml-%ec%98%88%ec%a0%9c aria-label="docker-compose.yml 예제">docker-compose.yml 예제</a><ul><li><a href=#%ec%8b%a4%ed%96%89 aria-label=실행>실행</a></li></ul></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><blockquote><p>본 포스트는 <strong>인프런: 초보를 위한 도커 안내서</strong> 강의를 수강하며 정리한 내용입니다.</p></blockquote><h2 id=docker-compose>Docker Compose<a hidden class=anchor aria-hidden=true href=#docker-compose>#</a></h2><h3 id=docker-compose란>Docker Compose란<a hidden class=anchor aria-hidden=true href=#docker-compose란>#</a></h3><ul><li>지금까지는 도커에서 개별의 명령어를 쳐서 이미지를 다운로드하고 컨테이너를 띄우는 과정을 거쳤음</li><li>도커 명령어를 통한 작업은 실수가 발생할 수 있는데, 도커 컴포즈는 이 문제를 해결할 수 있는 간결한 방법을 제시함</li><li>도커 컴포즈는 띄우려고 하는 복수의 컨테이너에 대한 사항을 Yaml(야믈)파일에 정리하여, 한번에 실행시키는 방식으로 동작함.</li></ul><h3 id=docker-compose-설치>Docker Compose 설치<a hidden class=anchor aria-hidden=true href=#docker-compose-설치>#</a></h3><ul><li><p>도커 컴포즈는 기본적으로 docker for mac을 설치할 때 함께 설치됨 (리눅스의 경우 그러하지 않기 때문에 따로 설치가 필요함)</p></li><li><p>리눅스의 설치</p></li></ul><pre><code>$ sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.0/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose
$ sudo chmod +x /usr/local/bin/docker-compose
</code></pre><ul><li>설치 버전 확인하기</li></ul><pre><code>$ docker-compose version
docker-compose version 1.28.5, build c4eb3a1f
docker-py version: 4.4.4
CPython version: 3.9.0
OpenSSL version: OpenSSL 1.1.1h  22 Sep 2020
</code></pre><h2 id=yamlyml-개념>Yaml(.yml) 개념<a hidden class=anchor aria-hidden=true href=#yamlyml-개념>#</a></h2><p>XML, JSON과 같이 시스템 사이에 데이터를 주고 받을 때 사용하는 포맷</p><ul><li>XML 의 구조:<ul><li>key-value : <code>&lt;key>value&lt;/key></code></li><li>array :</li></ul></li></ul><pre><code>&lt;parent&gt;
	&lt;child1&gt;&lt;/child1&gt;
	&lt;child2&gt;&lt;/child2&gt;
	&lt;child3&gt;&lt;/child3&gt;
&lt;/parent&gt;
</code></pre><ul><li>JSON 의 구조<ul><li>key-value : <code>{key: value}</code></li><li>array</li></ul></li></ul><pre><code>{key: 
	[array1], 
	[array2],
	[array3],
}
</code></pre><ul><li>Yaml의 구조<ul><li>key-value : <code>key: value</code></li><li>array : 하이픈을 통해 array임을 구별</li></ul></li></ul><pre><code>key : 
- array1
- array2
</code></pre><h2 id=docker-composeyml-예제>docker-compose.yml 예제<a hidden class=anchor aria-hidden=true href=#docker-composeyml-예제>#</a></h2><ul><li>워드프레스 블로그를 도커로 띄우기<ul><li>요구사항<ul><li>MySQL 컨테이너 띄우기<ul><li>블로그 데이터베이스가 저장될 볼륨 마운트 하기</li><li>워드프레스를 위한 데이터베이스 생성하기</li></ul></li><li>Wordpress 컨테이너 띄우기<ul><li>볼륨 마운트 하기</li><li>MySQL 컨테이너에 연결하여 데이터베이스 사용하기</li></ul></li></ul></li></ul></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#75715e># docker-compose.yml</span>

<span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;2&#39;</span>
<span style=color:#f92672>services</span>:
  <span style=color:#f92672>db</span>:
    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>mysql/mysql-server:8.0.15</span>
    <span style=color:#f92672>volumes</span>: 
      - <span style=color:#ae81ff>./mysql:/var/lib/mysql</span>
    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
    <span style=color:#f92672>environment</span>:
      <span style=color:#f92672>MYSQL_ROOT_PASSWORD</span>: <span style=color:#ae81ff>wordpress</span>
      <span style=color:#f92672>MYSQL_DATABASE</span>: <span style=color:#ae81ff>wordpress</span>
      <span style=color:#f92672>MYSQL_USER</span>: <span style=color:#ae81ff>wordpress</span>
      <span style=color:#f92672>MYSQL_PASSWORD</span>: <span style=color:#ae81ff>wordpress</span>
  <span style=color:#f92672>wordpress</span>:
    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>wordpress:latest</span>
    <span style=color:#f92672>volumes</span>:
      - <span style=color:#ae81ff>./wp:/var/www/html</span>
    <span style=color:#f92672>ports</span>:
      - <span style=color:#e6db74>&#34;8000:80&#34;</span>
    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
    <span style=color:#f92672>environment</span>:
      <span style=color:#f92672>WORDPRESS_DB_HOST</span>: <span style=color:#ae81ff>db:3306</span>
      <span style=color:#f92672>WORDPRESS_DB_PASSWORD</span>: <span style=color:#ae81ff>wordpress</span>
      <span style=color:#f92672>WORDPRESS_DB_USER</span>: <span style=color:#ae81ff>wordpress</span>
</code></pre></div><h3 id=실행>실행<a hidden class=anchor aria-hidden=true href=#실행>#</a></h3><pre><code>$ docker-compose up
</code></pre><h2 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h2><ul><li><a href=https://www.inflearn.com/course/%EB%8F%84%EC%BB%A4-%EC%9E%85%EB%AC%B8# target=_blank>인프런 초보를 위한 도커 안내서</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://wonyoungseo.github.io/tags/docker/>docker</a></li></ul></footer></article></main><footer class=footer><span>© Wonyoung Seo 2023</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>