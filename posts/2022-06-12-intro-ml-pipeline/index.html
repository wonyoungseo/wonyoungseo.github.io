<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[KR] 머신러닝 파이프라인 개념 정리 | Wonyoung's Tech Blog</title><meta name=keywords content="mlops,machine learning operation,machine learning"><meta name=description content="어떠한 일련의 작업들을 순서대로 묶어 위험요소나 외부의 개입을 최소화하고 자동으로 실행하고자 할 때 파이프라인을 구축한다.
파이프라인의 개념이 적용되지 않은 머신러닝 프로젝트는 결과물을 얻기 위한 과정의 자동화와 재사용성이 확보되지 않기 때문에 일회성 PoC에 그칠 가능성이 높다.
머신러닝 파이프라인이라는 개념은 머신러닝 모델을 학습하고, 재사용하며, 필요한 자원들을 관리하고 배포하는 일련의 과정을 표준화하고 자동으로 동작할 수 있도록 하기 위해 논의 되기 시작했다.
DAG 파이프라인은 대개 DAG(Directed acyclic graph: 방향성 비순환 그래프)의 형태를 띄고 있다. 이름에서 알 수 있듯이, DAG는 방향을 가지되, 루프는 존재하지 않아, 그래프의 시작과 종료가 이루어지는 시점이 명확하기에 파이프라인을 구성하는데 적절한 구조이다."><meta name=author content="Wonyoung Seo"><link rel=canonical href=https://wonyoungseo.github.io/posts/2022-06-12-intro-ml-pipeline/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.d8cbf60331b9ced42909130bf88f8b97d2eb3de242444dcc9e2df410ceb098b9.css integrity="sha256-2Mv2AzG5ztQpCRML+I+Ll9LrPeJCRE3Mni30EM6wmLk=" rel="preload stylesheet" as=style><link rel=icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><meta property="og:title" content="[KR] 머신러닝 파이프라인 개념 정리"><meta property="og:description" content="어떠한 일련의 작업들을 순서대로 묶어 위험요소나 외부의 개입을 최소화하고 자동으로 실행하고자 할 때 파이프라인을 구축한다.
파이프라인의 개념이 적용되지 않은 머신러닝 프로젝트는 결과물을 얻기 위한 과정의 자동화와 재사용성이 확보되지 않기 때문에 일회성 PoC에 그칠 가능성이 높다.
머신러닝 파이프라인이라는 개념은 머신러닝 모델을 학습하고, 재사용하며, 필요한 자원들을 관리하고 배포하는 일련의 과정을 표준화하고 자동으로 동작할 수 있도록 하기 위해 논의 되기 시작했다.
DAG 파이프라인은 대개 DAG(Directed acyclic graph: 방향성 비순환 그래프)의 형태를 띄고 있다. 이름에서 알 수 있듯이, DAG는 방향을 가지되, 루프는 존재하지 않아, 그래프의 시작과 종료가 이루어지는 시점이 명확하기에 파이프라인을 구성하는데 적절한 구조이다."><meta property="og:type" content="article"><meta property="og:url" content="https://wonyoungseo.github.io/posts/2022-06-12-intro-ml-pipeline/"><meta property="og:image" content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:published_time" content="2022-06-12T08:34:26+09:00"><meta property="article:modified_time" content="2022-06-12T08:34:26+09:00"><meta property="og:site_name" content="WY's Tech Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wonyoungseo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[KR] 머신러닝 파이프라인 개념 정리"><meta name=twitter:description content="어떠한 일련의 작업들을 순서대로 묶어 위험요소나 외부의 개입을 최소화하고 자동으로 실행하고자 할 때 파이프라인을 구축한다.
파이프라인의 개념이 적용되지 않은 머신러닝 프로젝트는 결과물을 얻기 위한 과정의 자동화와 재사용성이 확보되지 않기 때문에 일회성 PoC에 그칠 가능성이 높다.
머신러닝 파이프라인이라는 개념은 머신러닝 모델을 학습하고, 재사용하며, 필요한 자원들을 관리하고 배포하는 일련의 과정을 표준화하고 자동으로 동작할 수 있도록 하기 위해 논의 되기 시작했다.
DAG 파이프라인은 대개 DAG(Directed acyclic graph: 방향성 비순환 그래프)의 형태를 띄고 있다. 이름에서 알 수 있듯이, DAG는 방향을 가지되, 루프는 존재하지 않아, 그래프의 시작과 종료가 이루어지는 시점이 명확하기에 파이프라인을 구성하는데 적절한 구조이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[KR] 머신러닝 파이프라인 개념 정리","name":"[KR] 머신러닝 파이프라인 개념 정리","description":"어떠한 일련의 작업들을 순서대로 묶어 위험요소나 외부의 개입을 최소화하고 자동으로 실행하고자 할 때 파이프라인을 구축한다.\n파이프라인의 개념이 적용되지 않은 머신러닝 프로젝트는 결과물을 얻기 위한 과정의 자동화와 재사용성이 확보되지 않기 때문에 일회성 PoC에 그칠 가능성이 높다. …","keywords":["mlops","machine learning operation","machine learning"],"articleBody":"어떠한 일련의 작업들을 순서대로 묶어 위험요소나 외부의 개입을 최소화하고 자동으로 실행하고자 할 때 파이프라인을 구축한다.\n파이프라인의 개념이 적용되지 않은 머신러닝 프로젝트는 결과물을 얻기 위한 과정의 자동화와 재사용성이 확보되지 않기 때문에 일회성 PoC에 그칠 가능성이 높다.\n머신러닝 파이프라인이라는 개념은 머신러닝 모델을 학습하고, 재사용하며, 필요한 자원들을 관리하고 배포하는 일련의 과정을 표준화하고 자동으로 동작할 수 있도록 하기 위해 논의 되기 시작했다.\nDAG 파이프라인은 대개 DAG(Directed acyclic graph: 방향성 비순환 그래프)의 형태를 띄고 있다. 이름에서 알 수 있듯이, DAG는 방향을 가지되, 루프는 존재하지 않아, 그래프의 시작과 종료가 이루어지는 시점이 명확하기에 파이프라인을 구성하는데 적절한 구조이다.\n   DAG의 예시\n  DAG의 형태를 띈 머신러닝 파이프라인을 구성하는 요소에는 컴포넌트(component)와 아티팩트(artifact)가 있다.\n머신러닝 파이프라인의 요소 머신러닝 파이프라인에는 각각의 작업을 하는 컴포넌트와, 컴포넌트의 결과물이자 다음 작업에 사용되는 아티팩트가 있다.\n      머신러닝 파이프라인에서의 컴포넌트와 아티팩트\n  컴포넌트 (Component)  컴포넌트는 각각의 독립되고 재사용이 가능한 모듈로서 입력을 받아 어떠한 처리나 연산을 거쳐 결과값을 출력한다. 스크립트, 노트북 또는 다른 실행 가능한 형태의 코드가 될 수 있다. 예) 데이터 검증, 데이터 전처리, 학습, 평가, 추론 등  아티팩트 (Artifact)  아티팩트는 컴포넌트의 산출물로서, 파일이나 경로가 될 수 있다. 아티팩트는 다른 컴포넌트의 입력값의 역할을 하며, 컴포넌트와 컴포넌트 사이를 잇는 역할을 할 수 있다. 아티팩트는 저장된 경로와 그 버전이 꼭 관리가 되어야 한다. 예) 데이터, 모델, 피쳐 등   머신러닝 파이프라인의 단계 머신러닝 파이프라인에도, 구현하고자 하는 기능과 재사용성, 자동화 여부 등에 따라 파이프라인의 성숙도 즉, 수준이 구별된다.\n   Level 0 모델을 위한 갖가지 학습을 반복적으로 진행하고, 특정한 성능 지표의 달성을 최우선으로 한다. 주로 노트북이나 개별로 실행하는 스크립트의 형태를 띄고 있으며, 재사용성은 매우 낮다. 따라서 프로덕션 용도로 사용되지 않는다.\n주로 사이드프로젝트나, 새로운 기술을 익히기 위한 용도로 사용되며, 캐글 대회나 연구, PoC 등을 진행할 때 주로 보인다.\n즉, 파이프라인으로서의 역할과 그 효과가 매우 미미하거나 없는 형태인 수준이라고 할 수 있다.\nLevel 1 데이터 처리와 학습, 성능 평가, 추론 등의 단계가 컴포넌트로 독립되어 있으며 각각의 산출물은 아티팩트로서 저장된다. 따라서 재학습이 용이하며, 각 실험결과 또한 기록된다.\n프로덕션 상태에서도 모니터링이 이루어지며, 추론 속도, 재학습 속도 등의 성능 또한 중요한 지표로 기록된다.\n레벨 1의 파이프라인은 최소한의 작업단위들을 모듈로서 표준화 하고 빠르게 프로덕션 환경을 프로토타이핑 하는데 용이하며, 재학습을 가능케 한다. 또한, 이러한 형태의 파이프라인은 업무의 공유나, 인수인계 상황에서 복잡한 과정을 피할 수 있다.\nLevel 2 레벨 2의 파이프라인은 CI/CD(Continuous Integration and Continuous Deployment)와 더불어 CT(Continuous Training)의 요소까지 접목된 수준을 나타낸다.\nCI/CD/CT가 접목된 파이프라인은 모델의 개선과 프로덕션의 수정을 용이하게 하고, 개선된 파이프라인과 기존 파이프라인의 A/B테스팅이 용이해진다. 또한 공백없는 배포를 자동으로 수행하기 때문에, 결과적으로 협업을 통한 제품의 개선과 반영 속도를 훨씬 빠르고 안전하게 할 수 있다.\n 마무리하며 이번에는 MLOps 에 대해 공부하며, 머신러닝 파이프라인에 대한 개념과 수행 기능, 요건 등을 정리해보았다. 현재 머신러닝 파이프라인을 구축하는데 사용되는 툴이나 라이브러리는 너무나 다양하게 포진되어 있기에, 어떠한 특정 툴을 사용하는 것보다는, 파이프라인을 구축하는데 무엇이 필요하고 어떤 기능이 꼭 구현되어야 하는지를 제대로 파악한 뒤, 필요에 따른 적합한 도구를 사용하는 것이 매우 중요하다고 판단된다.\nReference  Udacity: Machine Learning DevOps Engineer  ","wordCount":"451","inLanguage":"en","datePublished":"2022-06-12T08:34:26+09:00","dateModified":"2022-06-12T08:34:26+09:00","author":{"@type":"Person","name":"Wonyoung Seo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wonyoungseo.github.io/posts/2022-06-12-intro-ml-pipeline/"},"publisher":{"@type":"Organization","name":"Wonyoung's Tech Blog","logo":{"@type":"ImageObject","url":"https://wonyoungseo.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://wonyoungseo.github.io/ accesskey=h title="Tech Blog (Alt + H)">Tech Blog</a>
<span class=logo-switches><a id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://wonyoungseo.github.io/archives/ title=posts><span>posts</span></a></li><li><a href=https://wonyoungseo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://wonyoungseo.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wonyoungseo.github.io/about/ title=about><span>about</span></a></li><li><a href=https://wonyoungseo.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[KR] 머신러닝 파이프라인 개념 정리</h1><div class=post-meta>June 12, 2022&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Wonyoung Seo</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><ul><li><a href=#dag aria-label=DAG>DAG</a></li><li><a href=#%eb%a8%b8%ec%8b%a0%eb%9f%ac%eb%8b%9d-%ed%8c%8c%ec%9d%b4%ed%94%84%eb%9d%bc%ec%9d%b8%ec%9d%98-%ec%9a%94%ec%86%8c aria-label="머신러닝 파이프라인의 요소">머신러닝 파이프라인의 요소</a><ul><li><a href=#%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8-component aria-label="컴포넌트 (Component)">컴포넌트 (Component)</a></li><li><a href=#%ec%95%84%ed%8b%b0%ed%8c%a9%ed%8a%b8-artifact aria-label="아티팩트 (Artifact)">아티팩트 (Artifact)</a></li></ul></li></ul><li><a href=#%eb%a8%b8%ec%8b%a0%eb%9f%ac%eb%8b%9d-%ed%8c%8c%ec%9d%b4%ed%94%84%eb%9d%bc%ec%9d%b8%ec%9d%98-%eb%8b%a8%ea%b3%84 aria-label="머신러닝 파이프라인의 단계">머신러닝 파이프라인의 단계</a><ul><li><a href=#level-0 aria-label="Level 0">Level 0</a></li><li><a href=#level-1 aria-label="Level 1">Level 1</a></li><li><a href=#level-2 aria-label="Level 2">Level 2</a></li></ul></li><li><a href=#%eb%a7%88%eb%ac%b4%eb%a6%ac%ed%95%98%eb%a9%b0 aria-label=마무리하며>마무리하며</a></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><p>어떠한 일련의 작업들을 순서대로 묶어 위험요소나 외부의 개입을 최소화하고 자동으로 실행하고자 할 때 파이프라인을 구축한다.</p><p>파이프라인의 개념이 적용되지 않은 머신러닝 프로젝트는 결과물을 얻기 위한 과정의 자동화와 재사용성이 확보되지 않기 때문에 일회성 PoC에 그칠 가능성이 높다.</p><p>머신러닝 파이프라인이라는 개념은 머신러닝 모델을 학습하고, 재사용하며, 필요한 자원들을 관리하고 배포하는 일련의 과정을 표준화하고 자동으로 동작할 수 있도록 하기 위해 논의 되기 시작했다.</p><h2 id=dag>DAG<a hidden class=anchor aria-hidden=true href=#dag>#</a></h2><p>파이프라인은 대개 DAG(Directed acyclic graph: 방향성 비순환 그래프)의 형태를 띄고 있다. 이름에서 알 수 있듯이, DAG는 방향을 가지되, 루프는 존재하지 않아, 그래프의 시작과 종료가 이루어지는 시점이 명확하기에 파이프라인을 구성하는데 적절한 구조이다.</p><figure><center><img src=/2022-06-12-intro-ml-pipeline/1.png alt="DAG의 예시"></center> <center><figcaption><p>DAG의 예시</p></figcaption></center></figure><p>DAG의 형태를 띈 머신러닝 파이프라인을 구성하는 요소에는 컴포넌트(component)와 아티팩트(artifact)가 있다.</p><h2 id=머신러닝-파이프라인의-요소>머신러닝 파이프라인의 요소<a hidden class=anchor aria-hidden=true href=#머신러닝-파이프라인의-요소>#</a></h2><p>머신러닝 파이프라인에는 각각의 작업을 하는 컴포넌트와, 컴포넌트의 결과물이자 다음 작업에 사용되는 아티팩트가 있다.</p><figure><center><img src=/2022-06-12-intro-ml-pipeline/2.png></center></figure><figure><center><img src=/2022-06-12-intro-ml-pipeline/3.png alt="머신러닝 파이프라인에서의 컴포넌트와 아티팩트"></center> <center><figcaption><p>머신러닝 파이프라인에서의 컴포넌트와 아티팩트</p></figcaption></center></figure><h3 id=컴포넌트-component>컴포넌트 (Component)<a hidden class=anchor aria-hidden=true href=#컴포넌트-component>#</a></h3><ul><li>컴포넌트는 각각의 독립되고 재사용이 가능한 모듈로서 입력을 받아 어떠한 처리나 연산을 거쳐 결과값을 출력한다.</li><li>스크립트, 노트북 또는 다른 실행 가능한 형태의 코드가 될 수 있다.</li><li>예) 데이터 검증, 데이터 전처리, 학습, 평가, 추론 등</li></ul><h3 id=아티팩트-artifact>아티팩트 (Artifact)<a hidden class=anchor aria-hidden=true href=#아티팩트-artifact>#</a></h3><ul><li>아티팩트는 컴포넌트의 산출물로서, 파일이나 경로가 될 수 있다.</li><li>아티팩트는 다른 컴포넌트의 입력값의 역할을 하며, 컴포넌트와 컴포넌트 사이를 잇는 역할을 할 수 있다.</li><li>아티팩트는 저장된 경로와 그 버전이 꼭 관리가 되어야 한다.</li><li>예) 데이터, 모델, 피쳐 등</li></ul><hr><h1 id=머신러닝-파이프라인의-단계>머신러닝 파이프라인의 단계<a hidden class=anchor aria-hidden=true href=#머신러닝-파이프라인의-단계>#</a></h1><p>머신러닝 파이프라인에도, 구현하고자 하는 기능과 재사용성, 자동화 여부 등에 따라 파이프라인의 성숙도 즉, 수준이 구별된다.</p><figure><center><img src=/2022-06-12-intro-ml-pipeline/4.png></center></figure><h2 id=level-0>Level 0<a hidden class=anchor aria-hidden=true href=#level-0>#</a></h2><p>모델을 위한 갖가지 학습을 반복적으로 진행하고, 특정한 성능 지표의 달성을 최우선으로 한다. 주로 노트북이나 개별로 실행하는 스크립트의 형태를 띄고 있으며, 재사용성은 매우 낮다. 따라서 프로덕션 용도로 사용되지 않는다.</p><p>주로 사이드프로젝트나, 새로운 기술을 익히기 위한 용도로 사용되며, 캐글 대회나 연구, PoC 등을 진행할 때 주로 보인다.</p><p>즉, 파이프라인으로서의 역할과 그 효과가 매우 미미하거나 없는 형태인 수준이라고 할 수 있다.</p><h2 id=level-1>Level 1<a hidden class=anchor aria-hidden=true href=#level-1>#</a></h2><p>데이터 처리와 학습, 성능 평가, 추론 등의 단계가 컴포넌트로 독립되어 있으며 각각의 산출물은 아티팩트로서 저장된다. 따라서 재학습이 용이하며, 각 실험결과 또한 기록된다.</p><p>프로덕션 상태에서도 모니터링이 이루어지며, 추론 속도, 재학습 속도 등의 성능 또한 중요한 지표로 기록된다.</p><p>레벨 1의 파이프라인은 최소한의 작업단위들을 모듈로서 표준화 하고 빠르게 프로덕션 환경을 프로토타이핑 하는데 용이하며, 재학습을 가능케 한다. 또한, 이러한 형태의 파이프라인은 업무의 공유나, 인수인계 상황에서 복잡한 과정을 피할 수 있다.</p><h2 id=level-2>Level 2<a hidden class=anchor aria-hidden=true href=#level-2>#</a></h2><p>레벨 2의 파이프라인은 CI/CD(Continuous Integration and Continuous Deployment)와 더불어 CT(Continuous Training)의 요소까지 접목된 수준을 나타낸다.</p><p>CI/CD/CT가 접목된 파이프라인은 모델의 개선과 프로덕션의 수정을 용이하게 하고, 개선된 파이프라인과 기존 파이프라인의 A/B테스팅이 용이해진다. 또한 공백없는 배포를 자동으로 수행하기 때문에, 결과적으로 협업을 통한 제품의 개선과 반영 속도를 훨씬 빠르고 안전하게 할 수 있다.</p><hr><h1 id=마무리하며>마무리하며<a hidden class=anchor aria-hidden=true href=#마무리하며>#</a></h1><p>이번에는 MLOps 에 대해 공부하며, 머신러닝 파이프라인에 대한 개념과 수행 기능, 요건 등을 정리해보았다. 현재 머신러닝 파이프라인을 구축하는데 사용되는 툴이나 라이브러리는 너무나 다양하게 포진되어 있기에, 어떠한 특정 툴을 사용하는 것보다는, 파이프라인을 구축하는데 무엇이 필요하고 어떤 기능이 꼭 구현되어야 하는지를 제대로 파악한 뒤, 필요에 따른 적합한 도구를 사용하는 것이 매우 중요하다고 판단된다.</p><h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li>Udacity: Machine Learning DevOps Engineer</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://wonyoungseo.github.io/tags/mlops/>mlops</a></li><li><a href=https://wonyoungseo.github.io/tags/machine-learning-operation/>machine learning operation</a></li><li><a href=https://wonyoungseo.github.io/tags/machine-learning/>machine learning</a></li></ul></footer></article></main><footer class=footer><span>© Wonyoung Seo 2023</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>